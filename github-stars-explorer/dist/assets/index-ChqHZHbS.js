var Af=Object.defineProperty;var Ef=(e,t,n)=>t in e?Af(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ts=(e,t,n)=>Ef(e,typeof t!="symbol"?t+"":t,n);import{r as Tc,g as Ra,a as If}from"./vendor-BtP0CW_r.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ns={exports:{}},An={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lo;function jf(){if(Lo)return An;Lo=1;var e=Tc(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(o,l,c){var d,u={},m=null,f=null;c!==void 0&&(m=""+c),l.key!==void 0&&(m=""+l.key),l.ref!==void 0&&(f=l.ref);for(d in l)r.call(l,d)&&!s.hasOwnProperty(d)&&(u[d]=l[d]);if(o&&o.defaultProps)for(d in l=o.defaultProps,l)u[d]===void 0&&(u[d]=l[d]);return{$$typeof:t,type:o,key:m,ref:f,props:u,_owner:i.current}}return An.Fragment=n,An.jsx=a,An.jsxs=a,An}var $o;function Nf(){return $o||($o=1,ns.exports=jf()),ns.exports}var h=Nf(),z=Tc();const Mc=Ra(z);var Ir={},Oo;function Rf(){if(Oo)return Ir;Oo=1;var e=If();return Ir.createRoot=e.createRoot,Ir.hydrateRoot=e.hydrateRoot,Ir}var Pf=Rf();const Tf=e=>e instanceof Error?e.message+`
`+e.stack:JSON.stringify(e,null,2);class Mf extends Mc.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}render(){return this.state.hasError?h.jsxs("div",{className:"p-4 border border-red-500 rounded",children:[h.jsx("h2",{className:"text-red-500",children:"Something went wrong."}),h.jsx("pre",{className:"mt-2 text-sm",children:Tf(this.state.error)})]}):this.props.children}}/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Lf={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=(e,t)=>{const n=z.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,...c},d)=>z.createElement("svg",{ref:d,...Lf,width:i,height:i,stroke:r,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${$f(e)}`,o].join(" "),...c},[...t.map(([u,m])=>z.createElement(u,m)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=le("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lc=le("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=le("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=le("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=le("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=le("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=le("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=le("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=le("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=le("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=le("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=le("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=le("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=le("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=le("GitFork",[["circle",{cx:"12",cy:"18",r:"3",key:"1mpf1b"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["path",{d:"M18 9v2c0 .6-.4 1-1 1H7c-.6 0-1-.4-1-1V9",key:"1uq4wg"}],["path",{d:"M12 12v3",key:"158kv8"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=le("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=le("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=le("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=le("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=le("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=le("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=le("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=le("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=le("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=le("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=le("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=le("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=le("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),zc=z.createContext(void 0);function Zf({children:e}){const[t,n]=z.useState(()=>{const i=localStorage.getItem("github-stars-theme");return i||(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});z.useEffect(()=>{const i=window.document.documentElement;i.classList.remove("light","dark"),i.classList.add(t),localStorage.setItem("github-stars-theme",t)},[t]);const r=()=>{n(i=>i==="light"?"dark":"light")};return h.jsx(zc.Provider,{value:{theme:t,toggleTheme:r},children:e})}function em(){const e=z.useContext(zc);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}function qc(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=qc(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function tm(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=qc(e))&&(r&&(r+=" "),r+=t);return r}const Ma="-",nm=e=>{const t=im(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const o=a.split(Ma);return o[0]===""&&o.length!==1&&o.shift(),Uc(o,t)||rm(a)},getConflictingClassGroupIds:(a,o)=>{const l=n[a]||[];return o&&r[a]?[...l,...r[a]]:l}}},Uc=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?Uc(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(Ma);return(a=t.validators.find(({validator:o})=>o(s)))==null?void 0:a.classGroupId},Do=/^\[(.+)\]$/,rm=e=>{if(Do.test(e)){const t=Do.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},im=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return am(Object.entries(e.classGroups),n).forEach(([s,a])=>{Hs(a,r,s,t)}),r},Hs=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:Bo(t,i);s.classGroupId=n;return}if(typeof i=="function"){if(sm(i)){Hs(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,a])=>{Hs(a,Bo(t,s),n,r)})})},Bo=(e,t)=>{let n=e;return t.split(Ma).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},sm=e=>e.isThemeGetter,am=(e,t)=>t?e.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,o])=>[t+a,o])):s);return[n,i]}):e,om=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(s,a)=>{n.set(s,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set(s,a){n.has(s)?n.set(s,a):i(s,a)}}},Wc="!",lm=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],s=t.length,a=o=>{const l=[];let c=0,d=0,u;for(let w=0;w<o.length;w++){let x=o[w];if(c===0){if(x===i&&(r||o.slice(w,w+s)===t)){l.push(o.slice(d,w)),d=w+s;continue}if(x==="/"){u=w;continue}}x==="["?c++:x==="]"&&c--}const m=l.length===0?o:o.substring(d),f=m.startsWith(Wc),p=f?m.substring(1):m,y=u&&u>d?u-d:void 0;return{modifiers:l,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:y}};return n?o=>n({className:o,parseClassName:a}):a},cm=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},um=e=>({cache:om(e.cacheSize),parseClassName:lm(e),...nm(e)}),dm=/\s+/,hm=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,s=[],a=e.trim().split(dm);let o="";for(let l=a.length-1;l>=0;l-=1){const c=a[l],{modifiers:d,hasImportantModifier:u,baseClassName:m,maybePostfixModifierPosition:f}=n(c);let p=!!f,y=r(p?m.substring(0,f):m);if(!y){if(!p){o=c+(o.length>0?" "+o:o);continue}if(y=r(m),!y){o=c+(o.length>0?" "+o:o);continue}p=!1}const w=cm(d).join(":"),x=u?w+Wc:w,S=x+y;if(s.includes(S))continue;s.push(S);const v=i(y,p);for(let E=0;E<v.length;++E){const $=v[E];s.push(x+$)}o=c+(o.length>0?" "+o:o)}return o};function fm(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Hc(t))&&(r&&(r+=" "),r+=n);return r}const Hc=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Hc(e[r]))&&(n&&(n+=" "),n+=t);return n};function mm(e,...t){let n,r,i,s=a;function a(l){const c=t.reduce((d,u)=>u(d),e());return n=um(c),r=n.cache.get,i=n.cache.set,s=o,o(l)}function o(l){const c=r(l);if(c)return c;const d=hm(l,n);return i(l,d),d}return function(){return s(fm.apply(null,arguments))}}const me=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Vc=/^\[(?:([a-z-]+):)?(.+)\]$/i,pm=/^\d+\/\d+$/,gm=new Set(["px","full","screen"]),ym=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,xm=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,bm=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,wm=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,km=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,yt=e=>dn(e)||gm.has(e)||pm.test(e),Ct=e=>yn(e,"length",jm),dn=e=>!!e&&!Number.isNaN(Number(e)),rs=e=>yn(e,"number",dn),En=e=>!!e&&Number.isInteger(Number(e)),_m=e=>e.endsWith("%")&&dn(e.slice(0,-1)),Q=e=>Vc.test(e),At=e=>ym.test(e),Sm=new Set(["length","size","percentage"]),vm=e=>yn(e,Sm,Gc),Cm=e=>yn(e,"position",Gc),Am=new Set(["image","url"]),Em=e=>yn(e,Am,Rm),Im=e=>yn(e,"",Nm),In=()=>!0,yn=(e,t,n)=>{const r=Vc.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},jm=e=>xm.test(e)&&!bm.test(e),Gc=()=>!1,Nm=e=>wm.test(e),Rm=e=>km.test(e),Pm=()=>{const e=me("colors"),t=me("spacing"),n=me("blur"),r=me("brightness"),i=me("borderColor"),s=me("borderRadius"),a=me("borderSpacing"),o=me("borderWidth"),l=me("contrast"),c=me("grayscale"),d=me("hueRotate"),u=me("invert"),m=me("gap"),f=me("gradientColorStops"),p=me("gradientColorStopPositions"),y=me("inset"),w=me("margin"),x=me("opacity"),S=me("padding"),v=me("saturate"),E=me("scale"),$=me("sepia"),_=me("skew"),M=me("space"),D=me("translate"),F=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto",Q,t],N=()=>[Q,t],U=()=>["",yt,Ct],L=()=>["auto",dn,Q],T=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],X=()=>["solid","dashed","dotted","double","none"],ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],we=()=>["start","end","center","between","around","evenly","stretch"],pe=()=>["","0",Q],b=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>[dn,Q];return{cacheSize:500,separator:":",theme:{colors:[In],spacing:[yt,Ct],blur:["none","",At,Q],brightness:K(),borderColor:[e],borderRadius:["none","","full",At,Q],borderSpacing:N(),borderWidth:U(),contrast:K(),grayscale:pe(),hueRotate:K(),invert:pe(),gap:N(),gradientColorStops:[e],gradientColorStopPositions:[_m,Ct],inset:j(),margin:j(),opacity:K(),padding:N(),saturate:K(),scale:K(),sepia:pe(),skew:K(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",Q]}],container:["container"],columns:[{columns:[At]}],"break-after":[{"break-after":b()}],"break-before":[{"break-before":b()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...T(),Q]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",En,Q]}],basis:[{basis:j()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Q]}],grow:[{grow:pe()}],shrink:[{shrink:pe()}],order:[{order:["first","last","none",En,Q]}],"grid-cols":[{"grid-cols":[In]}],"col-start-end":[{col:["auto",{span:["full",En,Q]},Q]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[In]}],"row-start-end":[{row:["auto",{span:[En,Q]},Q]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Q]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Q]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...we()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...we(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...we(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[S]}],px:[{px:[S]}],py:[{py:[S]}],ps:[{ps:[S]}],pe:[{pe:[S]}],pt:[{pt:[S]}],pr:[{pr:[S]}],pb:[{pb:[S]}],pl:[{pl:[S]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[M]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[M]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Q,t]}],"min-w":[{"min-w":[Q,t,"min","max","fit"]}],"max-w":[{"max-w":[Q,t,"none","full","min","max","fit","prose",{screen:[At]},At]}],h:[{h:[Q,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Q,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Q,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Q,t,"auto","min","max","fit"]}],"font-size":[{text:["base",At,Ct]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",rs]}],"font-family":[{font:[In]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Q]}],"line-clamp":[{"line-clamp":["none",dn,rs]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",yt,Q]}],"list-image":[{"list-image":["none",Q]}],"list-style-type":[{list:["none","disc","decimal",Q]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",yt,Ct]}],"underline-offset":[{"underline-offset":["auto",yt,Q]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Q]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Q]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...T(),Cm]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",vm]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Em]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...X(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:X()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...X()]}],"outline-offset":[{"outline-offset":[yt,Q]}],"outline-w":[{outline:[yt,Ct]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[yt,Ct]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",At,Im]}],"shadow-color":[{shadow:[In]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...ce(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ce()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",At,Q]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[u]}],saturate:[{saturate:[v]}],sepia:[{sepia:[$]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[$]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Q]}],duration:[{duration:K()}],ease:[{ease:["linear","in","out","in-out",Q]}],delay:[{delay:K()}],animate:[{animate:["none","spin","ping","pulse","bounce",Q]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[En,Q]}],"translate-x":[{"translate-x":[D]}],"translate-y":[{"translate-y":[D]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Q]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Q]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Q]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[yt,Ct,rs]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Tm=mm(Pm),Mm={"AI/ML":["ai","artificial-intelligence","machine-learning","deep-learning","neural-networks","tensorflow","pytorch","keras","openai","llm","nlp","computer-vision","gpt","bert","transformers","data-science","analytics","scikit-learn","pandas","numpy","jupyter","notebook"],"Web Development":["javascript","typescript","react","vue","angular","nextjs","nuxt","svelte","nodejs","express","web","frontend","backend","fullstack","css","html","sass","less","webpack","vite","parcel","tailwind","bootstrap","material-ui","ant-design","chakra-ui","styled-components"],Security:["security","cybersecurity","encryption","authentication","authorization","oauth","jwt","cors","csrf","xss","sql-injection","penetration-testing","vulnerability","malware","firewall","vpn","ssl","https","pentest"],DevOps:["devops","docker","kubernetes","k8s","terraform","ansible","jenkins","github-actions","gitlab-ci","ci-cd","deployment","monitoring","prometheus","grafana","elk","logging","metrics","infrastructure","automation","orchestration","microservices"],"Mobile Development":["mobile","ios","android","react-native","flutter","xamarin","ionic","swift","kotlin","java","objective-c","dart","app-store","google-play"],"Data Science":["data-science","big-data","analytics","statistics","visualization","d3","plotly","matplotlib","seaborn","tableau","powerbi","hadoop","spark","kafka","elasticsearch","mongodb","postgresql","mysql"],"Game Development":["game","gaming","unity","unreal","godot","phaser","threejs","webgl","opengl","directx","vulkan","game-engine","2d","3d"],"Tools & Utilities":["cli","command-line","utility","tools","productivity","automation","scripts","macros","extensions","plugins","bundler","linter","formatter"]},Kc={JavaScript:"#f7df1e",TypeScript:"#3178c6",Python:"#3776ab",Go:"#00add8",Rust:"#ce422b",Java:"#f89820",Kotlin:"#7f52ff",Swift:"#fa7343",PHP:"#777bb4",Ruby:"#cc342d",C:"#555555","C++":"#f34b7d","C#":"#178600",Dart:"#0175c2",HTML:"#e34f26",CSS:"#1572b6",SCSS:"#c6538c",Sass:"#a53b70",Vue:"#4fc08d",React:"#61dafb",Angular:"#dd0031",Svelte:"#ff3e00",Nodejs:"#68a063",Shell:"#89e051"};class mn{static async fetchUserStars(t){const n=[];let r=1;try{if(!(await fetch(`${this.BASE_URL}/users/${t}`)).ok)throw new Error(`User "${t}" not found`);for(;;){const s=await fetch(`${this.BASE_URL}/users/${t}/starred?per_page=${this.REPO_PER_PAGE}&page=${r}`,{headers:{Accept:"application/vnd.github.v3+json"}});if(!s.ok){if(s.status===422)break;throw new Error(`Failed to fetch repositories: ${s.statusText}`)}const a=await s.json();if(a.length===0||(n.push(...a),r++,a.length<this.REPO_PER_PAGE))break}return n}catch(i){throw i instanceof Error?i:new Error("Failed to fetch starred repositories")}}static extractUsername(t){const n=t.match(/github\.com\/([^\/\s]+)/);return n?n[1]:t.trim().replace(/^@/,"")}static calculateQualityScore(t){const n=t.stargazers_count,r=t.forks_count,i=new Date,s=new Date(t.updated_at),a=Math.max(1,(i.getTime()-s.getTime())/(1e3*60*60*24)),o=Math.min(4,Math.log10(n+1)),l=Math.min(2,Math.log10(r+1)*.5);let c=0;a<30?c=2:a<90?c=1.5:a<365?c=1:a<730&&(c=.5);const d=t.description?1:0,u=t.topics&&t.topics.length>2?1:0;return Math.min(10,Math.max(1,o+l+c+d+u))}static categorizeRepository(t){const n=[],r=t.topics||[],i=t.name.toLowerCase(),s=(t.description||"").toLowerCase(),a=(t.language||"").toLowerCase(),o=`${i} ${s} ${r.join(" ")} ${a}`.toLowerCase();for(const[l,c]of Object.entries(Mm))c.some(d=>o.includes(d))&&n.push(l);return n.length===0&&(["javascript","typescript","html","css"].includes(a)?n.push("Web Development"):["python","r","scala"].includes(a)&&n.push("Data Science")),n.length>0?n:["Other"]}}ts(mn,"BASE_URL","https://api.github.com"),ts(mn,"REPO_PER_PAGE",100);function fe(...e){return Tm(tm(e))}function hr(e){return e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString()}function Jc(e){const t=new Date(e),r=Math.abs(new Date().getTime()-t.getTime()),i=Math.ceil(r/(1e3*60*60*24));if(i===1)return"1 day ago";if(i<7)return`${i} days ago`;if(i<30){const s=Math.floor(i/7);return`${s} week${s===1?"":"s"} ago`}else if(i<365){const s=Math.floor(i/30);return`${s} month${s===1?"":"s"} ago`}else{const s=Math.floor(i/365);return`${s} year${s===1?"":"s"} ago`}}function Xc(e){return e>=8?"bg-success/10 text-success":e>=4?"bg-warning/10 text-warning":"bg-error/10 text-error"}function Lm(e,t){const n=[...e];switch(t){case"name":return n.sort((r,i)=>r.name.localeCompare(i.name));case"stars":return n.sort((r,i)=>i.stargazers_count-r.stargazers_count);case"updated":return n.sort((r,i)=>new Date(i.updated_at).getTime()-new Date(r.updated_at).getTime());case"quality":return n.sort((r,i)=>i.qualityScore-r.qualityScore);default:return n}}function $m(e,t){return e.filter(n=>{if(t.search){const r=t.search.toLowerCase();if(!(n.name.toLowerCase().includes(r)||n.description&&n.description.toLowerCase().includes(r)||n.topics.some(s=>s.toLowerCase().includes(r))))return!1}return!(t.categories&&t.categories.length>0&&!t.categories.some(i=>n.categories.includes(i))||t.languages&&t.languages.length>0&&(!n.language||!t.languages.includes(n.language))||t.qualityMin!==void 0&&n.qualityScore<t.qualityMin||t.qualityMax!==void 0&&n.qualityScore>t.qualityMax)})}function Om(e){return e.map(t=>{const n=mn.calculateQualityScore(t),r=mn.categorizeRepository(t);return{...t,qualityScore:n,categories:r}})}function Fm(e,t){let n;return(...r)=>{clearTimeout(n),n=setTimeout(()=>e(...r),t)}}function Dm({onAPIKeyClick:e,hasAPIKey:t}){const{theme:n,toggleTheme:r}=em();return h.jsx("header",{className:"sticky top-0 z-50 bg-white dark:bg-neutral-900 border-b border-neutral-200 dark:border-neutral-700",children:h.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"flex items-center justify-between h-16 sm:h-18",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"w-8 h-8 bg-primary-500 rounded-lg flex items-center justify-center",children:h.jsx("span",{className:"text-white font-bold text-lg",children:"G"})}),h.jsx("h1",{className:"text-xl sm:text-2xl font-semibold text-neutral-900 dark:text-neutral-100",children:"GitHub Stars Explorer"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[e&&h.jsxs("button",{onClick:e,className:fe("flex items-center gap-2 px-3 py-2 rounded-lg transition-all duration-300","hover:bg-neutral-100 dark:hover:bg-neutral-800","focus:outline-none focus:ring-2 focus:ring-primary-500",t&&"bg-green-50 dark:bg-green-900/20"),"aria-label":"Manage API Key",children:[h.jsx(Gf,{className:fe("w-5 h-5",t?"text-green-600 dark:text-green-400":"text-neutral-700 dark:text-neutral-300")}),h.jsx("span",{className:"hidden sm:inline text-sm font-medium text-neutral-700 dark:text-neutral-300",children:"API Key"})]}),h.jsx("button",{onClick:r,className:fe("p-2 rounded-lg transition-all duration-300","hover:bg-neutral-100 dark:hover:bg-neutral-800","focus:outline-none focus:ring-2 focus:ring-primary-500"),"aria-label":"Toggle theme",children:n==="light"?h.jsx(Kf,{className:"w-5 h-5 text-neutral-700 dark:text-neutral-300"}):h.jsx(Xf,{className:"w-5 h-5 text-neutral-700 dark:text-neutral-300"})})]})]})})})}function Bm({onSearch:e,isLoading:t,error:n}){const[r,i]=z.useState(""),s=o=>{o.preventDefault(),r.trim()&&e(r.trim())},a=()=>{const o="Alot1z";i(o),e(o)};return h.jsx("section",{className:"bg-neutral-50 dark:bg-neutral-900 py-16 sm:py-20 lg:py-24",children:h.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[h.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-neutral-900 dark:text-neutral-100 mb-6",children:["Explore Your",h.jsx("span",{className:"text-primary-500 dark:text-primary-400",children:" GitHub Stars"})]}),h.jsx("p",{className:"text-lg sm:text-xl text-neutral-700 dark:text-neutral-300 mb-12 max-w-2xl mx-auto",children:"Transform your chaotic starred repositories into an organized, searchable interface with smart categorization and quality scoring."}),h.jsxs("form",{onSubmit:s,className:"mb-8",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 max-w-2xl mx-auto",children:[h.jsxs("div",{className:"relative flex-1",children:[h.jsx(gi,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-neutral-500 dark:text-neutral-400"}),h.jsx("input",{type:"text",value:r,onChange:o=>i(o.target.value),placeholder:"Enter GitHub username (e.g., octocat) or paste full URL",className:fe("w-full pl-12 pr-4 py-4 text-lg","border-2 rounded-xl transition-all duration-300","bg-white dark:bg-neutral-800","border-neutral-200 dark:border-neutral-600","focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500","placeholder-neutral-500 dark:placeholder-neutral-400","text-neutral-900 dark:text-neutral-100"),disabled:t})]}),h.jsx("button",{type:"submit",disabled:!r.trim()||t,className:fe("px-8 py-4 text-lg font-semibold rounded-xl transition-all duration-300","bg-primary-500 hover:bg-primary-600 dark:bg-primary-600 dark:hover:bg-primary-700","text-white","disabled:opacity-50 disabled:cursor-not-allowed","focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2","flex items-center justify-center space-x-2"),children:t?h.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):h.jsxs(h.Fragment,{children:[h.jsx(gi,{className:"w-5 h-5"}),h.jsx("span",{children:"Explore"})]})})]}),n&&h.jsx("p",{className:"text-error text-sm mt-4 max-w-2xl mx-auto",children:n})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 text-sm text-neutral-600 dark:text-neutral-400",children:[h.jsx("span",{children:"Try it with:"}),h.jsxs("button",{onClick:a,className:"flex items-center space-x-2 text-primary-500 hover:text-primary-600 dark:text-primary-400 dark:hover:text-primary-300 underline underline-offset-4 transition-colors",children:[h.jsx("span",{className:"font-mono",children:"github.com/Alot1z?tab=stars"}),h.jsx(Pa,{className:"w-4 h-4"})]})]}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-8 mt-16 pt-8 border-t border-neutral-200 dark:border-neutral-700",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"w-12 h-12 bg-primary-100 dark:bg-primary-900/20 rounded-lg flex items-center justify-center mx-auto mb-4",children:h.jsx("span",{className:"text-2xl",children:"ðŸŽ¯"})}),h.jsx("h3",{className:"font-semibold text-neutral-900 dark:text-neutral-100 mb-2",children:"Smart Categorization"}),h.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"AI-powered categorization of your repositories by technology and purpose"})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"w-12 h-12 bg-primary-100 dark:bg-primary-900/20 rounded-lg flex items-center justify-center mx-auto mb-4",children:h.jsx("span",{className:"text-2xl",children:"âš¡"})}),h.jsx("h3",{className:"font-semibold text-neutral-900 dark:text-neutral-100 mb-2",children:"Quality Scoring"}),h.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Automatic quality assessment based on stars, activity, and maintenance"})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"w-12 h-12 bg-primary-100 dark:bg-primary-900/20 rounded-lg flex items-center justify-center mx-auto mb-4",children:h.jsx("span",{className:"text-2xl",children:"ðŸ”"})}),h.jsx("h3",{className:"font-semibold text-neutral-900 dark:text-neutral-100 mb-2",children:"Advanced Filtering"}),h.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Find exactly what you need with powerful search and filter options"})]})]})]})})})}function zm({repositories:e,searchTerm:t,onSearchChange:n,selectedCategories:r,onCategoryToggle:i,selectedLanguages:s,onLanguageToggle:a,qualityRange:o,onQualityRangeChange:l,sortBy:c,onSortChange:d,onClearFilters:u}){const m=Array.from(new Set(e.flatMap(x=>Array.isArray(x.categories)?x.categories:[]))).sort(),f=Array.from(new Set(e.map(x=>x.language).filter(Boolean))).sort(),p=Mc.useMemo(()=>Fm(x=>n(x),300),[n]),y=x=>{const S=x.target.value;p(S)},w=r.length>0||s.length>0||o[0]>1||o[1]<10||t.length>0;return h.jsx("div",{className:"sticky top-16 z-40 bg-bg-elevated dark:bg-dark-bg-elevated border-b border-neutral-200 dark:border-dark-neutral-200 shadow-sm",children:h.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-4",children:h.jsxs("div",{className:"flex flex-col space-y-4",children:[h.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(gi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-neutral-500 dark:text-dark-neutral-500"}),h.jsx("input",{type:"text",placeholder:"Search repositories...",defaultValue:t,onChange:y,className:fe("w-full pl-10 pr-4 py-2 text-sm","border border-neutral-200 dark:border-dark-neutral-200","rounded-lg transition-all duration-200","bg-bg-page dark:bg-dark-bg-page","focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500","placeholder-neutral-500 dark:placeholder-dark-neutral-500")})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("span",{className:"text-sm text-neutral-600 dark:text-dark-neutral-600 whitespace-nowrap",children:"Sort by:"}),h.jsxs("select",{value:c,onChange:x=>d(x.target.value),className:fe("px-3 py-2 text-sm border rounded-lg","border-neutral-200 dark:border-dark-neutral-200","bg-bg-page dark:bg-dark-bg-page","focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"),children:[h.jsx("option",{value:"updated",children:"Recently Updated"}),h.jsx("option",{value:"stars",children:"Most Stars"}),h.jsx("option",{value:"quality",children:"Quality Score"}),h.jsx("option",{value:"name",children:"Name (A-Z)"})]})]}),w&&h.jsxs("button",{onClick:u,className:fe("flex items-center space-x-2 px-3 py-2 text-sm","text-neutral-600 dark:text-dark-neutral-600","hover:text-error dark:hover:text-dark-semantic-error","transition-colors"),children:[h.jsx(xr,{className:"w-4 h-4"}),h.jsx("span",{children:"Clear All"})]})]}),h.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[h.jsx(Hf,{className:"w-4 h-4 text-neutral-500 dark:text-dark-neutral-500"}),h.jsx("span",{className:"text-sm font-medium text-neutral-700 dark:text-dark-neutral-700",children:"Categories"})]}),h.jsx("div",{className:"flex flex-wrap gap-2 max-h-20 overflow-y-auto",children:m.map(x=>h.jsx("button",{onClick:()=>i(x),className:fe("px-3 py-1 text-sm rounded-lg transition-all duration-200","border",r.includes(x)?"bg-primary-500 text-white border-primary-500":"bg-bg-page dark:bg-dark-bg-page text-neutral-700 dark:text-dark-neutral-700 border-neutral-200 dark:border-dark-neutral-200 hover:bg-primary-50 dark:hover:bg-dark-primary-50"),children:x},x))})]}),h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"flex items-center space-x-2 mb-2",children:h.jsx("span",{className:"text-sm font-medium text-neutral-700 dark:text-dark-neutral-700",children:"Languages"})}),h.jsxs("div",{className:"flex flex-wrap gap-2 max-h-20 overflow-y-auto",children:[f.slice(0,8).map(x=>h.jsx("button",{onClick:()=>a(x),className:fe("px-3 py-1 text-sm rounded-lg transition-all duration-200","border",s.includes(x)?"bg-primary-500 text-white border-primary-500":"bg-bg-page dark:bg-dark-bg-page text-neutral-700 dark:text-dark-neutral-700 border-neutral-200 dark:border-dark-neutral-200 hover:bg-primary-50 dark:hover:bg-dark-primary-50"),children:x},x)),f.length>8&&h.jsxs("span",{className:"text-xs text-neutral-500 dark:text-dark-neutral-500 px-2 py-1",children:["+",f.length-8," more"]})]})]})]}),h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx("span",{className:"text-sm font-medium text-neutral-700 dark:text-dark-neutral-700 min-w-0",children:"Quality Score:"}),h.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[h.jsx("span",{className:"text-sm text-neutral-500 dark:text-dark-neutral-500",children:o[0]}),h.jsx("input",{type:"range",min:"1",max:"10",step:"0.5",value:o[0],onChange:x=>l([Number(x.target.value),o[1]]),className:"flex-1"}),h.jsx("span",{className:"text-sm text-neutral-500 dark:text-dark-neutral-500",children:o[1]}),h.jsx("input",{type:"range",min:"1",max:"10",step:"0.5",value:o[1],onChange:x=>l([o[0],Number(x.target.value)]),className:"flex-1"})]})]})]})})})}function qm({repositories:e}){const t=e.length,n=e.reduce((u,m)=>u+m.stargazers_count,0),r=new Set(e.map(u=>u.language).filter(Boolean)).size,i=t>0?e.reduce((u,m)=>u+m.qualityScore,0)/t:0,s=e.reduce((u,m)=>(m.language&&(u[m.language]=(u[m.language]||0)+1),u),{}),a=Object.entries(s).sort(([,u],[,m])=>m-u).slice(0,5),o=e.reduce((u,m)=>(Array.isArray(m.categories)&&m.categories.forEach(f=>{u[f]=(u[f]||0)+1}),u),{}),l=Object.entries(o).sort(([,u],[,m])=>m-u).slice(0,5),c={high:e.filter(u=>u.qualityScore>=8).length,medium:e.filter(u=>u.qualityScore>=4&&u.qualityScore<8).length,low:e.filter(u=>u.qualityScore<4).length},d=[{icon:Of,label:"Total Repositories",value:t.toString(),color:"text-primary-500",bgColor:"bg-primary-50 dark:bg-dark-primary-50"},{icon:Ta,label:"Total Stars",value:hr(n),color:"text-warning",bgColor:"bg-warning/10"},{icon:Bf,label:"Languages",value:r.toString(),color:"text-info",bgColor:"bg-info/10"},{icon:Qf,label:"Avg Quality Score",value:i.toFixed(1),color:"text-success",bgColor:"bg-success/10"}];return h.jsx("div",{className:"bg-bg-page dark:bg-dark-bg-page py-8",children:h.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:d.map((u,m)=>{const f=u.icon;return h.jsx("div",{className:fe("bg-bg-surface dark:bg-dark-bg-surface","border border-neutral-200 dark:border-dark-neutral-200","rounded-xl p-6 transition-all duration-300","hover:shadow-md hover:-translate-y-1"),children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-neutral-600 dark:text-dark-neutral-600 mb-1",children:u.label}),h.jsx("p",{className:"text-3xl font-bold text-neutral-900 dark:text-dark-neutral-900",children:u.value})]}),h.jsx("div",{className:fe("w-12 h-12 rounded-lg flex items-center justify-center",u.bgColor),children:h.jsx(f,{className:fe("w-6 h-6",u.color)})})]})},m)})}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[h.jsxs("div",{className:"bg-bg-surface dark:bg-dark-bg-surface border border-neutral-200 dark:border-dark-neutral-200 rounded-xl p-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-dark-neutral-900 mb-4",children:"Top Languages"}),h.jsx("div",{className:"space-y-3",children:a.map(([u,m],f)=>{const p=m/t*100;return h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between items-center mb-1",children:[h.jsx("span",{className:"text-sm font-medium text-neutral-700 dark:text-dark-neutral-700",children:u}),h.jsxs("span",{className:"text-sm text-neutral-500 dark:text-dark-neutral-500",children:[m," repos"]})]}),h.jsx("div",{className:"w-full bg-neutral-200 dark:bg-dark-neutral-200 rounded-full h-2",children:h.jsx("div",{className:"bg-primary-500 h-2 rounded-full transition-all duration-300",style:{width:`${p}%`}})})]},u)})})]}),h.jsxs("div",{className:"bg-bg-surface dark:bg-dark-bg-surface border border-neutral-200 dark:border-dark-neutral-200 rounded-xl p-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-dark-neutral-900 mb-4",children:"Top Categories"}),h.jsx("div",{className:"space-y-3",children:l.map(([u,m],f)=>{const p=m/t*100;return h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between items-center mb-1",children:[h.jsx("span",{className:"text-sm font-medium text-neutral-700 dark:text-dark-neutral-700",children:u}),h.jsxs("span",{className:"text-sm text-neutral-500 dark:text-dark-neutral-500",children:[m," repos"]})]}),h.jsx("div",{className:"w-full bg-neutral-200 dark:bg-dark-neutral-200 rounded-full h-2",children:h.jsx("div",{className:"bg-info h-2 rounded-full transition-all duration-300",style:{width:`${p}%`}})})]},u)})})]}),h.jsxs("div",{className:"bg-bg-surface dark:bg-dark-bg-surface border border-neutral-200 dark:border-dark-neutral-200 rounded-xl p-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-dark-neutral-900 mb-4",children:"Quality Distribution"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("div",{className:"w-3 h-3 bg-success rounded-full"}),h.jsx("span",{className:"text-sm text-neutral-700 dark:text-dark-neutral-700",children:"High Quality (8-10)"})]}),h.jsxs("span",{className:"text-sm font-medium text-neutral-900 dark:text-dark-neutral-900",children:[c.high," repos"]})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("div",{className:"w-3 h-3 bg-warning rounded-full"}),h.jsx("span",{className:"text-sm text-neutral-700 dark:text-dark-neutral-700",children:"Medium Quality (4-7)"})]}),h.jsxs("span",{className:"text-sm font-medium text-neutral-900 dark:text-dark-neutral-900",children:[c.medium," repos"]})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("div",{className:"w-3 h-3 bg-error rounded-full"}),h.jsx("span",{className:"text-sm text-neutral-700 dark:text-dark-neutral-700",children:"Low Quality (1-3)"})]}),h.jsxs("span",{className:"text-sm font-medium text-neutral-900 dark:text-dark-neutral-900",children:[c.low," repos"]})]})]})]})]})]})})}function Um({repository:e,onClick:t,onAnalyze:n,hasAnalysis:r}){const i=e.language?Kc[e.language]:"#6B7280",s=o=>{o.target.closest("button[data-analyze-button]")||t(e)},a=o=>{o.stopPropagation(),n&&n(e)};return h.jsxs("div",{onClick:s,className:fe("group cursor-pointer","bg-bg-surface dark:bg-dark-bg-surface","border border-neutral-200 dark:border-dark-neutral-200","rounded-xl p-6 transition-all duration-300","hover:shadow-lg hover:-translate-y-1 hover:scale-[1.02]","hover:border-primary-100 dark:hover:border-dark-primary-100","focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2"),children:[h.jsxs("div",{className:"flex items-start justify-between mb-3",children:[h.jsx("h3",{className:"text-heading font-semibold text-neutral-900 dark:text-dark-neutral-900 group-hover:text-primary-500 dark:group-hover:text-dark-primary-500 transition-colors line-clamp-1",children:e.name}),h.jsxs("div",{className:"flex items-center space-x-4 text-sm text-neutral-500 dark:text-dark-neutral-500 flex-shrink-0 ml-4",children:[h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx(Ta,{className:"w-4 h-4"}),h.jsx("span",{className:"font-medium",children:hr(e.stargazers_count)})]}),h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx(Fc,{className:"w-4 h-4"}),h.jsx("span",{className:"font-medium",children:hr(e.forks_count)})]})]})]}),e.description&&h.jsx("p",{className:"text-body-lg text-neutral-700 dark:text-dark-neutral-700 mb-4 line-clamp-2",children:e.description}),e.language&&h.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[h.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:i}}),h.jsx("span",{className:"text-sm text-neutral-600 dark:text-dark-neutral-600",children:e.language})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("div",{className:fe("inline-flex items-center px-3 py-1 rounded-full text-xs font-medium",Xc(e.qualityScore)),children:h.jsxs("span",{children:["Quality: ",e.qualityScore.toFixed(1),"/10"]})}),e.categories&&e.categories.length>0&&h.jsxs("div",{className:"flex items-center space-x-1",children:[e.categories.slice(0,2).map(o=>h.jsx("span",{className:"inline-flex items-center px-2 py-1 bg-primary-50 dark:bg-dark-primary-50 text-primary-700 dark:text-dark-primary-700 text-xs font-medium rounded-md",children:o},o)),e.categories.length>2&&h.jsxs("span",{className:"text-xs text-neutral-500 dark:text-dark-neutral-500",children:["+",e.categories.length-2]})]})]}),h.jsxs("div",{className:"flex items-center space-x-1 mt-4 text-xs text-neutral-500 dark:text-dark-neutral-500",children:[h.jsx(Lc,{className:"w-3 h-3"}),h.jsxs("span",{children:["Updated ",Jc(e.updated_at)]})]}),e.topics&&e.topics.length>0&&h.jsxs("div",{className:"flex flex-wrap gap-1 mt-3",children:[e.topics.slice(0,3).map(o=>h.jsx("span",{className:"inline-flex items-center px-2 py-1 bg-neutral-100 dark:bg-dark-neutral-100 text-neutral-600 dark:text-dark-neutral-600 text-xs rounded",children:o},o)),e.topics.length>3&&h.jsxs("span",{className:"text-xs text-neutral-500 dark:text-dark-neutral-500",children:["+",e.topics.length-3," more"]})]}),n&&h.jsx("div",{className:"mt-4 pt-4 border-t border-neutral-200 dark:border-dark-neutral-200",children:h.jsxs("button",{"data-analyze-button":!0,onClick:a,className:fe("w-full flex items-center justify-center gap-2 px-4 py-2 rounded-lg transition-all font-medium",r?"bg-primary-50 dark:bg-primary-900/20 text-primary-600 dark:text-primary-400 hover:bg-primary-100 dark:hover:bg-primary-900/30":"bg-primary-500 hover:bg-primary-600 text-white"),children:[h.jsx(Bc,{className:"w-4 h-4"}),h.jsx("span",{children:r?"View Analysis":"Analyze with AI"})]})})]})}function Wm({repository:e,isOpen:t,onClose:n}){if(z.useEffect(()=>{const a=o=>{o.key==="Escape"&&n()};return t&&(document.addEventListener("keydown",a),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",a),document.body.style.overflow="unset"}},[t,n]),!t||!e)return null;const r=e.language?Kc[e.language]:"#6B7280",i=()=>{navigator.clipboard.writeText(e.html_url)},s=a=>{a.target===a.currentTarget&&n()};return h.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:s,children:[h.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),h.jsxs("div",{className:fe("relative w-full max-w-2xl max-h-[90vh] overflow-y-auto","bg-bg-elevated dark:bg-dark-bg-elevated","rounded-2xl shadow-xl","transform transition-all duration-300","border border-neutral-200 dark:border-dark-neutral-200"),children:[h.jsx("div",{className:"sticky top-0 bg-bg-elevated dark:bg-dark-bg-elevated border-b border-neutral-200 dark:border-dark-neutral-200 p-6",children:h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("h2",{className:"text-2xl font-bold text-neutral-900 dark:text-dark-neutral-900 mb-2",children:e.name}),h.jsx("p",{className:"text-neutral-500 dark:text-dark-neutral-500 font-mono",children:e.full_name})]}),h.jsx("button",{onClick:n,className:"ml-4 p-2 text-neutral-500 dark:text-dark-neutral-500 hover:text-neutral-700 dark:hover:text-dark-neutral-700 transition-colors",children:h.jsx(xr,{className:"w-6 h-6"})})]})}),h.jsxs("div",{className:"p-6 space-y-6",children:[e.description&&h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-dark-neutral-900 mb-2",children:"Description"}),h.jsx("p",{className:"text-neutral-700 dark:text-dark-neutral-700 leading-relaxed",children:e.description})]}),h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[h.jsxs("div",{className:"text-center p-4 bg-bg-surface dark:bg-dark-bg-surface rounded-lg",children:[h.jsx(Ta,{className:"w-6 h-6 text-warning mx-auto mb-2"}),h.jsx("div",{className:"text-2xl font-bold text-neutral-900 dark:text-dark-neutral-900",children:hr(e.stargazers_count)}),h.jsx("div",{className:"text-sm text-neutral-600 dark:text-dark-neutral-600",children:"Stars"})]}),h.jsxs("div",{className:"text-center p-4 bg-bg-surface dark:bg-dark-bg-surface rounded-lg",children:[h.jsx(Fc,{className:"w-6 h-6 text-info mx-auto mb-2"}),h.jsx("div",{className:"text-2xl font-bold text-neutral-900 dark:text-dark-neutral-900",children:hr(e.forks_count)}),h.jsx("div",{className:"text-sm text-neutral-600 dark:text-dark-neutral-600",children:"Forks"})]}),h.jsxs("div",{className:"text-center p-4 bg-bg-surface dark:bg-dark-bg-surface rounded-lg",children:[h.jsx(Lc,{className:"w-6 h-6 text-primary-500 mx-auto mb-2"}),h.jsx("div",{className:"text-lg font-bold text-neutral-900 dark:text-dark-neutral-900",children:Jc(e.updated_at)}),h.jsx("div",{className:"text-sm text-neutral-600 dark:text-dark-neutral-600",children:"Last Update"})]}),h.jsxs("div",{className:"text-center p-4 bg-bg-surface dark:bg-dark-bg-surface rounded-lg",children:[h.jsxs("div",{className:fe("inline-flex items-center px-3 py-1 rounded-full text-sm font-medium mb-2",Xc(e.qualityScore)),children:[e.qualityScore.toFixed(1),"/10"]}),h.jsx("div",{className:"text-sm text-neutral-600 dark:text-dark-neutral-600",children:"Quality Score"})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.language&&h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-dark-neutral-900 mb-3",children:"Language"}),h.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-bg-surface dark:bg-dark-bg-surface rounded-lg",children:[h.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:r}}),h.jsx("span",{className:"font-medium text-neutral-900 dark:text-dark-neutral-900",children:e.language})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-dark-neutral-900 mb-3",children:"Categories"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:e.categories.map(a=>h.jsx("span",{className:"inline-flex items-center px-3 py-1 bg-primary-50 dark:bg-dark-primary-50 text-primary-700 dark:text-dark-primary-700 text-sm font-medium rounded-full",children:a},a))})]})]}),e.topics&&e.topics.length>0&&h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-dark-neutral-900 mb-3",children:"Topics"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:e.topics.map(a=>h.jsx("span",{className:"inline-flex items-center px-3 py-1 bg-neutral-100 dark:bg-dark-neutral-100 text-neutral-700 dark:text-dark-neutral-700 text-sm rounded-lg",children:a},a))})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-dark-neutral-900 mb-3",children:"Owner"}),h.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-bg-surface dark:bg-dark-bg-surface rounded-lg",children:[h.jsx("img",{src:e.owner.avatar_url,alt:e.owner.login,className:"w-10 h-10 rounded-full"}),h.jsxs("div",{children:[h.jsx("div",{className:"font-medium text-neutral-900 dark:text-dark-neutral-900",children:e.owner.login}),h.jsx("div",{className:"text-sm text-neutral-500 dark:text-dark-neutral-500",children:"GitHub User"})]})]})]})]}),h.jsx("div",{className:"sticky bottom-0 bg-bg-elevated dark:bg-dark-bg-elevated border-t border-neutral-200 dark:border-dark-neutral-200 p-6",children:h.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[h.jsxs("a",{href:e.html_url,target:"_blank",rel:"noopener noreferrer",className:fe("flex-1 flex items-center justify-center space-x-2 px-6 py-3","bg-primary-500 hover:bg-primary-600 dark:bg-dark-primary-500 dark:hover:bg-dark-primary-600","text-white font-semibold rounded-lg transition-colors","focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2"),children:[h.jsx(Vf,{className:"w-5 h-5"}),h.jsx("span",{children:"View on GitHub"}),h.jsx(Pa,{className:"w-4 h-4"})]}),h.jsxs("button",{onClick:i,className:fe("flex items-center justify-center space-x-2 px-6 py-3","border border-neutral-200 dark:border-dark-neutral-200","text-neutral-700 dark:text-dark-neutral-700","hover:bg-bg-surface dark:hover:bg-dark-bg-surface","rounded-lg transition-colors","focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2"),children:[h.jsx(zf,{className:"w-4 h-4"}),h.jsx("span",{children:"Copy URL"})]})]})})]})]})}function Oe({className:e}){return h.jsx("div",{className:fe("animate-pulse bg-neutral-200 dark:bg-dark-neutral-200 rounded",e)})}function Hm(){return h.jsxs("div",{className:"bg-bg-surface dark:bg-dark-bg-surface border border-neutral-200 dark:border-dark-neutral-200 rounded-xl p-6",children:[h.jsxs("div",{className:"flex items-start justify-between mb-3",children:[h.jsx(Oe,{className:"h-6 w-2/3"}),h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx(Oe,{className:"h-4 w-12"}),h.jsx(Oe,{className:"h-4 w-12"})]})]}),h.jsx(Oe,{className:"h-4 w-full mb-2"}),h.jsx(Oe,{className:"h-4 w-3/4 mb-4"}),h.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[h.jsx(Oe,{className:"h-3 w-3 rounded-full"}),h.jsx(Oe,{className:"h-4 w-20"})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx(Oe,{className:"h-6 w-24"}),h.jsxs("div",{className:"flex space-x-1",children:[h.jsx(Oe,{className:"h-6 w-16"}),h.jsx(Oe,{className:"h-6 w-16"})]})]}),h.jsx(Oe,{className:"h-3 w-32 mt-4"}),h.jsxs("div",{className:"flex space-x-1 mt-3",children:[h.jsx(Oe,{className:"h-5 w-16"}),h.jsx(Oe,{className:"h-5 w-20"}),h.jsx(Oe,{className:"h-5 w-18"})]})]})}function Vm(){return h.jsxs("div",{className:"text-center py-16",children:[h.jsx("div",{className:"w-24 h-24 bg-neutral-100 dark:bg-dark-neutral-100 rounded-full flex items-center justify-center mx-auto mb-6",children:h.jsx("span",{className:"text-4xl",children:"ðŸ”"})}),h.jsx("h3",{className:"text-xl font-semibold text-neutral-900 dark:text-dark-neutral-900 mb-2",children:"No repositories found"}),h.jsx("p",{className:"text-neutral-600 dark:text-dark-neutral-600 max-w-md mx-auto",children:"Try adjusting your search terms or filters to find what you're looking for."})]})}const sr={openai:{id:"openai",name:"OpenAI",description:"Industry-leading models including GPT-4 and GPT-3.5",website:"https://platform.openai.com",apiEndpoint:"https://api.openai.com/v1",requiresAuth:!0,supportsStreaming:!0,authType:"bearer",defaultModel:"gpt-4-turbo",models:[{id:"gpt-4",name:"GPT-4",description:"Most capable model, best for complex tasks",contextWindow:8192,pricing:{input:.03,output:.06}},{id:"gpt-4-turbo",name:"GPT-4 Turbo",description:"Faster and more affordable GPT-4",contextWindow:128e3,pricing:{input:.01,output:.03}},{id:"gpt-4o",name:"GPT-4o",description:"Multimodal flagship model",contextWindow:128e3,pricing:{input:.005,output:.015}},{id:"gpt-3.5-turbo",name:"GPT-3.5 Turbo",description:"Fast and efficient for most tasks",contextWindow:16385,pricing:{input:5e-4,output:.0015}}]},anthropic:{id:"anthropic",name:"Anthropic",description:"Claude models with strong reasoning and safety",website:"https://www.anthropic.com",apiEndpoint:"https://api.anthropic.com/v1",requiresAuth:!0,supportsStreaming:!0,authType:"api-key",defaultModel:"claude-3-sonnet-20240229",models:[{id:"claude-3-opus-20240229",name:"Claude 3 Opus",description:"Most capable Claude model",contextWindow:2e5,pricing:{input:.015,output:.075}},{id:"claude-3-sonnet-20240229",name:"Claude 3 Sonnet",description:"Balanced performance and speed",contextWindow:2e5,pricing:{input:.003,output:.015}},{id:"claude-3-haiku-20240307",name:"Claude 3 Haiku",description:"Fastest Claude model",contextWindow:2e5,pricing:{input:25e-5,output:.00125}}]},zai:{id:"zai",name:"Z.ai (GLM)",description:"Zhipu AI GLM series - powerful Chinese and English models",website:"https://open.bigmodel.cn",apiEndpoint:"https://open.bigmodel.cn/api/paas/v4",requiresAuth:!0,supportsStreaming:!0,authType:"bearer",defaultModel:"glm-4",models:[{id:"glm-4",name:"GLM-4",description:"Latest GLM-4 model with enhanced capabilities",contextWindow:128e3,pricing:{input:.01,output:.01}},{id:"glm-4v",name:"GLM-4V",description:"Multimodal GLM-4 with vision capabilities",contextWindow:2e3,pricing:{input:.01,output:.01}},{id:"glm-3-turbo",name:"GLM-3 Turbo",description:"Fast and efficient GLM-3",contextWindow:128e3,pricing:{input:5e-4,output:5e-4}}]},google:{id:"google",name:"Google",description:"Gemini models with multimodal capabilities",website:"https://ai.google.dev",apiEndpoint:"https://generativelanguage.googleapis.com/v1",requiresAuth:!0,supportsStreaming:!0,authType:"api-key",defaultModel:"gemini-pro",models:[{id:"gemini-pro",name:"Gemini Pro",description:"Best model for text tasks",contextWindow:32760,pricing:{input:25e-5,output:5e-4}},{id:"gemini-pro-vision",name:"Gemini Pro Vision",description:"Multimodal model with vision",contextWindow:16384,pricing:{input:25e-5,output:5e-4}},{id:"gemini-ultra",name:"Gemini Ultra",description:"Most capable Gemini model",contextWindow:32760,pricing:{input:.00125,output:.00375}}]},deepseek:{id:"deepseek",name:"DeepSeek",description:"Specialized models for chat and coding",website:"https://www.deepseek.com",apiEndpoint:"https://api.deepseek.com/v1",requiresAuth:!0,supportsStreaming:!0,authType:"bearer",defaultModel:"deepseek-chat",models:[{id:"deepseek-chat",name:"DeepSeek Chat",description:"General purpose chat model",contextWindow:32768,pricing:{input:1e-4,output:2e-4}},{id:"deepseek-coder",name:"DeepSeek Coder",description:"Specialized for code generation",contextWindow:16384,pricing:{input:1e-4,output:2e-4}}]},mistral:{id:"mistral",name:"Mistral AI",description:"High-performance open models",website:"https://mistral.ai",apiEndpoint:"https://api.mistral.ai/v1",requiresAuth:!0,supportsStreaming:!0,authType:"bearer",defaultModel:"mistral-medium",models:[{id:"mistral-large",name:"Mistral Large",description:"Most capable Mistral model",contextWindow:32e3,pricing:{input:.008,output:.024}},{id:"mistral-medium",name:"Mistral Medium",description:"Balanced performance",contextWindow:32e3,pricing:{input:.0027,output:.0081}},{id:"mistral-small",name:"Mistral Small",description:"Fast and efficient",contextWindow:32e3,pricing:{input:.001,output:.003}}]},cohere:{id:"cohere",name:"Cohere",description:"Enterprise-grade language models",website:"https://cohere.com",apiEndpoint:"https://api.cohere.ai/v1",requiresAuth:!0,supportsStreaming:!0,authType:"bearer",defaultModel:"command-r",models:[{id:"command-r-plus",name:"Command R+",description:"Most capable Command model",contextWindow:128e3,pricing:{input:.003,output:.015}},{id:"command-r",name:"Command R",description:"Balanced RAG-optimized model",contextWindow:128e3,pricing:{input:5e-4,output:.0015}},{id:"command",name:"Command",description:"General purpose model",contextWindow:4096,pricing:{input:.001,output:.002}}]},huggingface:{id:"huggingface",name:"Hugging Face",description:"Access to thousands of open source models",website:"https://huggingface.co",apiEndpoint:"https://api-inference.huggingface.co/models",requiresAuth:!0,supportsStreaming:!1,authType:"bearer",defaultModel:"meta-llama/Llama-2-70b-chat-hf",models:[{id:"meta-llama/Llama-2-70b-chat-hf",name:"Llama 2 70B",description:"Meta's open source model",contextWindow:4096},{id:"mistralai/Mistral-7B-Instruct-v0.2",name:"Mistral 7B",description:"Efficient open model",contextWindow:8192},{id:"bigcode/starcoder",name:"StarCoder",description:"Code generation model",contextWindow:8192}]},replicate:{id:"replicate",name:"Replicate",description:"Run open source models at scale",website:"https://replicate.com",apiEndpoint:"https://api.replicate.com/v1",requiresAuth:!0,supportsStreaming:!0,authType:"bearer",defaultModel:"meta/llama-2-70b-chat",models:[{id:"meta/llama-2-70b-chat",name:"Llama 2 70B Chat",description:"Meta's Llama 2 on Replicate",contextWindow:4096}]},together:{id:"together",name:"Together AI",description:"Fast inference for open source models",website:"https://together.ai",apiEndpoint:"https://api.together.xyz/v1",requiresAuth:!0,supportsStreaming:!0,authType:"bearer",defaultModel:"togethercomputer/llama-2-70b-chat",models:[{id:"togethercomputer/llama-2-70b-chat",name:"Llama 2 70B",description:"Fast Llama 2 inference",contextWindow:4096,pricing:{input:9e-4,output:9e-4}}]},perplexity:{id:"perplexity",name:"Perplexity",description:"Search-optimized language models",website:"https://www.perplexity.ai",apiEndpoint:"https://api.perplexity.ai",requiresAuth:!0,supportsStreaming:!0,authType:"bearer",defaultModel:"sonar-medium-online",models:[{id:"sonar-medium-online",name:"Sonar Medium Online",description:"Search-enhanced model",contextWindow:12e3,pricing:{input:6e-4,output:6e-4}}]},fireworks:{id:"fireworks",name:"Fireworks AI",description:"Fast inference platform",website:"https://fireworks.ai",apiEndpoint:"https://api.fireworks.ai/inference/v1",requiresAuth:!0,supportsStreaming:!0,authType:"bearer",defaultModel:"accounts/fireworks/models/llama-v2-70b-chat",models:[{id:"accounts/fireworks/models/llama-v2-70b-chat",name:"Llama 2 70B",description:"Fast Llama 2 on Fireworks",contextWindow:4096,pricing:{input:9e-4,output:9e-4}}]},ollama:{id:"ollama",name:"Ollama",description:"Run LLMs locally on your machine",website:"https://ollama.ai",apiEndpoint:"http://localhost:11434/api",requiresAuth:!1,supportsStreaming:!0,authType:"none",defaultModel:"llama2",isLocal:!0,setupInstructions:'Install Ollama from ollama.ai and run "ollama pull llama2"',models:[{id:"llama2",name:"Llama 2",description:"Meta's open source model (local)",contextWindow:4096},{id:"codellama",name:"Code Llama",description:"Code-specialized model (local)",contextWindow:16384},{id:"mistral",name:"Mistral",description:"Efficient 7B model (local)",contextWindow:8192}]},lmstudio:{id:"lmstudio",name:"LM Studio",description:"Desktop app for running local LLMs",website:"https://lmstudio.ai",apiEndpoint:"http://localhost:1234/v1",requiresAuth:!1,supportsStreaming:!0,authType:"none",defaultModel:"local-model",isLocal:!0,setupInstructions:"Download LM Studio, load a model, and start the local server",models:[{id:"local-model",name:"Local Model",description:"Any model loaded in LM Studio",contextWindow:4096}]},localai:{id:"localai",name:"LocalAI",description:"Self-hosted OpenAI-compatible API",website:"https://localai.io",apiEndpoint:"http://localhost:8080/v1",requiresAuth:!1,supportsStreaming:!0,authType:"none",defaultModel:"gpt-3.5-turbo",isLocal:!0,setupInstructions:"Install LocalAI and configure your models",models:[{id:"gpt-3.5-turbo",name:"Local GPT-3.5",description:"OpenAI-compatible local model",contextWindow:4096}]},custom:{id:"custom",name:"Custom Endpoint",description:"Use any OpenAI-compatible API endpoint",website:"",apiEndpoint:"",requiresAuth:!0,supportsStreaming:!0,authType:"custom",defaultModel:"gpt-3.5-turbo",models:[{id:"gpt-3.5-turbo",name:"Custom Model",description:"OpenAI-compatible model",contextWindow:4096}]}};function ze(e){return sr[e]}function La(){return Object.values(sr)}function Gm(){return La().filter(e=>!e.isLocal)}function Km(){return La().filter(e=>e.isLocal)}function Jm(){return{tier1:["openai","anthropic","zai","google","deepseek","mistral","cohere"].map(e=>sr[e]),tier2:["huggingface","replicate","together","perplexity","fireworks"].map(e=>sr[e]),tier3:["ollama","lmstudio","localai","custom"].map(e=>sr[e])}}function Mi(e,t,n,r){const s=ze(e).models.find(l=>l.id===t);if(!(s!=null&&s.pricing))return 0;const a=n/1e3*s.pricing.input,o=r/1e3*s.pricing.output;return a+o}const yi="AES-GCM",zo=256,Vs=12;async function Qc(){const e=localStorage.getItem("_ek");if(e){const i=Uint8Array.from(atob(e),s=>s.charCodeAt(0));return await crypto.subtle.importKey("raw",i,{name:yi,length:zo},!1,["encrypt","decrypt"])}const t=await crypto.subtle.generateKey({name:yi,length:zo},!0,["encrypt","decrypt"]),n=await crypto.subtle.exportKey("raw",t),r=btoa(String.fromCharCode(...new Uint8Array(n)));return localStorage.setItem("_ek",r),t}async function Xm(e){try{const t=await Qc(),n=crypto.getRandomValues(new Uint8Array(Vs)),r=new TextEncoder().encode(e),i=await crypto.subtle.encrypt({name:yi,iv:n},t,r),s=new Uint8Array(n.length+i.byteLength);return s.set(n,0),s.set(new Uint8Array(i),n.length),btoa(String.fromCharCode(...s))}catch(t){throw console.error("Encryption failed:",t),new Error("Failed to encrypt API key")}}async function ri(e){try{const t=await Qc(),n=Uint8Array.from(atob(e),a=>a.charCodeAt(0)),r=n.slice(0,Vs),i=n.slice(Vs),s=await crypto.subtle.decrypt({name:yi,iv:r},t,i);return new TextDecoder().decode(s)}catch(t){throw console.error("Decryption failed:",t),new Error("Failed to decrypt API key")}}function G(e,t,n,r,i){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}function C(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}let Yc=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return Yc=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};function Gs(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const Ks=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};class H extends Error{}let qe=class Js extends H{constructor(t,n,r,i){super(`${Js.makeMessage(t,n,r)}`),this.status=t,this.headers=i,this.requestID=i==null?void 0:i.get("x-request-id"),this.error=n;const s=n;this.code=s==null?void 0:s.code,this.param=s==null?void 0:s.param,this.type=s==null?void 0:s.type}static makeMessage(t,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&i?`${t} ${i}`:t?`${t} status code (no body)`:i||"(no status code or body)"}static generate(t,n,r,i){if(!t||!i)return new Li({message:r,cause:Ks(n)});const s=n==null?void 0:n.error;return t===400?new Zc(t,s,r,i):t===401?new eu(t,s,r,i):t===403?new tu(t,s,r,i):t===404?new nu(t,s,r,i):t===409?new ru(t,s,r,i):t===422?new iu(t,s,r,i):t===429?new su(t,s,r,i):t>=500?new au(t,s,r,i):new Js(t,s,r,i)}},tt=class extends qe{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}},Li=class extends qe{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}},$a=class extends Li{constructor({message:t}={}){super({message:t??"Request timed out."})}},Zc=class extends qe{},eu=class extends qe{},tu=class extends qe{},nu=class extends qe{},ru=class extends qe{},iu=class extends qe{},su=class extends qe{},au=class extends qe{};class ou extends H{constructor(){super("Could not parse response content as the length limit was reached")}}class lu extends H{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class Gn extends Error{constructor(t){super(t)}}const Qm=/^[a-z][a-z0-9+.-]*:/i,Ym=e=>Qm.test(e);let Be=e=>(Be=Array.isArray,Be(e)),qo=Be;function cu(e){return typeof e!="object"?{}:e??{}}function Zm(e){if(!e)return!0;for(const t in e)return!1;return!0}function ep(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function is(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}const tp=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new H(`${e} must be an integer`);if(t<0)throw new H(`${e} must be a positive integer`);return t},np=e=>{try{return JSON.parse(e)}catch{return}},br=e=>new Promise(t=>setTimeout(t,e)),rn="6.8.1",rp=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function ip(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const sp=()=>{var n;const e=ip();if(e==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":rn,"X-Stainless-OS":Wo(Deno.build.os),"X-Stainless-Arch":Uo(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((n=Deno.version)==null?void 0:n.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":rn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(e==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":rn,"X-Stainless-OS":Wo(globalThis.process.platform??"unknown"),"X-Stainless-Arch":Uo(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const t=ap();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":rn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":rn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function ap(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,s=r[2]||0,a=r[3]||0;return{browser:t,version:`${i}.${s}.${a}`}}}return null}const Uo=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",Wo=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let Ho;const op=()=>Ho??(Ho=sp());function lp(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function uu(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function du(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return uu({start(){},async pull(n){const{done:r,value:i}=await t.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=t.return)==null?void 0:n.call(t))}})}function hu(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function cp(e){var r,i;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((i=(r=e[Symbol.asyncIterator]()).return)==null?void 0:i.call(r));return}const t=e.getReader(),n=t.cancel();t.releaseLock(),await n}const up=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)}),fu="RFC3986",mu=e=>String(e),Vo={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:mu},dp="RFC1738";let Xs=(e,t)=>(Xs=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),Xs(e,t));const ct=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})(),ss=1024,hp=(e,t,n,r,i)=>{if(e.length===0)return e;let s=e;if(typeof e=="symbol"?s=Symbol.prototype.toString.call(e):typeof e!="string"&&(s=String(e)),n==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(o){return"%26%23"+parseInt(o.slice(2),16)+"%3B"});let a="";for(let o=0;o<s.length;o+=ss){const l=s.length>=ss?s.slice(o,o+ss):s,c=[];for(let d=0;d<l.length;++d){let u=l.charCodeAt(d);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||i===dp&&(u===40||u===41)){c[c.length]=l.charAt(d);continue}if(u<128){c[c.length]=ct[u];continue}if(u<2048){c[c.length]=ct[192|u>>6]+ct[128|u&63];continue}if(u<55296||u>=57344){c[c.length]=ct[224|u>>12]+ct[128|u>>6&63]+ct[128|u&63];continue}d+=1,u=65536+((u&1023)<<10|l.charCodeAt(d)&1023),c[c.length]=ct[240|u>>18]+ct[128|u>>12&63]+ct[128|u>>6&63]+ct[128|u&63]}a+=c.join("")}return a};function fp(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}function Go(e,t){if(Be(e)){const n=[];for(let r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)}const pu={brackets(e){return String(e)+"[]"},comma:"comma",indices(e,t){return String(e)+"["+t+"]"},repeat(e){return String(e)}},gu=function(e,t){Array.prototype.push.apply(e,Be(t)?t:[t])};let Ko;const Se={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:hp,encodeValuesOnly:!1,format:fu,formatter:mu,indices:!1,serializeDate(e){return(Ko??(Ko=Function.prototype.call.bind(Date.prototype.toISOString)))(e)},skipNulls:!1,strictNullHandling:!1};function mp(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"}const as={};function yu(e,t,n,r,i,s,a,o,l,c,d,u,m,f,p,y,w,x){let S=e,v=x,E=0,$=!1;for(;(v=v.get(as))!==void 0&&!$;){const k=v.get(e);if(E+=1,typeof k<"u"){if(k===E)throw new RangeError("Cyclic object value");$=!0}typeof v.get(as)>"u"&&(E=0)}if(typeof c=="function"?S=c(t,S):S instanceof Date?S=m==null?void 0:m(S):n==="comma"&&Be(S)&&(S=Go(S,function(k){return k instanceof Date?m==null?void 0:m(k):k})),S===null){if(s)return l&&!y?l(t,Se.encoder,w,"key",f):t;S=""}if(mp(S)||fp(S)){if(l){const k=y?t:l(t,Se.encoder,w,"key",f);return[(p==null?void 0:p(k))+"="+(p==null?void 0:p(l(S,Se.encoder,w,"value",f)))]}return[(p==null?void 0:p(t))+"="+(p==null?void 0:p(String(S)))]}const _=[];if(typeof S>"u")return _;let M;if(n==="comma"&&Be(S))y&&l&&(S=Go(S,l)),M=[{value:S.length>0?S.join(",")||null:void 0}];else if(Be(c))M=c;else{const k=Object.keys(S);M=d?k.sort(d):k}const D=o?String(t).replace(/\./g,"%2E"):String(t),F=r&&Be(S)&&S.length===1?D+"[]":D;if(i&&Be(S)&&S.length===0)return F+"[]";for(let k=0;k<M.length;++k){const j=M[k],N=typeof j=="object"&&typeof j.value<"u"?j.value:S[j];if(a&&N===null)continue;const U=u&&o?j.replace(/\./g,"%2E"):j,L=Be(S)?typeof n=="function"?n(F,U):F:F+(u?"."+U:"["+U+"]");x.set(e,E);const T=new WeakMap;T.set(as,x),gu(_,yu(N,L,n,r,i,s,a,o,n==="comma"&&y&&Be(S)?null:l,c,d,u,m,f,p,y,w,T))}return _}function pp(e=Se){if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");const t=e.charset||Se.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=fu;if(typeof e.format<"u"){if(!Xs(Vo,e.format))throw new TypeError("Unknown format option provided.");n=e.format}const r=Vo[n];let i=Se.filter;(typeof e.filter=="function"||Be(e.filter))&&(i=e.filter);let s;if(e.arrayFormat&&e.arrayFormat in pu?s=e.arrayFormat:"indices"in e?s=e.indices?"indices":"repeat":s=Se.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const a=typeof e.allowDots>"u"?e.encodeDotInKeys?!0:Se.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Se.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Se.allowEmptyArrays,arrayFormat:s,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Se.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?Se.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Se.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:Se.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:Se.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Se.encodeValuesOnly,filter:i,format:n,formatter:r,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Se.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Se.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Se.strictNullHandling}}function gp(e,t={}){let n=e;const r=pp(t);let i,s;typeof r.filter=="function"?(s=r.filter,n=s("",n)):Be(r.filter)&&(s=r.filter,i=s);const a=[];if(typeof n!="object"||n===null)return"";const o=pu[r.arrayFormat],l=o==="comma"&&r.commaRoundTrip;i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);const c=new WeakMap;for(let m=0;m<i.length;++m){const f=i[m];r.skipNulls&&n[f]===null||gu(a,yu(n[f],f,o,l,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,c))}const d=a.join(r.delimiter);let u=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?u+="utf8=%26%2310003%3B&":u+="utf8=%E2%9C%93&"),d.length>0?u+d:""}function yp(e){let t=0;for(const i of e)t+=i.length;const n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}let Jo;function Oa(e){let t;return(Jo??(t=new globalThis.TextEncoder,Jo=t.encode.bind(t)))(e)}let Xo;function Qo(e){let t;return(Xo??(t=new globalThis.TextDecoder,Xo=t.decode.bind(t)))(e)}var He,Ve;let $i=class{constructor(){He.set(this,void 0),Ve.set(this,void 0),G(this,He,new Uint8Array),G(this,Ve,null)}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Oa(t):t;G(this,He,yp([C(this,He,"f"),n]));const r=[];let i;for(;(i=xp(C(this,He,"f"),C(this,Ve,"f")))!=null;){if(i.carriage&&C(this,Ve,"f")==null){G(this,Ve,i.index);continue}if(C(this,Ve,"f")!=null&&(i.index!==C(this,Ve,"f")+1||i.carriage)){r.push(Qo(C(this,He,"f").subarray(0,C(this,Ve,"f")-1))),G(this,He,C(this,He,"f").subarray(C(this,Ve,"f"))),G(this,Ve,null);continue}const s=C(this,Ve,"f")!==null?i.preceding-1:i.preceding,a=Qo(C(this,He,"f").subarray(0,s));r.push(a),G(this,He,C(this,He,"f").subarray(i.index)),G(this,Ve,null)}return r}flush(){return C(this,He,"f").length?this.decode(`
`):[]}};He=new WeakMap,Ve=new WeakMap;$i.NEWLINE_CHARS=new Set([`
`,"\r"]);$i.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function xp(e,t){for(let i=t??0;i<e.length;i++){if(e[i]===10)return{preceding:i,index:i+1,carriage:!1};if(e[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function bp(e){for(let r=0;r<e.length-1;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}const xi={off:0,error:200,warn:300,info:400,debug:500},Yo=(e,t,n)=>{if(e){if(ep(xi,e))return e;Ae(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(xi))}`)}};function Kn(){}function jr(e,t,n){return!t||xi[e]>xi[n]?Kn:t[e].bind(t)}const wp={error:Kn,warn:Kn,info:Kn,debug:Kn};let Zo=new WeakMap;function Ae(e){const t=e.logger,n=e.logLevel??"off";if(!t)return wp;const r=Zo.get(t);if(r&&r[0]===n)return r[1];const i={error:jr("error",t,n),warn:jr("warn",t,n),info:jr("info",t,n),debug:jr("debug",t,n)};return Zo.set(t,[n,i]),i}const Ft=e=>(e.options&&(e.options={...e.options},delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);var jn;let fr=class Jn{constructor(t,n,r){this.iterator=t,jn.set(this,void 0),this.controller=n,G(this,jn,r)}static fromSSEResponse(t,n,r){let i=!1;const s=r?Ae(r):console;async function*a(){if(i)throw new H("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let o=!1;try{for await(const l of kp(t,n))if(!o){if(l.data.startsWith("[DONE]")){o=!0;continue}if(l.event===null||!l.event.startsWith("thread.")){let c;try{c=JSON.parse(l.data)}catch(d){throw s.error("Could not parse message into JSON:",l.data),s.error("From chunk:",l.raw),d}if(c&&c.error)throw new qe(void 0,c.error,void 0,t.headers);yield c}else{let c;try{c=JSON.parse(l.data)}catch(d){throw console.error("Could not parse message into JSON:",l.data),console.error("From chunk:",l.raw),d}if(l.event=="error")throw new qe(void 0,c.error,c.message,void 0);yield{event:l.event,data:c}}}o=!0}catch(l){if(Gs(l))return;throw l}finally{o||n.abort()}}return new Jn(a,n,r)}static fromReadableStream(t,n,r){let i=!1;async function*s(){const o=new $i,l=hu(t);for await(const c of l)for(const d of o.decode(c))yield d;for(const c of o.flush())yield c}async function*a(){if(i)throw new H("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let o=!1;try{for await(const l of s())o||l&&(yield JSON.parse(l));o=!0}catch(l){if(Gs(l))return;throw l}finally{o||n.abort()}}return new Jn(a,n,r)}[(jn=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),i=s=>({next:()=>{if(s.length===0){const a=r.next();t.push(a),n.push(a)}return s.shift()}});return[new Jn(()=>i(t),this.controller,C(this,jn,"f")),new Jn(()=>i(n),this.controller,C(this,jn,"f"))]}toReadableStream(){const t=this;let n;return uu({async start(){n=t[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:s}=await n.next();if(s)return r.close();const a=Oa(JSON.stringify(i)+`
`);r.enqueue(a)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)==null?void 0:r.call(n))}})}};async function*kp(e,t){if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new H("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new H("Attempted to iterate over a response with no body");const n=new Sp,r=new $i,i=hu(e.body);for await(const s of _p(i))for(const a of r.decode(s)){const o=n.decode(a);o&&(yield o)}for(const s of r.flush()){const a=n.decode(s);a&&(yield a)}}async function*_p(e){let t=new Uint8Array;for await(const n of e){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?Oa(n):n;let i=new Uint8Array(t.length+r.length);i.set(t),i.set(r,t.length),t=i;let s;for(;(s=bp(t))!==-1;)yield t.slice(0,s),t=t.slice(s)}t.length>0&&(yield t)}let Sp=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,i]=vp(t,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}};function vp(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}async function xu(e,t){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:s}=t,a=await(async()=>{var u;if(t.options.stream)return Ae(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):fr.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const o=n.headers.get("content-type"),l=(u=o==null?void 0:o.split(";")[0])==null?void 0:u.trim();if((l==null?void 0:l.includes("application/json"))||(l==null?void 0:l.endsWith("+json"))){const m=await n.json();return bu(m,n)}return await n.text()})();return Ae(e).debug(`[${r}] response parsed`,Ft({retryOfRequestLogID:i,url:n.url,status:n.status,body:a,durationMs:Date.now()-s})),a}function bu(e,t){return!e||typeof e!="object"||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}var Xn;let wu=class ku extends Promise{constructor(t,n,r=xu){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,Xn.set(this,void 0),G(this,Xn,t)}_thenUnwrap(t){return new ku(C(this,Xn,"f"),this.responsePromise,async(n,r)=>bu(t(await this.parseResponse(n,r),r),r.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(C(this,Xn,"f"),t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}};Xn=new WeakMap;var Nr;let Fa=class{constructor(t,n,r,i){Nr.set(this,void 0),G(this,Nr,t),this.options=i,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const t=this.nextPageRequestOptions();if(!t)throw new H("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await C(this,Nr,"f").requestAPIList(this.constructor,t)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(Nr=new WeakMap,Symbol.asyncIterator)](){for await(const t of this.iterPages())for(const n of t.getPaginatedItems())yield n}},Cp=class extends wu{constructor(t,n,r){super(t,n,async(i,s)=>new r(i,s.response,await xu(i,s),s.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const n of t)yield n}},Oi=class extends Fa{constructor(t,n,r,i){super(t,n,r,i),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}};class xe extends Fa{constructor(t,n,r,i){super(t,n,r,i),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){var r;const t=this.getPaginatedItems(),n=(r=t[t.length-1])==null?void 0:r.id;return n?{...this.options,query:{...cu(this.options.query),after:n}}:null}}class bi extends Fa{constructor(t,n,r,i){super(t,n,r,i),this.data=r.data||[],this.has_more=r.has_more||!1,this.last_id=r.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const t=this.last_id;return t?{...this.options,query:{...cu(this.options.query),after:t}}:null}}const _u=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)==null?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function ar(e,t,n){return _u(),new File(e,t??"unknown_file",n)}function ii(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const Da=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",el=async(e,t)=>Qs(e.body)?{...e,body:await Su(e.body,t)}:e,Wt=async(e,t)=>({...e,body:await Su(e.body,t)}),tl=new WeakMap;function Ap(e){const t=typeof e=="function"?e:e.fetch,n=tl.get(t);if(n)return n;const r=(async()=>{try{const i="Response"in t?t.Response:(await t("data:,")).constructor,s=new FormData;return s.toString()!==await new i(s).text()}catch{return!0}})();return tl.set(t,r),r}const Su=async(e,t)=>{if(!await Ap(t))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const n=new FormData;return await Promise.all(Object.entries(e||{}).map(([r,i])=>Ys(n,r,i))),n},vu=e=>e instanceof Blob&&"name"in e,Ep=e=>typeof e=="object"&&e!==null&&(e instanceof Response||Da(e)||vu(e)),Qs=e=>{if(Ep(e))return!0;if(Array.isArray(e))return e.some(Qs);if(e&&typeof e=="object"){for(const t in e)if(Qs(e[t]))return!0}return!1},Ys=async(e,t,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")e.append(t,String(n));else if(n instanceof Response)e.append(t,ar([await n.blob()],ii(n)));else if(Da(n))e.append(t,ar([await new Response(du(n)).blob()],ii(n)));else if(vu(n))e.append(t,n,ii(n));else if(Array.isArray(n))await Promise.all(n.map(r=>Ys(e,t+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,i])=>Ys(e,`${t}[${r}]`,i)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}},Cu=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",Ip=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&Cu(e),jp=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function Np(e,t,n){if(_u(),e=await e,Ip(e))return e instanceof File?e:ar([await e.arrayBuffer()],e.name);if(jp(e)){const i=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),ar(await Zs(i),t,n)}const r=await Zs(e);if(t||(t=ii(e)),!(n!=null&&n.type)){const i=r.find(s=>typeof s=="object"&&"type"in s&&s.type);typeof i=="string"&&(n={...n,type:i})}return ar(r,t,n)}async function Zs(e){var n;let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(Cu(e))t.push(e instanceof Blob?e:await e.arrayBuffer());else if(Da(e))for await(const r of e)t.push(...await Zs(r));else{const r=(n=e==null?void 0:e.constructor)==null?void 0:n.name;throw new Error(`Unexpected data type: ${typeof e}${r?`; constructor: ${r}`:""}${Rp(e)}`)}return t}function Rp(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}let W=class{constructor(t){this._client=t}};function Au(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const nl=Object.freeze(Object.create(null)),Pp=(e=Au)=>function(n,...r){if(n.length===1)return n[0];let i=!1;const s=[],a=n.reduce((d,u,m)=>{var y;/[?#]/.test(u)&&(i=!0);const f=r[m];let p=(i?encodeURIComponent:e)(""+f);return m!==r.length&&(f==null||typeof f=="object"&&f.toString===((y=Object.getPrototypeOf(Object.getPrototypeOf(f.hasOwnProperty??nl)??nl))==null?void 0:y.toString))&&(p=f+"",s.push({start:d.length+u.length,length:p.length,error:`Value of type ${Object.prototype.toString.call(f).slice(8,-1)} is not a valid path parameter`})),d+u+(m===r.length?"":p)},""),o=a.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let c;for(;(c=l.exec(o))!==null;)s.push({start:c.index,length:c[0].length,error:`Value "${c[0]}" can't be safely passed as a path parameter`});if(s.sort((d,u)=>d.start-u.start),s.length>0){let d=0;const u=s.reduce((m,f)=>{const p=" ".repeat(f.start-d),y="^".repeat(f.length);return d=f.start+f.length,m+p+y},"");throw new H(`Path parameters result in path with invalid segments:
${s.map(m=>m.error).join(`
`)}
${a}
${u}`)}return a},R=Pp(Au);let Eu=class extends W{list(t,n={},r){return this._client.getAPIList(R`/chat/completions/${t}/messages`,xe,{query:n,...r})}};function wi(e){return e!==void 0&&"function"in e&&e.function!==void 0}function Ba(e){return(e==null?void 0:e.$brand)==="auto-parseable-response-format"}function wr(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function Tp(e,t){return!t||!Iu(t)?{...e,choices:e.choices.map(n=>(ju(n.message.tool_calls),{...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:za(e,t)}function za(e,t){const n=e.choices.map(r=>{var i;if(r.finish_reason==="length")throw new ou;if(r.finish_reason==="content_filter")throw new lu;return ju(r.message.tool_calls),{...r,message:{...r.message,...r.message.tool_calls?{tool_calls:((i=r.message.tool_calls)==null?void 0:i.map(s=>Lp(t,s)))??void 0}:void 0,parsed:r.message.content&&!r.message.refusal?Mp(t,r.message.content):null}}});return{...e,choices:n}}function Mp(e,t){var n,r;return((n=e.response_format)==null?void 0:n.type)!=="json_schema"?null:((r=e.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in e.response_format?e.response_format.$parseRaw(t):JSON.parse(t):null}function Lp(e,t){var r;const n=(r=e.tools)==null?void 0:r.find(i=>{var s;return wi(i)&&((s=i.function)==null?void 0:s.name)===t.function.name});return{...t,function:{...t.function,parsed_arguments:wr(n)?n.$parseRaw(t.function.arguments):n!=null&&n.function.strict?JSON.parse(t.function.arguments):null}}}function $p(e,t){var r;if(!e||!("tools"in e)||!e.tools)return!1;const n=(r=e.tools)==null?void 0:r.find(i=>{var s;return wi(i)&&((s=i.function)==null?void 0:s.name)===t.function.name});return wi(n)&&(wr(n)||(n==null?void 0:n.function.strict)||!1)}function Iu(e){var t;return Ba(e.response_format)?!0:((t=e.tools)==null?void 0:t.some(n=>wr(n)||n.type==="function"&&n.function.strict===!0))??!1}function ju(e){for(const t of e||[])if(t.type!=="function")throw new H(`Currently only \`function\` tool calls are supported; Received \`${t.type}\``)}function Op(e){for(const t of e??[]){if(t.type!=="function")throw new H(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(t.function.strict!==!0)throw new H(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}const ki=e=>(e==null?void 0:e.role)==="assistant",Nu=e=>(e==null?void 0:e.role)==="tool";var ea,si,ai,Qn,Yn,oi,Zn,kt,er,_i,Si,sn,Ru;class qa{constructor(){ea.add(this),this.controller=new AbortController,si.set(this,void 0),ai.set(this,()=>{}),Qn.set(this,()=>{}),Yn.set(this,void 0),oi.set(this,()=>{}),Zn.set(this,()=>{}),kt.set(this,{}),er.set(this,!1),_i.set(this,!1),Si.set(this,!1),sn.set(this,!1),G(this,si,new Promise((t,n)=>{G(this,ai,t,"f"),G(this,Qn,n,"f")})),G(this,Yn,new Promise((t,n)=>{G(this,oi,t,"f"),G(this,Zn,n,"f")})),C(this,si,"f").catch(()=>{}),C(this,Yn,"f").catch(()=>{})}_run(t){setTimeout(()=>{t().then(()=>{this._emitFinal(),this._emit("end")},C(this,ea,"m",Ru).bind(this))},0)}_connected(){this.ended||(C(this,ai,"f").call(this),this._emit("connect"))}get ended(){return C(this,er,"f")}get errored(){return C(this,_i,"f")}get aborted(){return C(this,Si,"f")}abort(){this.controller.abort()}on(t,n){return(C(this,kt,"f")[t]||(C(this,kt,"f")[t]=[])).push({listener:n}),this}off(t,n){const r=C(this,kt,"f")[t];if(!r)return this;const i=r.findIndex(s=>s.listener===n);return i>=0&&r.splice(i,1),this}once(t,n){return(C(this,kt,"f")[t]||(C(this,kt,"f")[t]=[])).push({listener:n,once:!0}),this}emitted(t){return new Promise((n,r)=>{G(this,sn,!0),t!=="error"&&this.once("error",r),this.once(t,n)})}async done(){G(this,sn,!0),await C(this,Yn,"f")}_emit(t,...n){if(C(this,er,"f"))return;t==="end"&&(G(this,er,!0),C(this,oi,"f").call(this));const r=C(this,kt,"f")[t];if(r&&(C(this,kt,"f")[t]=r.filter(i=>!i.once),r.forEach(({listener:i})=>i(...n))),t==="abort"){const i=n[0];!C(this,sn,"f")&&!(r!=null&&r.length)&&Promise.reject(i),C(this,Qn,"f").call(this,i),C(this,Zn,"f").call(this,i),this._emit("end");return}if(t==="error"){const i=n[0];!C(this,sn,"f")&&!(r!=null&&r.length)&&Promise.reject(i),C(this,Qn,"f").call(this,i),C(this,Zn,"f").call(this,i),this._emit("end")}}_emitFinal(){}}si=new WeakMap,ai=new WeakMap,Qn=new WeakMap,Yn=new WeakMap,oi=new WeakMap,Zn=new WeakMap,kt=new WeakMap,er=new WeakMap,_i=new WeakMap,Si=new WeakMap,sn=new WeakMap,ea=new WeakSet,Ru=function(t){if(G(this,_i,!0),t instanceof Error&&t.name==="AbortError"&&(t=new tt),t instanceof tt)return G(this,Si,!0),this._emit("abort",t);if(t instanceof H)return this._emit("error",t);if(t instanceof Error){const n=new H(t.message);return n.cause=t,this._emit("error",n)}return this._emit("error",new H(String(t)))};function Fp(e){return typeof e.parse=="function"}var Pe,ta,vi,na,ra,ia,Pu,Tu;const Dp=10;class Mu extends qa{constructor(){super(...arguments),Pe.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(t){var r;this._chatCompletions.push(t),this._emit("chatCompletion",t);const n=(r=t.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),t}_addMessage(t,n=!0){if("content"in t||(t.content=null),this.messages.push(t),n){if(this._emit("message",t),Nu(t)&&t.content)this._emit("functionToolCallResult",t.content);else if(ki(t)&&t.tool_calls)for(const r of t.tool_calls)r.type==="function"&&this._emit("functionToolCall",r.function)}}async finalChatCompletion(){await this.done();const t=this._chatCompletions[this._chatCompletions.length-1];if(!t)throw new H("stream ended without producing a ChatCompletion");return t}async finalContent(){return await this.done(),C(this,Pe,"m",ta).call(this)}async finalMessage(){return await this.done(),C(this,Pe,"m",vi).call(this)}async finalFunctionToolCall(){return await this.done(),C(this,Pe,"m",na).call(this)}async finalFunctionToolCallResult(){return await this.done(),C(this,Pe,"m",ra).call(this)}async totalUsage(){return await this.done(),C(this,Pe,"m",ia).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);const n=C(this,Pe,"m",vi).call(this);n&&this._emit("finalMessage",n);const r=C(this,Pe,"m",ta).call(this);r&&this._emit("finalContent",r);const i=C(this,Pe,"m",na).call(this);i&&this._emit("finalFunctionToolCall",i);const s=C(this,Pe,"m",ra).call(this);s!=null&&this._emit("finalFunctionToolCallResult",s),this._chatCompletions.some(a=>a.usage)&&this._emit("totalUsage",C(this,Pe,"m",ia).call(this))}async _createChatCompletion(t,n,r){const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),C(this,Pe,"m",Pu).call(this,n);const s=await t.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(za(s,n))}async _runChatCompletion(t,n,r){for(const i of n.messages)this._addMessage(i,!1);return await this._createChatCompletion(t,n,r)}async _runTools(t,n,r){var f,p,y;const i="tool",{tool_choice:s="auto",stream:a,...o}=n,l=typeof s!="string"&&s.type==="function"&&((f=s==null?void 0:s.function)==null?void 0:f.name),{maxChatCompletions:c=Dp}=r||{},d=n.tools.map(w=>{if(wr(w)){if(!w.$callback)throw new H("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:w.$callback,name:w.function.name,description:w.function.description||"",parameters:w.function.parameters,parse:w.$parseRaw,strict:!0}}}return w}),u={};for(const w of d)w.type==="function"&&(u[w.function.name||w.function.function.name]=w.function);const m="tools"in n?d.map(w=>w.type==="function"?{type:"function",function:{name:w.function.name||w.function.function.name,parameters:w.function.parameters,description:w.function.description,strict:w.function.strict}}:w):void 0;for(const w of n.messages)this._addMessage(w,!1);for(let w=0;w<c;++w){const S=(p=(await this._createChatCompletion(t,{...o,tool_choice:s,tools:m,messages:[...this.messages]},r)).choices[0])==null?void 0:p.message;if(!S)throw new H("missing message in ChatCompletion response");if(!((y=S.tool_calls)!=null&&y.length))return;for(const v of S.tool_calls){if(v.type!=="function")continue;const E=v.id,{name:$,arguments:_}=v.function,M=u[$];if(M){if(l&&l!==$){const j=`Invalid tool_call: ${JSON.stringify($)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:i,tool_call_id:E,content:j});continue}}else{const j=`Invalid tool_call: ${JSON.stringify($)}. Available options are: ${Object.keys(u).map(N=>JSON.stringify(N)).join(", ")}. Please try again`;this._addMessage({role:i,tool_call_id:E,content:j});continue}let D;try{D=Fp(M)?await M.parse(_):_}catch(j){const N=j instanceof Error?j.message:String(j);this._addMessage({role:i,tool_call_id:E,content:N});continue}const F=await M.function(D,this),k=C(this,Pe,"m",Tu).call(this,F);if(this._addMessage({role:i,tool_call_id:E,content:k}),l)return}}}}Pe=new WeakSet,ta=function(){return C(this,Pe,"m",vi).call(this).content??null},vi=function(){let t=this.messages.length;for(;t-- >0;){const n=this.messages[t];if(ki(n))return{...n,content:n.content??null,refusal:n.refusal??null}}throw new H("stream ended without producing a ChatCompletionMessage with role=assistant")},na=function(){var t,n;for(let r=this.messages.length-1;r>=0;r--){const i=this.messages[r];if(ki(i)&&((t=i==null?void 0:i.tool_calls)!=null&&t.length))return(n=i.tool_calls.filter(s=>s.type==="function").at(-1))==null?void 0:n.function}},ra=function(){for(let t=this.messages.length-1;t>=0;t--){const n=this.messages[t];if(Nu(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>{var i;return r.role==="assistant"&&((i=r.tool_calls)==null?void 0:i.some(s=>s.type==="function"&&s.id===n.tool_call_id))}))return n.content}},ia=function(){const t={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(t.completion_tokens+=n.completion_tokens,t.prompt_tokens+=n.prompt_tokens,t.total_tokens+=n.total_tokens);return t},Pu=function(t){if(t.n!=null&&t.n>1)throw new H("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Tu=function(t){return typeof t=="string"?t:t===void 0?"undefined":JSON.stringify(t)};class Ua extends Mu{static runTools(t,n,r){const i=new Ua,s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(t,n,s)),i}_addMessage(t,n=!0){super._addMessage(t,n),ki(t)&&t.content&&this._emit("content",t.content)}}const Lu=1,$u=2,Ou=4,Fu=8,Du=16,Bu=32,zu=64,qu=128,Uu=256,Wu=qu|Uu,Hu=Du|Bu|Wu|zu,Vu=Lu|$u|Hu,Gu=Ou|Fu,Bp=Vu|Gu,Ce={STR:Lu,NUM:$u,ARR:Ou,OBJ:Fu,NULL:Du,BOOL:Bu,NAN:zu,INFINITY:qu,MINUS_INFINITY:Uu,INF:Wu,SPECIAL:Hu,ATOM:Vu,COLLECTION:Gu,ALL:Bp};class zp extends Error{}class qp extends Error{}function Up(e,t=Ce.ALL){if(typeof e!="string")throw new TypeError(`expecting str, got ${typeof e}`);if(!e.trim())throw new Error(`${e} is empty`);return Wp(e.trim(),t)}const Wp=(e,t)=>{const n=e.length;let r=0;const i=m=>{throw new zp(`${m} at position ${r}`)},s=m=>{throw new qp(`${m} at position ${r}`)},a=()=>(u(),r>=n&&i("Unexpected end of input"),e[r]==='"'?o():e[r]==="{"?l():e[r]==="["?c():e.substring(r,r+4)==="null"||Ce.NULL&t&&n-r<4&&"null".startsWith(e.substring(r))?(r+=4,null):e.substring(r,r+4)==="true"||Ce.BOOL&t&&n-r<4&&"true".startsWith(e.substring(r))?(r+=4,!0):e.substring(r,r+5)==="false"||Ce.BOOL&t&&n-r<5&&"false".startsWith(e.substring(r))?(r+=5,!1):e.substring(r,r+8)==="Infinity"||Ce.INFINITY&t&&n-r<8&&"Infinity".startsWith(e.substring(r))?(r+=8,1/0):e.substring(r,r+9)==="-Infinity"||Ce.MINUS_INFINITY&t&&1<n-r&&n-r<9&&"-Infinity".startsWith(e.substring(r))?(r+=9,-1/0):e.substring(r,r+3)==="NaN"||Ce.NAN&t&&n-r<3&&"NaN".startsWith(e.substring(r))?(r+=3,NaN):d()),o=()=>{const m=r;let f=!1;for(r++;r<n&&(e[r]!=='"'||f&&e[r-1]==="\\");)f=e[r]==="\\"?!f:!1,r++;if(e.charAt(r)=='"')try{return JSON.parse(e.substring(m,++r-Number(f)))}catch(p){s(String(p))}else if(Ce.STR&t)try{return JSON.parse(e.substring(m,r-Number(f))+'"')}catch{return JSON.parse(e.substring(m,e.lastIndexOf("\\"))+'"')}i("Unterminated string literal")},l=()=>{r++,u();const m={};try{for(;e[r]!=="}";){if(u(),r>=n&&Ce.OBJ&t)return m;const f=o();u(),r++;try{const p=a();Object.defineProperty(m,f,{value:p,writable:!0,enumerable:!0,configurable:!0})}catch(p){if(Ce.OBJ&t)return m;throw p}u(),e[r]===","&&r++}}catch{if(Ce.OBJ&t)return m;i("Expected '}' at end of object")}return r++,m},c=()=>{r++;const m=[];try{for(;e[r]!=="]";)m.push(a()),u(),e[r]===","&&r++}catch{if(Ce.ARR&t)return m;i("Expected ']' at end of array")}return r++,m},d=()=>{if(r===0){e==="-"&&Ce.NUM&t&&i("Not sure what '-' is");try{return JSON.parse(e)}catch(f){if(Ce.NUM&t)try{return e[e.length-1]==="."?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch{}s(String(f))}}const m=r;for(e[r]==="-"&&r++;e[r]&&!",]}".includes(e[r]);)r++;r==n&&!(Ce.NUM&t)&&i("Unterminated number literal");try{return JSON.parse(e.substring(m,r))}catch{e.substring(m,r)==="-"&&Ce.NUM&t&&i("Not sure what '-' is");try{return JSON.parse(e.substring(m,e.lastIndexOf("e")))}catch(p){s(String(p))}}},u=()=>{for(;r<n&&` 
\r	`.includes(e[r]);)r++};return a()},rl=e=>Up(e,Ce.ALL^Ce.NUM);var _e,xt,Jt,Et,os,Rr,ls,cs,us,Pr,ds,il;class mr extends Mu{constructor(t){super(),_e.add(this),xt.set(this,void 0),Jt.set(this,void 0),Et.set(this,void 0),G(this,xt,t),G(this,Jt,[])}get currentChatCompletionSnapshot(){return C(this,Et,"f")}static fromReadableStream(t){const n=new mr(null);return n._run(()=>n._fromReadableStream(t)),n}static createChatCompletion(t,n,r){const i=new mr(n);return i._run(()=>i._runChatCompletion(t,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createChatCompletion(t,n,r){var a;super._createChatCompletion;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),C(this,_e,"m",os).call(this);const s=await t.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const o of s)C(this,_e,"m",ls).call(this,o);if((a=s.controller.signal)!=null&&a.aborted)throw new tt;return this._addChatCompletion(C(this,_e,"m",Pr).call(this))}async _fromReadableStream(t,n){var a;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),C(this,_e,"m",os).call(this),this._connected();const i=fr.fromReadableStream(t,this.controller);let s;for await(const o of i)s&&s!==o.id&&this._addChatCompletion(C(this,_e,"m",Pr).call(this)),C(this,_e,"m",ls).call(this,o),s=o.id;if((a=i.controller.signal)!=null&&a.aborted)throw new tt;return this._addChatCompletion(C(this,_e,"m",Pr).call(this))}[(xt=new WeakMap,Jt=new WeakMap,Et=new WeakMap,_e=new WeakSet,os=function(){this.ended||G(this,Et,void 0)},Rr=function(n){let r=C(this,Jt,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},C(this,Jt,"f")[n.index]=r,r)},ls=function(n){var i,s,a,o,l,c,d,u,m,f,p,y,w,x,S;if(this.ended)return;const r=C(this,_e,"m",il).call(this,n);this._emit("chunk",n,r);for(const v of n.choices){const E=r.choices[v.index];v.delta.content!=null&&((i=E.message)==null?void 0:i.role)==="assistant"&&((s=E.message)!=null&&s.content)&&(this._emit("content",v.delta.content,E.message.content),this._emit("content.delta",{delta:v.delta.content,snapshot:E.message.content,parsed:E.message.parsed})),v.delta.refusal!=null&&((a=E.message)==null?void 0:a.role)==="assistant"&&((o=E.message)!=null&&o.refusal)&&this._emit("refusal.delta",{delta:v.delta.refusal,snapshot:E.message.refusal}),((l=v.logprobs)==null?void 0:l.content)!=null&&((c=E.message)==null?void 0:c.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(d=v.logprobs)==null?void 0:d.content,snapshot:((u=E.logprobs)==null?void 0:u.content)??[]}),((m=v.logprobs)==null?void 0:m.refusal)!=null&&((f=E.message)==null?void 0:f.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(p=v.logprobs)==null?void 0:p.refusal,snapshot:((y=E.logprobs)==null?void 0:y.refusal)??[]});const $=C(this,_e,"m",Rr).call(this,E);E.finish_reason&&(C(this,_e,"m",us).call(this,E),$.current_tool_call_index!=null&&C(this,_e,"m",cs).call(this,E,$.current_tool_call_index));for(const _ of v.delta.tool_calls??[])$.current_tool_call_index!==_.index&&(C(this,_e,"m",us).call(this,E),$.current_tool_call_index!=null&&C(this,_e,"m",cs).call(this,E,$.current_tool_call_index)),$.current_tool_call_index=_.index;for(const _ of v.delta.tool_calls??[]){const M=(w=E.message.tool_calls)==null?void 0:w[_.index];M!=null&&M.type&&((M==null?void 0:M.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(x=M.function)==null?void 0:x.name,index:_.index,arguments:M.function.arguments,parsed_arguments:M.function.parsed_arguments,arguments_delta:((S=_.function)==null?void 0:S.arguments)??""}):(M==null||M.type,void 0))}}},cs=function(n,r){var a,o,l;if(C(this,_e,"m",Rr).call(this,n).done_tool_calls.has(r))return;const s=(a=n.message.tool_calls)==null?void 0:a[r];if(!s)throw new Error("no tool call snapshot");if(!s.type)throw new Error("tool call snapshot missing `type`");if(s.type==="function"){const c=(l=(o=C(this,xt,"f"))==null?void 0:o.tools)==null?void 0:l.find(d=>wi(d)&&d.function.name===s.function.name);this._emit("tool_calls.function.arguments.done",{name:s.function.name,index:r,arguments:s.function.arguments,parsed_arguments:wr(c)?c.$parseRaw(s.function.arguments):c!=null&&c.function.strict?JSON.parse(s.function.arguments):null})}else s.type},us=function(n){var i,s;const r=C(this,_e,"m",Rr).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;const a=C(this,_e,"m",ds).call(this);this._emit("content.done",{content:n.message.content,parsed:a?a.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(i=n.logprobs)!=null&&i.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(s=n.logprobs)!=null&&s.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},Pr=function(){if(this.ended)throw new H("stream has ended, this shouldn't happen");const n=C(this,Et,"f");if(!n)throw new H("request ended without sending any chunks");return G(this,Et,void 0),G(this,Jt,[]),Hp(n,C(this,xt,"f"))},ds=function(){var r;const n=(r=C(this,xt,"f"))==null?void 0:r.response_format;return Ba(n)?n:null},il=function(n){var r,i,s,a;let o=C(this,Et,"f");const{choices:l,...c}=n;o?Object.assign(o,c):o=G(this,Et,{...c,choices:[]});for(const{delta:d,finish_reason:u,index:m,logprobs:f=null,...p}of n.choices){let y=o.choices[m];if(y||(y=o.choices[m]={finish_reason:u,index:m,message:{},logprobs:f,...p}),f)if(!y.logprobs)y.logprobs=Object.assign({},f);else{const{content:_,refusal:M,...D}=f;Object.assign(y.logprobs,D),_&&((r=y.logprobs).content??(r.content=[]),y.logprobs.content.push(..._)),M&&((i=y.logprobs).refusal??(i.refusal=[]),y.logprobs.refusal.push(...M))}if(u&&(y.finish_reason=u,C(this,xt,"f")&&Iu(C(this,xt,"f")))){if(u==="length")throw new ou;if(u==="content_filter")throw new lu}if(Object.assign(y,p),!d)continue;const{content:w,refusal:x,function_call:S,role:v,tool_calls:E,...$}=d;if(Object.assign(y.message,$),x&&(y.message.refusal=(y.message.refusal||"")+x),v&&(y.message.role=v),S&&(y.message.function_call?(S.name&&(y.message.function_call.name=S.name),S.arguments&&((s=y.message.function_call).arguments??(s.arguments=""),y.message.function_call.arguments+=S.arguments)):y.message.function_call=S),w&&(y.message.content=(y.message.content||"")+w,!y.message.refusal&&C(this,_e,"m",ds).call(this)&&(y.message.parsed=rl(y.message.content))),E){y.message.tool_calls||(y.message.tool_calls=[]);for(const{index:_,id:M,type:D,function:F,...k}of E){const j=(a=y.message.tool_calls)[_]??(a[_]={});Object.assign(j,k),M&&(j.id=M),D&&(j.type=D),F&&(j.function??(j.function={name:F.name??"",arguments:""})),F!=null&&F.name&&(j.function.name=F.name),F!=null&&F.arguments&&(j.function.arguments+=F.arguments,$p(C(this,xt,"f"),j)&&(j.function.parsed_arguments=rl(j.function.arguments)))}}}return o},Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("chunk",i=>{const s=n.shift();s?s.resolve(i):t.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,a)=>n.push({resolve:s,reject:a})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new fr(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function Hp(e,t){const{id:n,choices:r,created:i,model:s,system_fingerprint:a,...o}=e,l={...o,id:n,choices:r.map(({message:c,finish_reason:d,index:u,logprobs:m,...f})=>{if(!d)throw new H(`missing finish_reason for choice ${u}`);const{content:p=null,function_call:y,tool_calls:w,...x}=c,S=c.role;if(!S)throw new H(`missing role for choice ${u}`);if(y){const{arguments:v,name:E}=y;if(v==null)throw new H(`missing function_call.arguments for choice ${u}`);if(!E)throw new H(`missing function_call.name for choice ${u}`);return{...f,message:{content:p,function_call:{arguments:v,name:E},role:S,refusal:c.refusal??null},finish_reason:d,index:u,logprobs:m}}return w?{...f,index:u,finish_reason:d,logprobs:m,message:{...x,role:S,content:p,refusal:c.refusal??null,tool_calls:w.map((v,E)=>{const{function:$,type:_,id:M,...D}=v,{arguments:F,name:k,...j}=$||{};if(M==null)throw new H(`missing choices[${u}].tool_calls[${E}].id
${Tr(e)}`);if(_==null)throw new H(`missing choices[${u}].tool_calls[${E}].type
${Tr(e)}`);if(k==null)throw new H(`missing choices[${u}].tool_calls[${E}].function.name
${Tr(e)}`);if(F==null)throw new H(`missing choices[${u}].tool_calls[${E}].function.arguments
${Tr(e)}`);return{...D,id:M,type:_,function:{...j,name:k,arguments:F}}})}}:{...f,message:{...x,content:p,role:S,refusal:c.refusal??null},finish_reason:d,index:u,logprobs:m}}),created:i,model:s,object:"chat.completion",...a?{system_fingerprint:a}:{}};return Tp(l,t)}function Tr(e){return JSON.stringify(e)}class Ci extends mr{static fromReadableStream(t){const n=new Ci(null);return n._run(()=>n._fromReadableStream(t)),n}static runTools(t,n,r){const i=new Ci(n),s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(t,n,s)),i}}let Wa=class extends W{constructor(){super(...arguments),this.messages=new Eu(this._client)}create(t,n){return this._client.post("/chat/completions",{body:t,...n,stream:t.stream??!1})}retrieve(t,n){return this._client.get(R`/chat/completions/${t}`,n)}update(t,n,r){return this._client.post(R`/chat/completions/${t}`,{body:n,...r})}list(t={},n){return this._client.getAPIList("/chat/completions",xe,{query:t,...n})}delete(t,n){return this._client.delete(R`/chat/completions/${t}`,n)}parse(t,n){return Op(t.tools),this._client.chat.completions.create(t,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(r=>za(r,t))}runTools(t,n){return t.stream?Ci.runTools(this._client,t,n):Ua.runTools(this._client,t,n)}stream(t,n){return mr.createChatCompletion(this._client,t,n)}};Wa.Messages=Eu;class Ha extends W{constructor(){super(...arguments),this.completions=new Wa(this._client)}}Ha.Completions=Wa;const Ku=Symbol("brand.privateNullableHeaders");function*Vp(e){if(!e)return;if(Ku in e){const{values:r,nulls:i}=e;yield*r.entries();for(const s of i)yield[s,null];return}let t=!1,n;e instanceof Headers?n=e.entries():qo(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const s=qo(r[1])?r[1]:[r[1]];let a=!1;for(const o of s)o!==void 0&&(t&&!a&&(a=!0,yield[i,null]),yield[i,o])}}const B=e=>{const t=new Headers,n=new Set;for(const r of e){const i=new Set;for(const[s,a]of Vp(r)){const o=s.toLowerCase();i.has(o)||(t.delete(s),i.add(o)),a===null?(t.delete(s),n.add(o)):(t.append(s,a),n.delete(o))}}return{[Ku]:!0,values:t,nulls:n}};class Ju extends W{create(t,n){return this._client.post("/audio/speech",{body:t,...n,headers:B([{Accept:"application/octet-stream"},n==null?void 0:n.headers]),__binaryResponse:!0})}}class Xu extends W{create(t,n){return this._client.post("/audio/transcriptions",Wt({body:t,...n,stream:t.stream??!1,__metadata:{model:t.model}},this._client))}}class Qu extends W{create(t,n){return this._client.post("/audio/translations",Wt({body:t,...n,__metadata:{model:t.model}},this._client))}}class kr extends W{constructor(){super(...arguments),this.transcriptions=new Xu(this._client),this.translations=new Qu(this._client),this.speech=new Ju(this._client)}}kr.Transcriptions=Xu;kr.Translations=Qu;kr.Speech=Ju;let Yu=class extends W{create(t,n){return this._client.post("/batches",{body:t,...n})}retrieve(t,n){return this._client.get(R`/batches/${t}`,n)}list(t={},n){return this._client.getAPIList("/batches",xe,{query:t,...n})}cancel(t,n){return this._client.post(R`/batches/${t}/cancel`,n)}};class Zu extends W{create(t,n){return this._client.post("/assistants",{body:t,...n,headers:B([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(t,n){return this._client.get(R`/assistants/${t}`,{...n,headers:B([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(t,n,r){return this._client.post(R`/assistants/${t}`,{body:n,...r,headers:B([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(t={},n){return this._client.getAPIList("/assistants",xe,{query:t,...n,headers:B([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}delete(t,n){return this._client.delete(R`/assistants/${t}`,{...n,headers:B([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}}let ed=class extends W{create(t,n){return this._client.post("/realtime/sessions",{body:t,...n,headers:B([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}};class td extends W{create(t,n){return this._client.post("/realtime/transcription_sessions",{body:t,...n,headers:B([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}}let Fi=class extends W{constructor(){super(...arguments),this.sessions=new ed(this._client),this.transcriptionSessions=new td(this._client)}};Fi.Sessions=ed;Fi.TranscriptionSessions=td;class nd extends W{create(t,n){return this._client.post("/chatkit/sessions",{body:t,...n,headers:B([{"OpenAI-Beta":"chatkit_beta=v1"},n==null?void 0:n.headers])})}cancel(t,n){return this._client.post(R`/chatkit/sessions/${t}/cancel`,{...n,headers:B([{"OpenAI-Beta":"chatkit_beta=v1"},n==null?void 0:n.headers])})}}let rd=class extends W{retrieve(t,n){return this._client.get(R`/chatkit/threads/${t}`,{...n,headers:B([{"OpenAI-Beta":"chatkit_beta=v1"},n==null?void 0:n.headers])})}list(t={},n){return this._client.getAPIList("/chatkit/threads",bi,{query:t,...n,headers:B([{"OpenAI-Beta":"chatkit_beta=v1"},n==null?void 0:n.headers])})}delete(t,n){return this._client.delete(R`/chatkit/threads/${t}`,{...n,headers:B([{"OpenAI-Beta":"chatkit_beta=v1"},n==null?void 0:n.headers])})}listItems(t,n={},r){return this._client.getAPIList(R`/chatkit/threads/${t}/items`,bi,{query:n,...r,headers:B([{"OpenAI-Beta":"chatkit_beta=v1"},r==null?void 0:r.headers])})}};class Di extends W{constructor(){super(...arguments),this.sessions=new nd(this._client),this.threads=new rd(this._client)}}Di.Sessions=nd;Di.Threads=rd;let id=class extends W{create(t,n,r){return this._client.post(R`/threads/${t}/messages`,{body:n,...r,headers:B([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(t,n,r){const{thread_id:i}=n;return this._client.get(R`/threads/${i}/messages/${t}`,{...r,headers:B([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(t,n,r){const{thread_id:i,...s}=n;return this._client.post(R`/threads/${i}/messages/${t}`,{body:s,...r,headers:B([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(t,n={},r){return this._client.getAPIList(R`/threads/${t}/messages`,xe,{query:n,...r,headers:B([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(t,n,r){const{thread_id:i}=n;return this._client.delete(R`/threads/${i}/messages/${t}`,{...r,headers:B([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}};class sd extends W{retrieve(t,n,r){const{thread_id:i,run_id:s,...a}=n;return this._client.get(R`/threads/${i}/runs/${s}/steps/${t}`,{query:a,...r,headers:B([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(t,n,r){const{thread_id:i,...s}=n;return this._client.getAPIList(R`/threads/${i}/runs/${t}/steps`,xe,{query:s,...r,headers:B([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}const Gp=e=>{if(typeof Buffer<"u"){const t=Buffer.from(e,"base64");return Array.from(new Float32Array(t.buffer,t.byteOffset,t.length/Float32Array.BYTES_PER_ELEMENT))}else{const t=atob(e),n=t.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=t.charCodeAt(i);return Array.from(new Float32Array(r.buffer))}};var hs={};const Xt=e=>{var t,n,r,i;if(typeof globalThis.process<"u")return((t=hs==null?void 0:hs[e])==null?void 0:t.trim())??void 0;if(typeof globalThis.Deno<"u")return(i=(r=(n=globalThis.Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,e))==null?void 0:i.trim()};var Ee,zt,sa,dt,li,it,qt,un,Bt,Ai,Xe,ci,ui,or,tr,nr,sl,al,ol,ll,cl,ul,dl;class lr extends qa{constructor(){super(...arguments),Ee.add(this),sa.set(this,[]),dt.set(this,{}),li.set(this,{}),it.set(this,void 0),qt.set(this,void 0),un.set(this,void 0),Bt.set(this,void 0),Ai.set(this,void 0),Xe.set(this,void 0),ci.set(this,void 0),ui.set(this,void 0),or.set(this,void 0)}[(sa=new WeakMap,dt=new WeakMap,li=new WeakMap,it=new WeakMap,qt=new WeakMap,un=new WeakMap,Bt=new WeakMap,Ai=new WeakMap,Xe=new WeakMap,ci=new WeakMap,ui=new WeakMap,or=new WeakMap,Ee=new WeakSet,Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("event",i=>{const s=n.shift();s?s.resolve(i):t.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,a)=>n.push({resolve:s,reject:a})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(t){const n=new zt;return n._run(()=>n._fromReadableStream(t)),n}async _fromReadableStream(t,n){var s;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const i=fr.fromReadableStream(t,this.controller);for await(const a of i)C(this,Ee,"m",tr).call(this,a);if((s=i.controller.signal)!=null&&s.aborted)throw new tt;return this._addRun(C(this,Ee,"m",nr).call(this))}toReadableStream(){return new fr(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(t,n,r,i){const s=new zt;return s._run(()=>s._runToolAssistantStream(t,n,r,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createToolAssistantStream(t,n,r,i){var l;const s=i==null?void 0:i.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const a={...r,stream:!0},o=await t.submitToolOutputs(n,a,{...i,signal:this.controller.signal});this._connected();for await(const c of o)C(this,Ee,"m",tr).call(this,c);if((l=o.controller.signal)!=null&&l.aborted)throw new tt;return this._addRun(C(this,Ee,"m",nr).call(this))}static createThreadAssistantStream(t,n,r){const i=new zt;return i._run(()=>i._threadAssistantStream(t,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}static createAssistantStream(t,n,r,i){const s=new zt;return s._run(()=>s._runAssistantStream(t,n,r,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),s}currentEvent(){return C(this,ci,"f")}currentRun(){return C(this,ui,"f")}currentMessageSnapshot(){return C(this,it,"f")}currentRunStepSnapshot(){return C(this,or,"f")}async finalRunSteps(){return await this.done(),Object.values(C(this,dt,"f"))}async finalMessages(){return await this.done(),Object.values(C(this,li,"f"))}async finalRun(){if(await this.done(),!C(this,qt,"f"))throw Error("Final run was not received.");return C(this,qt,"f")}async _createThreadAssistantStream(t,n,r){var o;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const s={...n,stream:!0},a=await t.createAndRun(s,{...r,signal:this.controller.signal});this._connected();for await(const l of a)C(this,Ee,"m",tr).call(this,l);if((o=a.controller.signal)!=null&&o.aborted)throw new tt;return this._addRun(C(this,Ee,"m",nr).call(this))}async _createAssistantStream(t,n,r,i){var l;const s=i==null?void 0:i.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const a={...r,stream:!0},o=await t.create(n,a,{...i,signal:this.controller.signal});this._connected();for await(const c of o)C(this,Ee,"m",tr).call(this,c);if((l=o.controller.signal)!=null&&l.aborted)throw new tt;return this._addRun(C(this,Ee,"m",nr).call(this))}static accumulateDelta(t,n){for(const[r,i]of Object.entries(n)){if(!t.hasOwnProperty(r)){t[r]=i;continue}let s=t[r];if(s==null){t[r]=i;continue}if(r==="index"||r==="type"){t[r]=i;continue}if(typeof s=="string"&&typeof i=="string")s+=i;else if(typeof s=="number"&&typeof i=="number")s+=i;else if(is(s)&&is(i))s=this.accumulateDelta(s,i);else if(Array.isArray(s)&&Array.isArray(i)){if(s.every(a=>typeof a=="string"||typeof a=="number")){s.push(...i);continue}for(const a of i){if(!is(a))throw new Error(`Expected array delta entry to be an object but got: ${a}`);const o=a.index;if(o==null)throw console.error(a),new Error("Expected array delta entry to have an `index` property");if(typeof o!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${o}`);const l=s[o];l==null?s.push(a):s[o]=this.accumulateDelta(l,a)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${i}, accValue: ${s}`);t[r]=s}return t}_addRun(t){return t}async _threadAssistantStream(t,n,r){return await this._createThreadAssistantStream(n,t,r)}async _runAssistantStream(t,n,r,i){return await this._createAssistantStream(n,t,r,i)}async _runToolAssistantStream(t,n,r,i){return await this._createToolAssistantStream(n,t,r,i)}}zt=lr,tr=function(t){if(!this.ended)switch(G(this,ci,t),C(this,Ee,"m",ol).call(this,t),t.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":C(this,Ee,"m",dl).call(this,t);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":C(this,Ee,"m",al).call(this,t);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":C(this,Ee,"m",sl).call(this,t);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},nr=function(){if(this.ended)throw new H("stream has ended, this shouldn't happen");if(!C(this,qt,"f"))throw Error("Final run has not been received");return C(this,qt,"f")},sl=function(t){const[n,r]=C(this,Ee,"m",cl).call(this,t,C(this,it,"f"));G(this,it,n),C(this,li,"f")[n.id]=n;for(const i of r){const s=n.content[i.index];(s==null?void 0:s.type)=="text"&&this._emit("textCreated",s.text)}switch(t.event){case"thread.message.created":this._emit("messageCreated",t.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",t.data.delta,n),t.data.delta.content)for(const i of t.data.delta.content){if(i.type=="text"&&i.text){let s=i.text,a=n.content[i.index];if(a&&a.type=="text")this._emit("textDelta",s,a.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(i.index!=C(this,un,"f")){if(C(this,Bt,"f"))switch(C(this,Bt,"f").type){case"text":this._emit("textDone",C(this,Bt,"f").text,C(this,it,"f"));break;case"image_file":this._emit("imageFileDone",C(this,Bt,"f").image_file,C(this,it,"f"));break}G(this,un,i.index)}G(this,Bt,n.content[i.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(C(this,un,"f")!==void 0){const i=t.data.content[C(this,un,"f")];if(i)switch(i.type){case"image_file":this._emit("imageFileDone",i.image_file,C(this,it,"f"));break;case"text":this._emit("textDone",i.text,C(this,it,"f"));break}}C(this,it,"f")&&this._emit("messageDone",t.data),G(this,it,void 0)}},al=function(t){const n=C(this,Ee,"m",ll).call(this,t);switch(G(this,or,n),t.event){case"thread.run.step.created":this._emit("runStepCreated",t.data);break;case"thread.run.step.delta":const r=t.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const s of r.step_details.tool_calls)s.index==C(this,Ai,"f")?this._emit("toolCallDelta",s,n.step_details.tool_calls[s.index]):(C(this,Xe,"f")&&this._emit("toolCallDone",C(this,Xe,"f")),G(this,Ai,s.index),G(this,Xe,n.step_details.tool_calls[s.index]),C(this,Xe,"f")&&this._emit("toolCallCreated",C(this,Xe,"f")));this._emit("runStepDelta",t.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":G(this,or,void 0),t.data.step_details.type=="tool_calls"&&C(this,Xe,"f")&&(this._emit("toolCallDone",C(this,Xe,"f")),G(this,Xe,void 0)),this._emit("runStepDone",t.data,n);break}},ol=function(t){C(this,sa,"f").push(t),this._emit("event",t)},ll=function(t){switch(t.event){case"thread.run.step.created":return C(this,dt,"f")[t.data.id]=t.data,t.data;case"thread.run.step.delta":let n=C(this,dt,"f")[t.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=t.data;if(r.delta){const i=zt.accumulateDelta(n,r.delta);C(this,dt,"f")[t.data.id]=i}return C(this,dt,"f")[t.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":C(this,dt,"f")[t.data.id]=t.data;break}if(C(this,dt,"f")[t.data.id])return C(this,dt,"f")[t.data.id];throw new Error("No snapshot available")},cl=function(t,n){let r=[];switch(t.event){case"thread.message.created":return[t.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let i=t.data;if(i.delta.content)for(const s of i.delta.content)if(s.index in n.content){let a=n.content[s.index];n.content[s.index]=C(this,Ee,"m",ul).call(this,s,a)}else n.content[s.index]=s,r.push(s);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},ul=function(t,n){return zt.accumulateDelta(n,t)},dl=function(t){switch(G(this,ui,t.data),t.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":G(this,qt,t.data),C(this,Xe,"f")&&(this._emit("toolCallDone",C(this,Xe,"f")),G(this,Xe,void 0));break}};let Va=class extends W{constructor(){super(...arguments),this.steps=new sd(this._client)}create(t,n,r){const{include:i,...s}=n;return this._client.post(R`/threads/${t}/runs`,{query:{include:i},body:s,...r,headers:B([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers]),stream:n.stream??!1})}retrieve(t,n,r){const{thread_id:i}=n;return this._client.get(R`/threads/${i}/runs/${t}`,{...r,headers:B([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(t,n,r){const{thread_id:i,...s}=n;return this._client.post(R`/threads/${i}/runs/${t}`,{body:s,...r,headers:B([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(t,n={},r){return this._client.getAPIList(R`/threads/${t}/runs`,xe,{query:n,...r,headers:B([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}cancel(t,n,r){const{thread_id:i}=n;return this._client.post(R`/threads/${i}/runs/${t}/cancel`,{...r,headers:B([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async createAndPoll(t,n,r){const i=await this.create(t,n,r);return await this.poll(i.id,{thread_id:t},r)}createAndStream(t,n,r){return lr.createAssistantStream(t,this._client.beta.threads.runs,n,r)}async poll(t,n,r){var s;const i=B([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((s=r==null?void 0:r.pollIntervalMs)==null?void 0:s.toString())??void 0}]);for(;;){const{data:a,response:o}=await this.retrieve(t,n,{...r,headers:{...r==null?void 0:r.headers,...i}}).withResponse();switch(a.status){case"queued":case"in_progress":case"cancelling":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const c=o.headers.get("openai-poll-after-ms");if(c){const d=parseInt(c);isNaN(d)||(l=d)}}await br(l);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return a}}}stream(t,n,r){return lr.createAssistantStream(t,this._client.beta.threads.runs,n,r)}submitToolOutputs(t,n,r){const{thread_id:i,...s}=n;return this._client.post(R`/threads/${i}/runs/${t}/submit_tool_outputs`,{body:s,...r,headers:B([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers]),stream:n.stream??!1})}async submitToolOutputsAndPoll(t,n,r){const i=await this.submitToolOutputs(t,n,r);return await this.poll(i.id,n,r)}submitToolOutputsStream(t,n,r){return lr.createToolAssistantStream(t,this._client.beta.threads.runs,n,r)}};Va.Steps=sd;class Bi extends W{constructor(){super(...arguments),this.runs=new Va(this._client),this.messages=new id(this._client)}create(t={},n){return this._client.post("/threads",{body:t,...n,headers:B([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(t,n){return this._client.get(R`/threads/${t}`,{...n,headers:B([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(t,n,r){return this._client.post(R`/threads/${t}`,{body:n,...r,headers:B([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(t,n){return this._client.delete(R`/threads/${t}`,{...n,headers:B([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}createAndRun(t,n){return this._client.post("/threads/runs",{body:t,...n,headers:B([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers]),stream:t.stream??!1})}async createAndRunPoll(t,n){const r=await this.createAndRun(t,n);return await this.runs.poll(r.id,{thread_id:r.thread_id},n)}createAndRunStream(t,n){return lr.createThreadAssistantStream(t,this._client.beta.threads,n)}}Bi.Runs=Va;Bi.Messages=id;let xn=class extends W{constructor(){super(...arguments),this.realtime=new Fi(this._client),this.chatkit=new Di(this._client),this.assistants=new Zu(this._client),this.threads=new Bi(this._client)}};xn.Realtime=Fi;xn.ChatKit=Di;xn.Assistants=Zu;xn.Threads=Bi;let ad=class extends W{create(t,n){return this._client.post("/completions",{body:t,...n,stream:t.stream??!1})}};class od extends W{retrieve(t,n,r){const{container_id:i}=n;return this._client.get(R`/containers/${i}/files/${t}/content`,{...r,headers:B([{Accept:"application/binary"},r==null?void 0:r.headers]),__binaryResponse:!0})}}let Ga=class extends W{constructor(){super(...arguments),this.content=new od(this._client)}create(t,n,r){return this._client.post(R`/containers/${t}/files`,Wt({body:n,...r},this._client))}retrieve(t,n,r){const{container_id:i}=n;return this._client.get(R`/containers/${i}/files/${t}`,r)}list(t,n={},r){return this._client.getAPIList(R`/containers/${t}/files`,xe,{query:n,...r})}delete(t,n,r){const{container_id:i}=n;return this._client.delete(R`/containers/${i}/files/${t}`,{...r,headers:B([{Accept:"*/*"},r==null?void 0:r.headers])})}};Ga.Content=od;class Ka extends W{constructor(){super(...arguments),this.files=new Ga(this._client)}create(t,n){return this._client.post("/containers",{body:t,...n})}retrieve(t,n){return this._client.get(R`/containers/${t}`,n)}list(t={},n){return this._client.getAPIList("/containers",xe,{query:t,...n})}delete(t,n){return this._client.delete(R`/containers/${t}`,{...n,headers:B([{Accept:"*/*"},n==null?void 0:n.headers])})}}Ka.Files=Ga;class ld extends W{create(t,n,r){const{include:i,...s}=n;return this._client.post(R`/conversations/${t}/items`,{query:{include:i},body:s,...r})}retrieve(t,n,r){const{conversation_id:i,...s}=n;return this._client.get(R`/conversations/${i}/items/${t}`,{query:s,...r})}list(t,n={},r){return this._client.getAPIList(R`/conversations/${t}/items`,bi,{query:n,...r})}delete(t,n,r){const{conversation_id:i}=n;return this._client.delete(R`/conversations/${i}/items/${t}`,r)}}class Ja extends W{constructor(){super(...arguments),this.items=new ld(this._client)}create(t={},n){return this._client.post("/conversations",{body:t,...n})}retrieve(t,n){return this._client.get(R`/conversations/${t}`,n)}update(t,n,r){return this._client.post(R`/conversations/${t}`,{body:n,...r})}delete(t,n){return this._client.delete(R`/conversations/${t}`,n)}}Ja.Items=ld;class cd extends W{create(t,n){const r=!!t.encoding_format;let i=r?t.encoding_format:"base64";r&&Ae(this._client).debug("embeddings/user defined encoding_format:",t.encoding_format);const s=this._client.post("/embeddings",{body:{...t,encoding_format:i},...n});return r?s:(Ae(this._client).debug("embeddings/decoding base64 embeddings from base64"),s._thenUnwrap(a=>(a&&a.data&&a.data.forEach(o=>{const l=o.embedding;o.embedding=Gp(l)}),a)))}}class ud extends W{retrieve(t,n,r){const{eval_id:i,run_id:s}=n;return this._client.get(R`/evals/${i}/runs/${s}/output_items/${t}`,r)}list(t,n,r){const{eval_id:i,...s}=n;return this._client.getAPIList(R`/evals/${i}/runs/${t}/output_items`,xe,{query:s,...r})}}class Xa extends W{constructor(){super(...arguments),this.outputItems=new ud(this._client)}create(t,n,r){return this._client.post(R`/evals/${t}/runs`,{body:n,...r})}retrieve(t,n,r){const{eval_id:i}=n;return this._client.get(R`/evals/${i}/runs/${t}`,r)}list(t,n={},r){return this._client.getAPIList(R`/evals/${t}/runs`,xe,{query:n,...r})}delete(t,n,r){const{eval_id:i}=n;return this._client.delete(R`/evals/${i}/runs/${t}`,r)}cancel(t,n,r){const{eval_id:i}=n;return this._client.post(R`/evals/${i}/runs/${t}`,r)}}Xa.OutputItems=ud;class Qa extends W{constructor(){super(...arguments),this.runs=new Xa(this._client)}create(t,n){return this._client.post("/evals",{body:t,...n})}retrieve(t,n){return this._client.get(R`/evals/${t}`,n)}update(t,n,r){return this._client.post(R`/evals/${t}`,{body:n,...r})}list(t={},n){return this._client.getAPIList("/evals",xe,{query:t,...n})}delete(t,n){return this._client.delete(R`/evals/${t}`,n)}}Qa.Runs=Xa;let dd=class extends W{create(t,n){return this._client.post("/files",Wt({body:t,...n},this._client))}retrieve(t,n){return this._client.get(R`/files/${t}`,n)}list(t={},n){return this._client.getAPIList("/files",xe,{query:t,...n})}delete(t,n){return this._client.delete(R`/files/${t}`,n)}content(t,n){return this._client.get(R`/files/${t}/content`,{...n,headers:B([{Accept:"application/binary"},n==null?void 0:n.headers]),__binaryResponse:!0})}async waitForProcessing(t,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){const i=new Set(["processed","error","deleted"]),s=Date.now();let a=await this.retrieve(t);for(;!a.status||!i.has(a.status);)if(await br(n),a=await this.retrieve(t),Date.now()-s>r)throw new $a({message:`Giving up on waiting for file ${t} to finish processing after ${r} milliseconds.`});return a}};class hd extends W{}let fd=class extends W{run(t,n){return this._client.post("/fine_tuning/alpha/graders/run",{body:t,...n})}validate(t,n){return this._client.post("/fine_tuning/alpha/graders/validate",{body:t,...n})}};class Ya extends W{constructor(){super(...arguments),this.graders=new fd(this._client)}}Ya.Graders=fd;class md extends W{create(t,n,r){return this._client.getAPIList(R`/fine_tuning/checkpoints/${t}/permissions`,Oi,{body:n,method:"post",...r})}retrieve(t,n={},r){return this._client.get(R`/fine_tuning/checkpoints/${t}/permissions`,{query:n,...r})}delete(t,n,r){const{fine_tuned_model_checkpoint:i}=n;return this._client.delete(R`/fine_tuning/checkpoints/${i}/permissions/${t}`,r)}}let Za=class extends W{constructor(){super(...arguments),this.permissions=new md(this._client)}};Za.Permissions=md;class pd extends W{list(t,n={},r){return this._client.getAPIList(R`/fine_tuning/jobs/${t}/checkpoints`,xe,{query:n,...r})}}class eo extends W{constructor(){super(...arguments),this.checkpoints=new pd(this._client)}create(t,n){return this._client.post("/fine_tuning/jobs",{body:t,...n})}retrieve(t,n){return this._client.get(R`/fine_tuning/jobs/${t}`,n)}list(t={},n){return this._client.getAPIList("/fine_tuning/jobs",xe,{query:t,...n})}cancel(t,n){return this._client.post(R`/fine_tuning/jobs/${t}/cancel`,n)}listEvents(t,n={},r){return this._client.getAPIList(R`/fine_tuning/jobs/${t}/events`,xe,{query:n,...r})}pause(t,n){return this._client.post(R`/fine_tuning/jobs/${t}/pause`,n)}resume(t,n){return this._client.post(R`/fine_tuning/jobs/${t}/resume`,n)}}eo.Checkpoints=pd;class bn extends W{constructor(){super(...arguments),this.methods=new hd(this._client),this.jobs=new eo(this._client),this.checkpoints=new Za(this._client),this.alpha=new Ya(this._client)}}bn.Methods=hd;bn.Jobs=eo;bn.Checkpoints=Za;bn.Alpha=Ya;class gd extends W{}class to extends W{constructor(){super(...arguments),this.graderModels=new gd(this._client)}}to.GraderModels=gd;class yd extends W{createVariation(t,n){return this._client.post("/images/variations",Wt({body:t,...n},this._client))}edit(t,n){return this._client.post("/images/edits",Wt({body:t,...n,stream:t.stream??!1},this._client))}generate(t,n){return this._client.post("/images/generations",{body:t,...n,stream:t.stream??!1})}}let xd=class extends W{retrieve(t,n){return this._client.get(R`/models/${t}`,n)}list(t){return this._client.getAPIList("/models",Oi,t)}delete(t,n){return this._client.delete(R`/models/${t}`,n)}};class bd extends W{create(t,n){return this._client.post("/moderations",{body:t,...n})}}class wd extends W{accept(t,n,r){return this._client.post(R`/realtime/calls/${t}/accept`,{body:n,...r,headers:B([{Accept:"*/*"},r==null?void 0:r.headers])})}hangup(t,n){return this._client.post(R`/realtime/calls/${t}/hangup`,{...n,headers:B([{Accept:"*/*"},n==null?void 0:n.headers])})}refer(t,n,r){return this._client.post(R`/realtime/calls/${t}/refer`,{body:n,...r,headers:B([{Accept:"*/*"},r==null?void 0:r.headers])})}reject(t,n={},r){return this._client.post(R`/realtime/calls/${t}/reject`,{body:n,...r,headers:B([{Accept:"*/*"},r==null?void 0:r.headers])})}}class kd extends W{create(t,n){return this._client.post("/realtime/client_secrets",{body:t,...n})}}class zi extends W{constructor(){super(...arguments),this.clientSecrets=new kd(this._client),this.calls=new wd(this._client)}}zi.ClientSecrets=kd;zi.Calls=wd;function Kp(e,t){return!t||!Xp(t)?{...e,output_parsed:null,output:e.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(r=>({...r,parsed:null}))}:n)}:_d(e,t)}function _d(e,t){const n=e.output.map(i=>{if(i.type==="function_call")return{...i,parsed_arguments:Zp(t,i)};if(i.type==="message"){const s=i.content.map(a=>a.type==="output_text"?{...a,parsed:Jp(t,a.text)}:a);return{...i,content:s}}return i}),r=Object.assign({},e,{output:n});return Object.getOwnPropertyDescriptor(e,"output_text")||aa(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(const i of r.output)if(i.type==="message"){for(const s of i.content)if(s.type==="output_text"&&s.parsed!==null)return s.parsed}return null}}),r}function Jp(e,t){var n,r,i,s;return((r=(n=e.text)==null?void 0:n.format)==null?void 0:r.type)!=="json_schema"?null:"$parseRaw"in((i=e.text)==null?void 0:i.format)?((s=e.text)==null?void 0:s.format).$parseRaw(t):JSON.parse(t)}function Xp(e){var t;return!!Ba((t=e.text)==null?void 0:t.format)}function Qp(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function Yp(e,t){return e.find(n=>n.type==="function"&&n.name===t)}function Zp(e,t){const n=Yp(e.tools??[],t.name);return{...t,...t,parsed_arguments:Qp(n)?n.$parseRaw(t.arguments):n!=null&&n.strict?JSON.parse(t.arguments):null}}function aa(e){const t=[];for(const n of e.output)if(n.type==="message")for(const r of n.content)r.type==="output_text"&&t.push(r.text);e.output_text=t.join("")}var Qt,Mr,It,Lr,hl,fl,ml,pl;class no extends qa{constructor(t){super(),Qt.add(this),Mr.set(this,void 0),It.set(this,void 0),Lr.set(this,void 0),G(this,Mr,t)}static createResponse(t,n,r){const i=new no(n);return i._run(()=>i._createOrRetrieveResponse(t,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createOrRetrieveResponse(t,n,r){var o;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),C(this,Qt,"m",hl).call(this);let s,a=null;"response_id"in n?(s=await t.responses.retrieve(n.response_id,{stream:!0},{...r,signal:this.controller.signal,stream:!0}),a=n.starting_after??null):s=await t.responses.create({...n,stream:!0},{...r,signal:this.controller.signal}),this._connected();for await(const l of s)C(this,Qt,"m",fl).call(this,l,a);if((o=s.controller.signal)!=null&&o.aborted)throw new tt;return C(this,Qt,"m",ml).call(this)}[(Mr=new WeakMap,It=new WeakMap,Lr=new WeakMap,Qt=new WeakSet,hl=function(){this.ended||G(this,It,void 0)},fl=function(n,r){if(this.ended)return;const i=(a,o)=>{(r==null||o.sequence_number>r)&&this._emit(a,o)},s=C(this,Qt,"m",pl).call(this,n);switch(i("event",n),n.type){case"response.output_text.delta":{const a=s.output[n.output_index];if(!a)throw new H(`missing output at index ${n.output_index}`);if(a.type==="message"){const o=a.content[n.content_index];if(!o)throw new H(`missing content at index ${n.content_index}`);if(o.type!=="output_text")throw new H(`expected content to be 'output_text', got ${o.type}`);i("response.output_text.delta",{...n,snapshot:o.text})}break}case"response.function_call_arguments.delta":{const a=s.output[n.output_index];if(!a)throw new H(`missing output at index ${n.output_index}`);a.type==="function_call"&&i("response.function_call_arguments.delta",{...n,snapshot:a.arguments});break}default:i(n.type,n);break}},ml=function(){if(this.ended)throw new H("stream has ended, this shouldn't happen");const n=C(this,It,"f");if(!n)throw new H("request ended without sending any events");G(this,It,void 0);const r=eg(n,C(this,Mr,"f"));return G(this,Lr,r),r},pl=function(n){var i;let r=C(this,It,"f");if(!r){if(n.type!=="response.created")throw new H(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return r=G(this,It,n.response),r}switch(n.type){case"response.output_item.added":{r.output.push(n.item);break}case"response.content_part.added":{const s=r.output[n.output_index];if(!s)throw new H(`missing output at index ${n.output_index}`);const a=s.type,o=n.part;a==="message"&&o.type!=="reasoning_text"?s.content.push(o):a==="reasoning"&&o.type==="reasoning_text"&&(s.content||(s.content=[]),s.content.push(o));break}case"response.output_text.delta":{const s=r.output[n.output_index];if(!s)throw new H(`missing output at index ${n.output_index}`);if(s.type==="message"){const a=s.content[n.content_index];if(!a)throw new H(`missing content at index ${n.content_index}`);if(a.type!=="output_text")throw new H(`expected content to be 'output_text', got ${a.type}`);a.text+=n.delta}break}case"response.function_call_arguments.delta":{const s=r.output[n.output_index];if(!s)throw new H(`missing output at index ${n.output_index}`);s.type==="function_call"&&(s.arguments+=n.delta);break}case"response.reasoning_text.delta":{const s=r.output[n.output_index];if(!s)throw new H(`missing output at index ${n.output_index}`);if(s.type==="reasoning"){const a=(i=s.content)==null?void 0:i[n.content_index];if(!a)throw new H(`missing content at index ${n.content_index}`);if(a.type!=="reasoning_text")throw new H(`expected content to be 'reasoning_text', got ${a.type}`);a.text+=n.delta}break}case"response.completed":{G(this,It,n.response);break}}return r},Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("event",i=>{const s=n.shift();s?s.resolve(i):t.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,a)=>n.push({resolve:s,reject:a})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const t=C(this,Lr,"f");if(!t)throw new H("stream ended without producing a ChatCompletion");return t}}function eg(e,t){return Kp(e,t)}class Sd extends W{list(t,n={},r){return this._client.getAPIList(R`/responses/${t}/input_items`,xe,{query:n,...r})}}class vd extends W{count(t={},n){return this._client.post("/responses/input_tokens",{body:t,...n})}}class qi extends W{constructor(){super(...arguments),this.inputItems=new Sd(this._client),this.inputTokens=new vd(this._client)}create(t,n){return this._client.post("/responses",{body:t,...n,stream:t.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&aa(r),r))}retrieve(t,n={},r){return this._client.get(R`/responses/${t}`,{query:n,...r,stream:(n==null?void 0:n.stream)??!1})._thenUnwrap(i=>("object"in i&&i.object==="response"&&aa(i),i))}delete(t,n){return this._client.delete(R`/responses/${t}`,{...n,headers:B([{Accept:"*/*"},n==null?void 0:n.headers])})}parse(t,n){return this._client.responses.create(t,n)._thenUnwrap(r=>_d(r,t))}stream(t,n){return no.createResponse(this._client,t,n)}cancel(t,n){return this._client.post(R`/responses/${t}/cancel`,n)}}qi.InputItems=Sd;qi.InputTokens=vd;class Cd extends W{create(t,n,r){return this._client.post(R`/uploads/${t}/parts`,Wt({body:n,...r},this._client))}}class ro extends W{constructor(){super(...arguments),this.parts=new Cd(this._client)}create(t,n){return this._client.post("/uploads",{body:t,...n})}cancel(t,n){return this._client.post(R`/uploads/${t}/cancel`,n)}complete(t,n,r){return this._client.post(R`/uploads/${t}/complete`,{body:n,...r})}}ro.Parts=Cd;const tg=async e=>{const t=await Promise.allSettled(e),n=t.filter(i=>i.status==="rejected");if(n.length){for(const i of n)console.error(i.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const i of t)i.status==="fulfilled"&&r.push(i.value);return r};class Ad extends W{create(t,n,r){return this._client.post(R`/vector_stores/${t}/file_batches`,{body:n,...r,headers:B([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(t,n,r){const{vector_store_id:i}=n;return this._client.get(R`/vector_stores/${i}/file_batches/${t}`,{...r,headers:B([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}cancel(t,n,r){const{vector_store_id:i}=n;return this._client.post(R`/vector_stores/${i}/file_batches/${t}/cancel`,{...r,headers:B([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async createAndPoll(t,n,r){const i=await this.create(t,n);return await this.poll(t,i.id,r)}listFiles(t,n,r){const{vector_store_id:i,...s}=n;return this._client.getAPIList(R`/vector_stores/${i}/file_batches/${t}/files`,xe,{query:s,...r,headers:B([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async poll(t,n,r){var s;const i=B([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((s=r==null?void 0:r.pollIntervalMs)==null?void 0:s.toString())??void 0}]);for(;;){const{data:a,response:o}=await this.retrieve(n,{vector_store_id:t},{...r,headers:i}).withResponse();switch(a.status){case"in_progress":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const c=o.headers.get("openai-poll-after-ms");if(c){const d=parseInt(c);isNaN(d)||(l=d)}}await br(l);break;case"failed":case"cancelled":case"completed":return a}}}async uploadAndPoll(t,{files:n,fileIds:r=[]},i){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const s=(i==null?void 0:i.maxConcurrency)??5,a=Math.min(s,n.length),o=this._client,l=n.values(),c=[...r];async function d(m){for(let f of m){const p=await o.files.create({file:f,purpose:"assistants"},i);c.push(p.id)}}const u=Array(a).fill(l).map(d);return await tg(u),await this.createAndPoll(t,{file_ids:c})}}let Ed=class extends W{create(t,n,r){return this._client.post(R`/vector_stores/${t}/files`,{body:n,...r,headers:B([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(t,n,r){const{vector_store_id:i}=n;return this._client.get(R`/vector_stores/${i}/files/${t}`,{...r,headers:B([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(t,n,r){const{vector_store_id:i,...s}=n;return this._client.post(R`/vector_stores/${i}/files/${t}`,{body:s,...r,headers:B([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(t,n={},r){return this._client.getAPIList(R`/vector_stores/${t}/files`,xe,{query:n,...r,headers:B([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(t,n,r){const{vector_store_id:i}=n;return this._client.delete(R`/vector_stores/${i}/files/${t}`,{...r,headers:B([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async createAndPoll(t,n,r){const i=await this.create(t,n,r);return await this.poll(t,i.id,r)}async poll(t,n,r){var s;const i=B([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((s=r==null?void 0:r.pollIntervalMs)==null?void 0:s.toString())??void 0}]);for(;;){const a=await this.retrieve(n,{vector_store_id:t},{...r,headers:i}).withResponse(),o=a.data;switch(o.status){case"in_progress":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const c=a.response.headers.get("openai-poll-after-ms");if(c){const d=parseInt(c);isNaN(d)||(l=d)}}await br(l);break;case"failed":case"completed":return o}}}async upload(t,n,r){const i=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(t,{file_id:i.id},r)}async uploadAndPoll(t,n,r){const i=await this.upload(t,n,r);return await this.poll(t,i.id,r)}content(t,n,r){const{vector_store_id:i}=n;return this._client.getAPIList(R`/vector_stores/${i}/files/${t}/content`,Oi,{...r,headers:B([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}};class Ui extends W{constructor(){super(...arguments),this.files=new Ed(this._client),this.fileBatches=new Ad(this._client)}create(t,n){return this._client.post("/vector_stores",{body:t,...n,headers:B([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(t,n){return this._client.get(R`/vector_stores/${t}`,{...n,headers:B([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(t,n,r){return this._client.post(R`/vector_stores/${t}`,{body:n,...r,headers:B([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(t={},n){return this._client.getAPIList("/vector_stores",xe,{query:t,...n,headers:B([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}delete(t,n){return this._client.delete(R`/vector_stores/${t}`,{...n,headers:B([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}search(t,n,r){return this._client.getAPIList(R`/vector_stores/${t}/search`,Oi,{body:n,method:"post",...r,headers:B([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}Ui.Files=Ed;Ui.FileBatches=Ad;class Id extends W{create(t,n){return this._client.post("/videos",el({body:t,...n},this._client))}retrieve(t,n){return this._client.get(R`/videos/${t}`,n)}list(t={},n){return this._client.getAPIList("/videos",bi,{query:t,...n})}delete(t,n){return this._client.delete(R`/videos/${t}`,n)}downloadContent(t,n={},r){return this._client.get(R`/videos/${t}/content`,{query:n,...r,headers:B([{Accept:"application/binary"},r==null?void 0:r.headers]),__binaryResponse:!0})}remix(t,n,r){return this._client.post(R`/videos/${t}/remix`,el({body:n,...r},this._client))}}var an,jd,di;class Nd extends W{constructor(){super(...arguments),an.add(this)}async unwrap(t,n,r=this._client.webhookSecret,i=300){return await this.verifySignature(t,n,r,i),JSON.parse(t)}async verifySignature(t,n,r=this._client.webhookSecret,i=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");C(this,an,"m",jd).call(this,r);const s=B([n]).values,a=C(this,an,"m",di).call(this,s,"webhook-signature"),o=C(this,an,"m",di).call(this,s,"webhook-timestamp"),l=C(this,an,"m",di).call(this,s,"webhook-id"),c=parseInt(o,10);if(isNaN(c))throw new Gn("Invalid webhook timestamp format");const d=Math.floor(Date.now()/1e3);if(d-c>i)throw new Gn("Webhook timestamp is too old");if(c>d+i)throw new Gn("Webhook timestamp is too new");const u=a.split(" ").map(y=>y.startsWith("v1,")?y.substring(3):y),m=r.startsWith("whsec_")?Buffer.from(r.replace("whsec_",""),"base64"):Buffer.from(r,"utf-8"),f=l?`${l}.${o}.${t}`:`${o}.${t}`,p=await crypto.subtle.importKey("raw",m,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const y of u)try{const w=Buffer.from(y,"base64");if(await crypto.subtle.verify("HMAC",p,w,new TextEncoder().encode(f)))return}catch{continue}throw new Gn("The given webhook signature does not match the expected signature")}}an=new WeakSet,jd=function(t){if(typeof t!="string"||t.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},di=function(t,n){if(!t)throw new Error("Headers are required");const r=t.get(n);if(r==null)throw new Error(`Missing required header: ${n}`);return r};var oa,io,hi,Rd;class ee{constructor({baseURL:t=Xt("OPENAI_BASE_URL"),apiKey:n=Xt("OPENAI_API_KEY"),organization:r=Xt("OPENAI_ORG_ID")??null,project:i=Xt("OPENAI_PROJECT_ID")??null,webhookSecret:s=Xt("OPENAI_WEBHOOK_SECRET")??null,...a}={}){if(oa.add(this),hi.set(this,void 0),this.completions=new ad(this),this.chat=new Ha(this),this.embeddings=new cd(this),this.files=new dd(this),this.images=new yd(this),this.audio=new kr(this),this.moderations=new bd(this),this.models=new xd(this),this.fineTuning=new bn(this),this.graders=new to(this),this.vectorStores=new Ui(this),this.webhooks=new Nd(this),this.beta=new xn(this),this.batches=new Yu(this),this.uploads=new ro(this),this.responses=new qi(this),this.realtime=new zi(this),this.conversations=new Ja(this),this.evals=new Qa(this),this.containers=new Ka(this),this.videos=new Id(this),n===void 0)throw new H("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");const o={apiKey:n,organization:r,project:i,webhookSecret:s,...a,baseURL:t||"https://api.openai.com/v1"};if(!o.dangerouslyAllowBrowser&&rp())throw new H(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=o.baseURL,this.timeout=o.timeout??io.DEFAULT_TIMEOUT,this.logger=o.logger??console;const l="warn";this.logLevel=l,this.logLevel=Yo(o.logLevel,"ClientOptions.logLevel",this)??Yo(Xt("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??l,this.fetchOptions=o.fetchOptions,this.maxRetries=o.maxRetries??2,this.fetch=o.fetch??lp(),G(this,hi,up),this._options=o,this.apiKey=typeof n=="string"?n:"Missing Key",this.organization=r,this.project=i,this.webhookSecret=s}withOptions(t){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...t})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){}async authHeaders(t){return B([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(t){return gp(t,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${rn}`}defaultIdempotencyKey(){return`stainless-node-retry-${Yc()}`}makeStatusError(t,n,r,i){return qe.generate(t,n,r,i)}async _callApiKey(){const t=this._options.apiKey;if(typeof t!="function")return!1;let n;try{n=await t()}catch(r){throw r instanceof H?r:new H(`Failed to get token from 'apiKey' function: ${r.message}`,{cause:r})}if(typeof n!="string"||!n)throw new H(`Expected 'apiKey' function argument to return a string but it returned ${n}`);return this.apiKey=n,!0}buildURL(t,n,r){const i=!C(this,oa,"m",Rd).call(this)&&r||this.baseURL,s=Ym(t)?new URL(t):new URL(i+(i.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),a=this.defaultQuery();return Zm(a)||(n={...a,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(s.search=this.stringifyQuery(n)),s.toString()}async prepareOptions(t){await this._callApiKey()}async prepareRequest(t,{url:n,options:r}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(i=>({method:t,path:n,...i})))}request(t,n=null){return new wu(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,r){var x,S;const i=await t,s=i.maxRetries??this.maxRetries;n==null&&(n=s),await this.prepareOptions(i);const{req:a,url:o,timeout:l}=await this.buildRequest(i,{retryCount:s-n});await this.prepareRequest(a,{url:o,options:i});const c="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),d=r===void 0?"":`, retryOf: ${r}`,u=Date.now();if(Ae(this).debug(`[${c}] sending request`,Ft({retryOfRequestLogID:r,method:i.method,url:o,options:i,headers:a.headers})),(x=i.signal)!=null&&x.aborted)throw new tt;const m=new AbortController,f=await this.fetchWithTimeout(o,a,l,m).catch(Ks),p=Date.now();if(f instanceof globalThis.Error){const v=`retrying, ${n} attempts remaining`;if((S=i.signal)!=null&&S.aborted)throw new tt;const E=Gs(f)||/timed? ?out/i.test(String(f)+("cause"in f?String(f.cause):""));if(n)return Ae(this).info(`[${c}] connection ${E?"timed out":"failed"} - ${v}`),Ae(this).debug(`[${c}] connection ${E?"timed out":"failed"} (${v})`,Ft({retryOfRequestLogID:r,url:o,durationMs:p-u,message:f.message})),this.retryRequest(i,n,r??c);throw Ae(this).info(`[${c}] connection ${E?"timed out":"failed"} - error; no more retries left`),Ae(this).debug(`[${c}] connection ${E?"timed out":"failed"} (error; no more retries left)`,Ft({retryOfRequestLogID:r,url:o,durationMs:p-u,message:f.message})),E?new $a:new Li({cause:f})}const y=[...f.headers.entries()].filter(([v])=>v==="x-request-id").map(([v,E])=>", "+v+": "+JSON.stringify(E)).join(""),w=`[${c}${d}${y}] ${a.method} ${o} ${f.ok?"succeeded":"failed"} with status ${f.status} in ${p-u}ms`;if(!f.ok){const v=await this.shouldRetry(f);if(n&&v){const F=`retrying, ${n} attempts remaining`;return await cp(f.body),Ae(this).info(`${w} - ${F}`),Ae(this).debug(`[${c}] response error (${F})`,Ft({retryOfRequestLogID:r,url:f.url,status:f.status,headers:f.headers,durationMs:p-u})),this.retryRequest(i,n,r??c,f.headers)}const E=v?"error; no more retries left":"error; not retryable";Ae(this).info(`${w} - ${E}`);const $=await f.text().catch(F=>Ks(F).message),_=np($),M=_?void 0:$;throw Ae(this).debug(`[${c}] response error (${E})`,Ft({retryOfRequestLogID:r,url:f.url,status:f.status,headers:f.headers,message:M,durationMs:Date.now()-u})),this.makeStatusError(f.status,_,M,f.headers)}return Ae(this).info(w),Ae(this).debug(`[${c}] response start`,Ft({retryOfRequestLogID:r,url:f.url,status:f.status,headers:f.headers,durationMs:p-u})),{response:f,options:i,controller:m,requestLogID:c,retryOfRequestLogID:r,startTime:u}}getAPIList(t,n,r){return this.requestAPIList(n,{method:"get",path:t,...r})}requestAPIList(t,n){const r=this.makeRequest(n,null,void 0);return new Cp(this,r,t)}async fetchWithTimeout(t,n,r,i){const{signal:s,method:a,...o}=n||{};s&&s.addEventListener("abort",()=>i.abort());const l=setTimeout(()=>i.abort(),r),c=globalThis.ReadableStream&&o.body instanceof globalThis.ReadableStream||typeof o.body=="object"&&o.body!==null&&Symbol.asyncIterator in o.body,d={signal:i.signal,...c?{duplex:"half"}:{},method:"GET",...o};a&&(d.method=a.toUpperCase());try{return await this.fetch.call(void 0,t,d)}finally{clearTimeout(l)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r,i){let s;const a=i==null?void 0:i.get("retry-after-ms");if(a){const l=parseFloat(a);Number.isNaN(l)||(s=l)}const o=i==null?void 0:i.get("retry-after");if(o&&!s){const l=parseFloat(o);Number.isNaN(l)?s=Date.parse(o)-Date.now():s=l*1e3}if(!(s&&0<=s&&s<60*1e3)){const l=t.maxRetries??this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,l)}return await br(s),this.makeRequest(t,n-1,r)}calculateDefaultRetryTimeoutMillis(t,n){const s=n-t,a=Math.min(.5*Math.pow(2,s),8),o=1-Math.random()*.25;return a*o*1e3}async buildRequest(t,{retryCount:n=0}={}){const r={...t},{method:i,path:s,query:a,defaultBaseURL:o}=r,l=this.buildURL(s,a,o);"timeout"in r&&tp("timeout",r.timeout),r.timeout=r.timeout??this.timeout;const{bodyHeaders:c,body:d}=this.buildBody({options:r}),u=await this.buildHeaders({options:t,method:i,bodyHeaders:c,retryCount:n});return{req:{method:i,headers:u,...r.signal&&{signal:r.signal},...globalThis.ReadableStream&&d instanceof globalThis.ReadableStream&&{duplex:"half"},...d&&{body:d},...this.fetchOptions??{},...r.fetchOptions??{}},url:l,timeout:r.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:r,retryCount:i}){let s={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=t.idempotencyKey);const a=B([s,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i),...t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{},...op(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(t),this._options.defaultHeaders,r,t.headers]);return this.validateHeaders(a),a.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const r=B([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&r.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:du(t)}:C(this,hi,"f").call(this,{body:t,headers:r})}}io=ee,hi=new WeakMap,oa=new WeakSet,Rd=function(){return this.baseURL!=="https://api.openai.com/v1"};ee.OpenAI=io;ee.DEFAULT_TIMEOUT=6e5;ee.OpenAIError=H;ee.APIError=qe;ee.APIConnectionError=Li;ee.APIConnectionTimeoutError=$a;ee.APIUserAbortError=tt;ee.NotFoundError=nu;ee.ConflictError=ru;ee.RateLimitError=su;ee.BadRequestError=Zc;ee.AuthenticationError=eu;ee.InternalServerError=au;ee.PermissionDeniedError=tu;ee.UnprocessableEntityError=iu;ee.InvalidWebhookSignatureError=Gn;ee.toFile=Np;ee.Completions=ad;ee.Chat=Ha;ee.Embeddings=cd;ee.Files=dd;ee.Images=yd;ee.Audio=kr;ee.Moderations=bd;ee.Models=xd;ee.FineTuning=bn;ee.Graders=to;ee.VectorStores=Ui;ee.Webhooks=Nd;ee.Beta=xn;ee.Batches=Yu;ee.Uploads=ro;ee.Responses=qi;ee.Realtime=zi;ee.Conversations=Ja;ee.Evals=Qa;ee.Containers=Ka;ee.Videos=Id;function q(e,t,n,r,i){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}function A(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}let Pd=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return Pd=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};function pr(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const la=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};class Z extends Error{}class Ne extends Z{constructor(t,n,r,i){super(`${Ne.makeMessage(t,n,r)}`),this.status=t,this.headers=i,this.requestID=i==null?void 0:i.get("request-id"),this.error=n}static makeMessage(t,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&i?`${t} ${i}`:t?`${t} status code (no body)`:i||"(no status code or body)"}static generate(t,n,r,i){if(!t||!i)return new Wi({message:r,cause:la(n)});const s=n;return t===400?new Md(t,s,r,i):t===401?new Ld(t,s,r,i):t===403?new $d(t,s,r,i):t===404?new Od(t,s,r,i):t===409?new Fd(t,s,r,i):t===422?new Dd(t,s,r,i):t===429?new Bd(t,s,r,i):t>=500?new zd(t,s,r,i):new Ne(t,s,r,i)}}class st extends Ne{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Wi extends Ne{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class Td extends Wi{constructor({message:t}={}){super({message:t??"Request timed out."})}}class Md extends Ne{}class Ld extends Ne{}class $d extends Ne{}class Od extends Ne{}class Fd extends Ne{}class Dd extends Ne{}class Bd extends Ne{}class zd extends Ne{}const ng=/^[a-z][a-z0-9+.-]*:/i,rg=e=>ng.test(e);let ca=e=>(ca=Array.isArray,ca(e)),gl=ca;function ua(e){return typeof e!="object"?{}:e??{}}function ig(e){if(!e)return!0;for(const t in e)return!1;return!0}function sg(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const ag=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Z(`${e} must be an integer`);if(t<0)throw new Z(`${e} must be a positive integer`);return t},qd=e=>{try{return JSON.parse(e)}catch{return}},og=e=>new Promise(t=>setTimeout(t,e)),on="0.68.0",lg=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function cg(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const ug=()=>{var n;const e=cg();if(e==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":on,"X-Stainless-OS":xl(Deno.build.os),"X-Stainless-Arch":yl(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((n=Deno.version)==null?void 0:n.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":on,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(e==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":on,"X-Stainless-OS":xl(globalThis.process.platform??"unknown"),"X-Stainless-Arch":yl(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const t=dg();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":on,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":on,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function dg(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,s=r[2]||0,a=r[3]||0;return{browser:t,version:`${i}.${s}.${a}`}}}return null}const yl=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",xl=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let bl;const hg=()=>bl??(bl=ug());function fg(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new Anthropic({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Ud(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function Wd(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return Ud({start(){},async pull(n){const{done:r,value:i}=await t.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=t.return)==null?void 0:n.call(t))}})}function so(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function mg(e){var r,i;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((i=(r=e[Symbol.asyncIterator]()).return)==null?void 0:i.call(r));return}const t=e.getReader(),n=t.cancel();t.releaseLock(),await n}const pg=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});function gg(e){let t=0;for(const i of e)t+=i.length;const n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}let wl;function ao(e){let t;return(wl??(t=new globalThis.TextEncoder,wl=t.encode.bind(t)))(e)}let kl;function _l(e){let t;return(kl??(t=new globalThis.TextDecoder,kl=t.decode.bind(t)))(e)}var Ge,Ke;class _r{constructor(){Ge.set(this,void 0),Ke.set(this,void 0),q(this,Ge,new Uint8Array),q(this,Ke,null)}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?ao(t):t;q(this,Ge,gg([A(this,Ge,"f"),n]));const r=[];let i;for(;(i=yg(A(this,Ge,"f"),A(this,Ke,"f")))!=null;){if(i.carriage&&A(this,Ke,"f")==null){q(this,Ke,i.index);continue}if(A(this,Ke,"f")!=null&&(i.index!==A(this,Ke,"f")+1||i.carriage)){r.push(_l(A(this,Ge,"f").subarray(0,A(this,Ke,"f")-1))),q(this,Ge,A(this,Ge,"f").subarray(A(this,Ke,"f"))),q(this,Ke,null);continue}const s=A(this,Ke,"f")!==null?i.preceding-1:i.preceding,a=_l(A(this,Ge,"f").subarray(0,s));r.push(a),q(this,Ge,A(this,Ge,"f").subarray(i.index)),q(this,Ke,null)}return r}flush(){return A(this,Ge,"f").length?this.decode(`
`):[]}}Ge=new WeakMap,Ke=new WeakMap;_r.NEWLINE_CHARS=new Set([`
`,"\r"]);_r.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function yg(e,t){for(let i=t??0;i<e.length;i++){if(e[i]===10)return{preceding:i,index:i+1,carriage:!1};if(e[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function xg(e){for(let r=0;r<e.length-1;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}const Ei={off:0,error:200,warn:300,info:400,debug:500},Sl=(e,t,n)=>{if(e){if(sg(Ei,e))return e;Te(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(Ei))}`)}};function rr(){}function $r(e,t,n){return!t||Ei[e]>Ei[n]?rr:t[e].bind(t)}const bg={error:rr,warn:rr,info:rr,debug:rr};let vl=new WeakMap;function Te(e){const t=e.logger,n=e.logLevel??"off";if(!t)return bg;const r=vl.get(t);if(r&&r[0]===n)return r[1];const i={error:$r("error",t,n),warn:$r("warn",t,n),info:$r("info",t,n),debug:$r("debug",t,n)};return vl.set(t,[n,i]),i}const Dt=e=>(e.options&&(e.options={...e.options},delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);var Nn;class ht{constructor(t,n,r){this.iterator=t,Nn.set(this,void 0),this.controller=n,q(this,Nn,r)}static fromSSEResponse(t,n,r){let i=!1;const s=r?Te(r):console;async function*a(){if(i)throw new Z("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let o=!1;try{for await(const l of wg(t,n)){if(l.event==="completion")try{yield JSON.parse(l.data)}catch(c){throw s.error("Could not parse message into JSON:",l.data),s.error("From chunk:",l.raw),c}if(l.event==="message_start"||l.event==="message_delta"||l.event==="message_stop"||l.event==="content_block_start"||l.event==="content_block_delta"||l.event==="content_block_stop")try{yield JSON.parse(l.data)}catch(c){throw s.error("Could not parse message into JSON:",l.data),s.error("From chunk:",l.raw),c}if(l.event!=="ping"&&l.event==="error")throw new Ne(void 0,qd(l.data)??l.data,void 0,t.headers)}o=!0}catch(l){if(pr(l))return;throw l}finally{o||n.abort()}}return new ht(a,n,r)}static fromReadableStream(t,n,r){let i=!1;async function*s(){const o=new _r,l=so(t);for await(const c of l)for(const d of o.decode(c))yield d;for(const c of o.flush())yield c}async function*a(){if(i)throw new Z("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let o=!1;try{for await(const l of s())o||l&&(yield JSON.parse(l));o=!0}catch(l){if(pr(l))return;throw l}finally{o||n.abort()}}return new ht(a,n,r)}[(Nn=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),i=s=>({next:()=>{if(s.length===0){const a=r.next();t.push(a),n.push(a)}return s.shift()}});return[new ht(()=>i(t),this.controller,A(this,Nn,"f")),new ht(()=>i(n),this.controller,A(this,Nn,"f"))]}toReadableStream(){const t=this;let n;return Ud({async start(){n=t[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:s}=await n.next();if(s)return r.close();const a=ao(JSON.stringify(i)+`
`);r.enqueue(a)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)==null?void 0:r.call(n))}})}}async function*wg(e,t){if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Z("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Z("Attempted to iterate over a response with no body");const n=new _g,r=new _r,i=so(e.body);for await(const s of kg(i))for(const a of r.decode(s)){const o=n.decode(a);o&&(yield o)}for(const s of r.flush()){const a=n.decode(s);a&&(yield a)}}async function*kg(e){let t=new Uint8Array;for await(const n of e){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?ao(n):n;let i=new Uint8Array(t.length+r.length);i.set(t),i.set(r,t.length),t=i;let s;for(;(s=xg(t))!==-1;)yield t.slice(0,s),t=t.slice(s)}t.length>0&&(yield t)}class _g{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,i]=Sg(t,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function Sg(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}async function Hd(e,t){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:s}=t,a=await(async()=>{var u;if(t.options.stream)return Te(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller):ht.fromSSEResponse(n,t.controller);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const o=n.headers.get("content-type"),l=(u=o==null?void 0:o.split(";")[0])==null?void 0:u.trim();if((l==null?void 0:l.includes("application/json"))||(l==null?void 0:l.endsWith("+json"))){const m=await n.json();return Vd(m,n)}return await n.text()})();return Te(e).debug(`[${r}] response parsed`,Dt({retryOfRequestLogID:i,url:n.url,status:n.status,body:a,durationMs:Date.now()-s})),a}function Vd(e,t){return!e||typeof e!="object"||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("request-id"),enumerable:!1})}var ir;class Hi extends Promise{constructor(t,n,r=Hd){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,ir.set(this,void 0),q(this,ir,t)}_thenUnwrap(t){return new Hi(A(this,ir,"f"),this.responsePromise,async(n,r)=>Vd(t(await this.parseResponse(n,r),r),r.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n,request_id:n.headers.get("request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(A(this,ir,"f"),t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}ir=new WeakMap;var Or;class Gd{constructor(t,n,r,i){Or.set(this,void 0),q(this,Or,t),this.options=i,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const t=this.nextPageRequestOptions();if(!t)throw new Z("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await A(this,Or,"f").requestAPIList(this.constructor,t)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(Or=new WeakMap,Symbol.asyncIterator)](){for await(const t of this.iterPages())for(const n of t.getPaginatedItems())yield n}}class vg extends Hi{constructor(t,n,r){super(t,n,async(i,s)=>new r(i,s.response,await Hd(i,s),s.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const n of t)yield n}}class Sr extends Gd{constructor(t,n,r,i){super(t,n,r,i),this.data=r.data||[],this.has_more=r.has_more||!1,this.first_id=r.first_id||null,this.last_id=r.last_id||null}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){var n;if((n=this.options.query)!=null&&n.before_id){const r=this.first_id;return r?{...this.options,query:{...ua(this.options.query),before_id:r}}:null}const t=this.last_id;return t?{...this.options,query:{...ua(this.options.query),after_id:t}}:null}}class Kd extends Gd{constructor(t,n,r,i){super(t,n,r,i),this.data=r.data||[],this.has_more=r.has_more||!1,this.next_page=r.next_page||null}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const t=this.next_page;return t?{...this.options,query:{...ua(this.options.query),page:t}}:null}}const Jd=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)==null?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function hn(e,t,n){return Jd(),new File(e,t??"unknown_file",n)}function fi(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const Xd=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",oo=async(e,t)=>({...e,body:await Ag(e.body,t)}),Cl=new WeakMap;function Cg(e){const t=typeof e=="function"?e:e.fetch,n=Cl.get(t);if(n)return n;const r=(async()=>{try{const i="Response"in t?t.Response:(await t("data:,")).constructor,s=new FormData;return s.toString()!==await new i(s).text()}catch{return!0}})();return Cl.set(t,r),r}const Ag=async(e,t)=>{if(!await Cg(t))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const n=new FormData;return await Promise.all(Object.entries(e||{}).map(([r,i])=>da(n,r,i))),n},Eg=e=>e instanceof Blob&&"name"in e,da=async(e,t,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")e.append(t,String(n));else if(n instanceof Response){let r={};const i=n.headers.get("Content-Type");i&&(r={type:i}),e.append(t,hn([await n.blob()],fi(n),r))}else if(Xd(n))e.append(t,hn([await new Response(Wd(n)).blob()],fi(n)));else if(Eg(n))e.append(t,hn([n],fi(n),{type:n.type}));else if(Array.isArray(n))await Promise.all(n.map(r=>da(e,t+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,i])=>da(e,`${t}[${r}]`,i)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}},Qd=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",Ig=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&Qd(e),jg=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function Ng(e,t,n){if(Jd(),e=await e,t||(t=fi(e)),Ig(e))return e instanceof File&&t==null&&n==null?e:hn([await e.arrayBuffer()],t??e.name,{type:e.type,lastModified:e.lastModified,...n});if(jg(e)){const i=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),hn(await ha(i),t,n)}const r=await ha(e);if(!(n!=null&&n.type)){const i=r.find(s=>typeof s=="object"&&"type"in s&&s.type);typeof i=="string"&&(n={...n,type:i})}return hn(r,t,n)}async function ha(e){var n;let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(Qd(e))t.push(e instanceof Blob?e:await e.arrayBuffer());else if(Xd(e))for await(const r of e)t.push(...await ha(r));else{const r=(n=e==null?void 0:e.constructor)==null?void 0:n.name;throw new Error(`Unexpected data type: ${typeof e}${r?`; constructor: ${r}`:""}${Rg(e)}`)}return t}function Rg(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}class ot{constructor(t){this._client=t}}const Yd=Symbol.for("brand.privateNullableHeaders");function*Pg(e){if(!e)return;if(Yd in e){const{values:r,nulls:i}=e;yield*r.entries();for(const s of i)yield[s,null];return}let t=!1,n;e instanceof Headers?n=e.entries():gl(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const s=gl(r[1])?r[1]:[r[1]];let a=!1;for(const o of s)o!==void 0&&(t&&!a&&(a=!0,yield[i,null]),yield[i,o])}}const se=e=>{const t=new Headers,n=new Set;for(const r of e){const i=new Set;for(const[s,a]of Pg(r)){const o=s.toLowerCase();i.has(o)||(t.delete(s),i.add(o)),a===null?(t.delete(s),n.add(o)):(t.append(s,a),n.delete(o))}}return{[Yd]:!0,values:t,nulls:n}};function Zd(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Al=Object.freeze(Object.create(null)),Tg=(e=Zd)=>function(n,...r){if(n.length===1)return n[0];let i=!1;const s=[],a=n.reduce((d,u,m)=>{var y;/[?#]/.test(u)&&(i=!0);const f=r[m];let p=(i?encodeURIComponent:e)(""+f);return m!==r.length&&(f==null||typeof f=="object"&&f.toString===((y=Object.getPrototypeOf(Object.getPrototypeOf(f.hasOwnProperty??Al)??Al))==null?void 0:y.toString))&&(p=f+"",s.push({start:d.length+u.length,length:p.length,error:`Value of type ${Object.prototype.toString.call(f).slice(8,-1)} is not a valid path parameter`})),d+u+(m===r.length?"":p)},""),o=a.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let c;for(;(c=l.exec(o))!==null;)s.push({start:c.index,length:c[0].length,error:`Value "${c[0]}" can't be safely passed as a path parameter`});if(s.sort((d,u)=>d.start-u.start),s.length>0){let d=0;const u=s.reduce((m,f)=>{const p=" ".repeat(f.start-d),y="^".repeat(f.length);return d=f.start+f.length,m+p+y},"");throw new Z(`Path parameters result in path with invalid segments:
${s.map(m=>m.error).join(`
`)}
${a}
${u}`)}return a},Ie=Tg(Zd);class eh extends ot{list(t={},n){const{betas:r,...i}=t??{};return this._client.getAPIList("/v1/files",Sr,{query:i,...n,headers:se([{"anthropic-beta":[...r??[],"files-api-2025-04-14"].toString()},n==null?void 0:n.headers])})}delete(t,n={},r){const{betas:i}=n??{};return this._client.delete(Ie`/v1/files/${t}`,{...r,headers:se([{"anthropic-beta":[...i??[],"files-api-2025-04-14"].toString()},r==null?void 0:r.headers])})}download(t,n={},r){const{betas:i}=n??{};return this._client.get(Ie`/v1/files/${t}/content`,{...r,headers:se([{"anthropic-beta":[...i??[],"files-api-2025-04-14"].toString(),Accept:"application/binary"},r==null?void 0:r.headers]),__binaryResponse:!0})}retrieveMetadata(t,n={},r){const{betas:i}=n??{};return this._client.get(Ie`/v1/files/${t}`,{...r,headers:se([{"anthropic-beta":[...i??[],"files-api-2025-04-14"].toString()},r==null?void 0:r.headers])})}upload(t,n){const{betas:r,...i}=t;return this._client.post("/v1/files",oo({body:i,...n,headers:se([{"anthropic-beta":[...r??[],"files-api-2025-04-14"].toString()},n==null?void 0:n.headers])},this._client))}}let th=class extends ot{retrieve(t,n={},r){const{betas:i}=n??{};return this._client.get(Ie`/v1/models/${t}?beta=true`,{...r,headers:se([{...(i==null?void 0:i.toString())!=null?{"anthropic-beta":i==null?void 0:i.toString()}:void 0},r==null?void 0:r.headers])})}list(t={},n){const{betas:r,...i}=t??{};return this._client.getAPIList("/v1/models?beta=true",Sr,{query:i,...n,headers:se([{...(r==null?void 0:r.toString())!=null?{"anthropic-beta":r==null?void 0:r.toString()}:void 0},n==null?void 0:n.headers])})}};class Vi{constructor(t,n){this.iterator=t,this.controller=n}async*decoder(){const t=new _r;for await(const n of this.iterator)for(const r of t.decode(n))yield JSON.parse(r);for(const n of t.flush())yield JSON.parse(n)}[Symbol.asyncIterator](){return this.decoder()}static fromResponse(t,n){if(!t.body)throw n.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Z("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Z("Attempted to iterate over a response with no body");return new Vi(so(t.body),n)}}let nh=class extends ot{create(t,n){const{betas:r,...i}=t;return this._client.post("/v1/messages/batches?beta=true",{body:i,...n,headers:se([{"anthropic-beta":[...r??[],"message-batches-2024-09-24"].toString()},n==null?void 0:n.headers])})}retrieve(t,n={},r){const{betas:i}=n??{};return this._client.get(Ie`/v1/messages/batches/${t}?beta=true`,{...r,headers:se([{"anthropic-beta":[...i??[],"message-batches-2024-09-24"].toString()},r==null?void 0:r.headers])})}list(t={},n){const{betas:r,...i}=t??{};return this._client.getAPIList("/v1/messages/batches?beta=true",Sr,{query:i,...n,headers:se([{"anthropic-beta":[...r??[],"message-batches-2024-09-24"].toString()},n==null?void 0:n.headers])})}delete(t,n={},r){const{betas:i}=n??{};return this._client.delete(Ie`/v1/messages/batches/${t}?beta=true`,{...r,headers:se([{"anthropic-beta":[...i??[],"message-batches-2024-09-24"].toString()},r==null?void 0:r.headers])})}cancel(t,n={},r){const{betas:i}=n??{};return this._client.post(Ie`/v1/messages/batches/${t}/cancel?beta=true`,{...r,headers:se([{"anthropic-beta":[...i??[],"message-batches-2024-09-24"].toString()},r==null?void 0:r.headers])})}async results(t,n={},r){const i=await this.retrieve(t);if(!i.results_url)throw new Z(`No batch \`results_url\`; Has it finished processing? ${i.processing_status} - ${i.id}`);const{betas:s}=n??{};return this._client.get(i.results_url,{...r,headers:se([{"anthropic-beta":[...s??[],"message-batches-2024-09-24"].toString(),Accept:"application/binary"},r==null?void 0:r.headers]),stream:!0,__binaryResponse:!0})._thenUnwrap((a,o)=>Vi.fromResponse(o.response,o.controller))}};const Mg=e=>{let t=0,n=[];for(;t<e.length;){let r=e[t];if(r==="\\"){t++;continue}if(r==="{"){n.push({type:"brace",value:"{"}),t++;continue}if(r==="}"){n.push({type:"brace",value:"}"}),t++;continue}if(r==="["){n.push({type:"paren",value:"["}),t++;continue}if(r==="]"){n.push({type:"paren",value:"]"}),t++;continue}if(r===":"){n.push({type:"separator",value:":"}),t++;continue}if(r===","){n.push({type:"delimiter",value:","}),t++;continue}if(r==='"'){let o="",l=!1;for(r=e[++t];r!=='"';){if(t===e.length){l=!0;break}if(r==="\\"){if(t++,t===e.length){l=!0;break}o+=r+e[t],r=e[++t]}else o+=r,r=e[++t]}r=e[++t],l||n.push({type:"string",value:o});continue}if(r&&/\s/.test(r)){t++;continue}let s=/[0-9]/;if(r&&s.test(r)||r==="-"||r==="."){let o="";for(r==="-"&&(o+=r,r=e[++t]);r&&s.test(r)||r===".";)o+=r,r=e[++t];n.push({type:"number",value:o});continue}let a=/[a-z]/i;if(r&&a.test(r)){let o="";for(;r&&a.test(r)&&t!==e.length;)o+=r,r=e[++t];if(o=="true"||o=="false"||o==="null")n.push({type:"name",value:o});else{t++;continue}continue}t++}return n},ln=e=>{if(e.length===0)return e;let t=e[e.length-1];switch(t.type){case"separator":return e=e.slice(0,e.length-1),ln(e);case"number":let n=t.value[t.value.length-1];if(n==="."||n==="-")return e=e.slice(0,e.length-1),ln(e);case"string":let r=e[e.length-2];if((r==null?void 0:r.type)==="delimiter")return e=e.slice(0,e.length-1),ln(e);if((r==null?void 0:r.type)==="brace"&&r.value==="{")return e=e.slice(0,e.length-1),ln(e);break;case"delimiter":return e=e.slice(0,e.length-1),ln(e)}return e},Lg=e=>{let t=[];return e.map(n=>{n.type==="brace"&&(n.value==="{"?t.push("}"):t.splice(t.lastIndexOf("}"),1)),n.type==="paren"&&(n.value==="["?t.push("]"):t.splice(t.lastIndexOf("]"),1))}),t.length>0&&t.reverse().map(n=>{n==="}"?e.push({type:"brace",value:"}"}):n==="]"&&e.push({type:"paren",value:"]"})}),e},$g=e=>{let t="";return e.map(n=>{switch(n.type){case"string":t+='"'+n.value+'"';break;default:t+=n.value;break}}),t},rh=e=>JSON.parse($g(Lg(ln(Mg(e)))));var Ye,jt,Rn,Fr,Pn,Tn,Dr,Mn,bt,Ln,Br,zr,Yt,qr,Ur,fs,El,Wr,ms,ps,gs,Il;const jl="__json_buf";function Nl(e){return e.type==="tool_use"||e.type==="server_tool_use"||e.type==="mcp_tool_use"}class Ii{constructor(){Ye.add(this),this.messages=[],this.receivedMessages=[],jt.set(this,void 0),this.controller=new AbortController,Rn.set(this,void 0),Fr.set(this,()=>{}),Pn.set(this,()=>{}),Tn.set(this,void 0),Dr.set(this,()=>{}),Mn.set(this,()=>{}),bt.set(this,{}),Ln.set(this,!1),Br.set(this,!1),zr.set(this,!1),Yt.set(this,!1),qr.set(this,void 0),Ur.set(this,void 0),Wr.set(this,t=>{if(q(this,Br,!0),pr(t)&&(t=new st),t instanceof st)return q(this,zr,!0),this._emit("abort",t);if(t instanceof Z)return this._emit("error",t);if(t instanceof Error){const n=new Z(t.message);return n.cause=t,this._emit("error",n)}return this._emit("error",new Z(String(t)))}),q(this,Rn,new Promise((t,n)=>{q(this,Fr,t,"f"),q(this,Pn,n,"f")})),q(this,Tn,new Promise((t,n)=>{q(this,Dr,t,"f"),q(this,Mn,n,"f")})),A(this,Rn,"f").catch(()=>{}),A(this,Tn,"f").catch(()=>{})}get response(){return A(this,qr,"f")}get request_id(){return A(this,Ur,"f")}async withResponse(){const t=await A(this,Rn,"f");if(!t)throw new Error("Could not resolve a `Response` object");return{data:this,response:t,request_id:t.headers.get("request-id")}}static fromReadableStream(t){const n=new Ii;return n._run(()=>n._fromReadableStream(t)),n}static createMessage(t,n,r){const i=new Ii;for(const s of n.messages)i._addMessageParam(s);return i._run(()=>i._createMessage(t,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}_run(t){t().then(()=>{this._emitFinal(),this._emit("end")},A(this,Wr,"f"))}_addMessageParam(t){this.messages.push(t)}_addMessage(t,n=!0){this.receivedMessages.push(t),n&&this._emit("message",t)}async _createMessage(t,n,r){var a;const i=r==null?void 0:r.signal;let s;i&&(i.aborted&&this.controller.abort(),s=this.controller.abort.bind(this.controller),i.addEventListener("abort",s));try{A(this,Ye,"m",ms).call(this);const{response:o,data:l}=await t.create({...n,stream:!0},{...r,signal:this.controller.signal}).withResponse();this._connected(o);for await(const c of l)A(this,Ye,"m",ps).call(this,c);if((a=l.controller.signal)!=null&&a.aborted)throw new st;A(this,Ye,"m",gs).call(this)}finally{i&&s&&i.removeEventListener("abort",s)}}_connected(t){this.ended||(q(this,qr,t),q(this,Ur,t==null?void 0:t.headers.get("request-id")),A(this,Fr,"f").call(this,t),this._emit("connect"))}get ended(){return A(this,Ln,"f")}get errored(){return A(this,Br,"f")}get aborted(){return A(this,zr,"f")}abort(){this.controller.abort()}on(t,n){return(A(this,bt,"f")[t]||(A(this,bt,"f")[t]=[])).push({listener:n}),this}off(t,n){const r=A(this,bt,"f")[t];if(!r)return this;const i=r.findIndex(s=>s.listener===n);return i>=0&&r.splice(i,1),this}once(t,n){return(A(this,bt,"f")[t]||(A(this,bt,"f")[t]=[])).push({listener:n,once:!0}),this}emitted(t){return new Promise((n,r)=>{q(this,Yt,!0),t!=="error"&&this.once("error",r),this.once(t,n)})}async done(){q(this,Yt,!0),await A(this,Tn,"f")}get currentMessage(){return A(this,jt,"f")}async finalMessage(){return await this.done(),A(this,Ye,"m",fs).call(this)}async finalText(){return await this.done(),A(this,Ye,"m",El).call(this)}_emit(t,...n){if(A(this,Ln,"f"))return;t==="end"&&(q(this,Ln,!0),A(this,Dr,"f").call(this));const r=A(this,bt,"f")[t];if(r&&(A(this,bt,"f")[t]=r.filter(i=>!i.once),r.forEach(({listener:i})=>i(...n))),t==="abort"){const i=n[0];!A(this,Yt,"f")&&!(r!=null&&r.length)&&Promise.reject(i),A(this,Pn,"f").call(this,i),A(this,Mn,"f").call(this,i),this._emit("end");return}if(t==="error"){const i=n[0];!A(this,Yt,"f")&&!(r!=null&&r.length)&&Promise.reject(i),A(this,Pn,"f").call(this,i),A(this,Mn,"f").call(this,i),this._emit("end")}}_emitFinal(){this.receivedMessages.at(-1)&&this._emit("finalMessage",A(this,Ye,"m",fs).call(this))}async _fromReadableStream(t,n){var s;const r=n==null?void 0:n.signal;let i;r&&(r.aborted&&this.controller.abort(),i=this.controller.abort.bind(this.controller),r.addEventListener("abort",i));try{A(this,Ye,"m",ms).call(this),this._connected(null);const a=ht.fromReadableStream(t,this.controller);for await(const o of a)A(this,Ye,"m",ps).call(this,o);if((s=a.controller.signal)!=null&&s.aborted)throw new st;A(this,Ye,"m",gs).call(this)}finally{r&&i&&r.removeEventListener("abort",i)}}[(jt=new WeakMap,Rn=new WeakMap,Fr=new WeakMap,Pn=new WeakMap,Tn=new WeakMap,Dr=new WeakMap,Mn=new WeakMap,bt=new WeakMap,Ln=new WeakMap,Br=new WeakMap,zr=new WeakMap,Yt=new WeakMap,qr=new WeakMap,Ur=new WeakMap,Wr=new WeakMap,Ye=new WeakSet,fs=function(){if(this.receivedMessages.length===0)throw new Z("stream ended without producing a Message with role=assistant");return this.receivedMessages.at(-1)},El=function(){if(this.receivedMessages.length===0)throw new Z("stream ended without producing a Message with role=assistant");const n=this.receivedMessages.at(-1).content.filter(r=>r.type==="text").map(r=>r.text);if(n.length===0)throw new Z("stream ended without producing a content block with type=text");return n.join(" ")},ms=function(){this.ended||q(this,jt,void 0)},ps=function(n){if(this.ended)return;const r=A(this,Ye,"m",Il).call(this,n);switch(this._emit("streamEvent",n,r),n.type){case"content_block_delta":{const i=r.content.at(-1);switch(n.delta.type){case"text_delta":{i.type==="text"&&this._emit("text",n.delta.text,i.text||"");break}case"citations_delta":{i.type==="text"&&this._emit("citation",n.delta.citation,i.citations??[]);break}case"input_json_delta":{Nl(i)&&i.input&&this._emit("inputJson",n.delta.partial_json,i.input);break}case"thinking_delta":{i.type==="thinking"&&this._emit("thinking",n.delta.thinking,i.thinking);break}case"signature_delta":{i.type==="thinking"&&this._emit("signature",i.signature);break}default:n.delta}break}case"message_stop":{this._addMessageParam(r),this._addMessage(r,!0);break}case"content_block_stop":{this._emit("contentBlock",r.content.at(-1));break}case"message_start":{q(this,jt,r);break}}},gs=function(){if(this.ended)throw new Z("stream has ended, this shouldn't happen");const n=A(this,jt,"f");if(!n)throw new Z("request ended without sending any chunks");return q(this,jt,void 0),n},Il=function(n){let r=A(this,jt,"f");if(n.type==="message_start"){if(r)throw new Z(`Unexpected event order, got ${n.type} before receiving "message_stop"`);return n.message}if(!r)throw new Z(`Unexpected event order, got ${n.type} before "message_start"`);switch(n.type){case"message_stop":return r;case"message_delta":return r.container=n.delta.container,r.stop_reason=n.delta.stop_reason,r.stop_sequence=n.delta.stop_sequence,r.usage.output_tokens=n.usage.output_tokens,r.context_management=n.context_management,n.usage.input_tokens!=null&&(r.usage.input_tokens=n.usage.input_tokens),n.usage.cache_creation_input_tokens!=null&&(r.usage.cache_creation_input_tokens=n.usage.cache_creation_input_tokens),n.usage.cache_read_input_tokens!=null&&(r.usage.cache_read_input_tokens=n.usage.cache_read_input_tokens),n.usage.server_tool_use!=null&&(r.usage.server_tool_use=n.usage.server_tool_use),r;case"content_block_start":return r.content.push(n.content_block),r;case"content_block_delta":{const i=r.content.at(n.index);switch(n.delta.type){case"text_delta":{(i==null?void 0:i.type)==="text"&&(r.content[n.index]={...i,text:(i.text||"")+n.delta.text});break}case"citations_delta":{(i==null?void 0:i.type)==="text"&&(r.content[n.index]={...i,citations:[...i.citations??[],n.delta.citation]});break}case"input_json_delta":{if(i&&Nl(i)){let s=i[jl]||"";s+=n.delta.partial_json;const a={...i};if(Object.defineProperty(a,jl,{value:s,enumerable:!1,writable:!0}),s)try{a.input=rh(s)}catch(o){const l=new Z(`Unable to parse tool parameter JSON from model. Please retry your request or adjust your prompt. Error: ${o}. JSON: ${s}`);A(this,Wr,"f").call(this,l)}r.content[n.index]=a}break}case"thinking_delta":{(i==null?void 0:i.type)==="thinking"&&(r.content[n.index]={...i,thinking:i.thinking+n.delta.thinking});break}case"signature_delta":{(i==null?void 0:i.type)==="thinking"&&(r.content[n.index]={...i,signature:n.delta.signature});break}default:n.delta}return r}case"content_block_stop":return r}},Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("streamEvent",i=>{const s=n.shift();s?s.resolve(i):t.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,a)=>n.push({resolve:s,reject:a})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new ht(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}const ih={"claude-opus-4-20250514":8192,"claude-opus-4-0":8192,"claude-4-opus-20250514":8192,"anthropic.claude-opus-4-20250514-v1:0":8192,"claude-opus-4@20250514":8192,"claude-opus-4-1-20250805":8192,"anthropic.claude-opus-4-1-20250805-v1:0":8192,"claude-opus-4-1@20250805":8192};var Hr,Zt,$t,Fe,$n,rt,_t,Nt,On,fa;function Rl(){let e,t;return{promise:new Promise((r,i)=>{e=r,t=i}),resolve:e,reject:t}}class sh{constructor(t,n,r){Hr.add(this),this.client=t,Zt.set(this,!1),$t.set(this,!1),Fe.set(this,void 0),$n.set(this,void 0),rt.set(this,void 0),_t.set(this,void 0),Nt.set(this,void 0),On.set(this,0),q(this,Fe,{params:{...n,messages:structuredClone(n.messages)}}),q(this,$n,{...r,headers:se([{"x-stainless-helper":"BetaToolRunner"},r==null?void 0:r.headers])}),q(this,Nt,Rl())}async*[(Zt=new WeakMap,$t=new WeakMap,Fe=new WeakMap,$n=new WeakMap,rt=new WeakMap,_t=new WeakMap,Nt=new WeakMap,On=new WeakMap,Hr=new WeakSet,Symbol.asyncIterator)](){var t;if(A(this,Zt,"f"))throw new Z("Cannot iterate over a consumed stream");q(this,Zt,!0),q(this,$t,!0),q(this,_t,void 0);try{for(;;){let n;try{if(A(this,Fe,"f").params.max_iterations&&A(this,On,"f")>=A(this,Fe,"f").params.max_iterations)break;q(this,$t,!1,"f"),q(this,rt,void 0,"f"),q(this,_t,void 0,"f"),q(this,On,(t=A(this,On,"f"),t++,t),"f");const{max_iterations:r,...i}=A(this,Fe,"f").params;if(i.stream?(n=this.client.beta.messages.stream({...i},A(this,$n,"f")),q(this,rt,n.finalMessage(),"f"),A(this,rt,"f").catch(()=>{}),yield n):(q(this,rt,this.client.beta.messages.create({...i,stream:!1},A(this,$n,"f")),"f"),yield A(this,rt,"f")),!A(this,$t,"f")){const{role:a,content:o}=await A(this,rt,"f");A(this,Fe,"f").params.messages.push({role:a,content:o})}const s=await A(this,Hr,"m",fa).call(this,A(this,Fe,"f").params.messages.at(-1));if(s&&A(this,Fe,"f").params.messages.push(s),!s&&!A(this,$t,"f"))break}finally{n&&n.abort()}}if(!A(this,rt,"f"))throw new Z("ToolRunner concluded without a message from the server");A(this,Nt,"f").resolve(await A(this,rt,"f"))}catch(n){throw q(this,Zt,!1),A(this,Nt,"f").promise.catch(()=>{}),A(this,Nt,"f").reject(n),q(this,Nt,Rl()),n}}setMessagesParams(t){typeof t=="function"?A(this,Fe,"f").params=t(A(this,Fe,"f").params):A(this,Fe,"f").params=t,q(this,$t,!0),q(this,_t,void 0)}async generateToolResponse(){const t=await A(this,rt,"f")??this.params.messages.at(-1);return t?A(this,Hr,"m",fa).call(this,t):null}done(){return A(this,Nt,"f").promise}async runUntilDone(){if(!A(this,Zt,"f"))for await(const t of this);return this.done()}get params(){return A(this,Fe,"f").params}pushMessages(...t){this.setMessagesParams(n=>({...n,messages:[...n.messages,...t]}))}then(t,n){return this.runUntilDone().then(t,n)}}fa=async function(t){return A(this,_t,"f")!==void 0?A(this,_t,"f"):(q(this,_t,Og(A(this,Fe,"f").params,t)),A(this,_t,"f"))};async function Og(e,t=e.messages.at(-1)){if(!t||t.role!=="assistant"||!t.content||typeof t.content=="string")return null;const n=t.content.filter(i=>i.type==="tool_use");return n.length===0?null:{role:"user",content:await Promise.all(n.map(async i=>{const s=e.tools.find(a=>a.name===i.name);if(!s||!("run"in s))return{type:"tool_result",tool_use_id:i.id,content:`Error: Tool '${i.name}' not found`,is_error:!0};try{let a=i.input;"parse"in s&&s.parse&&(a=s.parse(a));const o=await s.run(a);return{type:"tool_result",tool_use_id:i.id,content:o}}catch(a){return{type:"tool_result",tool_use_id:i.id,content:`Error: ${a instanceof Error?a.message:String(a)}`,is_error:!0}}}))}}const Pl={"claude-1.3":"November 6th, 2024","claude-1.3-100k":"November 6th, 2024","claude-instant-1.1":"November 6th, 2024","claude-instant-1.1-100k":"November 6th, 2024","claude-instant-1.2":"November 6th, 2024","claude-3-sonnet-20240229":"July 21st, 2025","claude-3-opus-20240229":"January 5th, 2026","claude-2.1":"July 21st, 2025","claude-2.0":"July 21st, 2025","claude-3-7-sonnet-latest":"February 19th, 2026","claude-3-7-sonnet-20250219":"February 19th, 2026"};let Gi=class extends ot{constructor(){super(...arguments),this.batches=new nh(this._client)}create(t,n){const{betas:r,...i}=t;i.model in Pl&&console.warn(`The model '${i.model}' is deprecated and will reach end-of-life on ${Pl[i.model]}
Please migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.`);let s=this._client._options.timeout;if(!i.stream&&s==null){const a=ih[i.model]??void 0;s=this._client.calculateNonstreamingTimeout(i.max_tokens,a)}return this._client.post("/v1/messages?beta=true",{body:i,timeout:s??6e5,...n,headers:se([{...(r==null?void 0:r.toString())!=null?{"anthropic-beta":r==null?void 0:r.toString()}:void 0},n==null?void 0:n.headers]),stream:t.stream??!1})}stream(t,n){return Ii.createMessage(this,t,n)}countTokens(t,n){const{betas:r,...i}=t;return this._client.post("/v1/messages/count_tokens?beta=true",{body:i,...n,headers:se([{"anthropic-beta":[...r??[],"token-counting-2024-11-01"].toString()},n==null?void 0:n.headers])})}toolRunner(t,n){return new sh(this._client,t,n)}};Gi.Batches=nh;Gi.BetaToolRunner=sh;class ah extends ot{create(t,n={},r){const{betas:i,...s}=n??{};return this._client.post(Ie`/v1/skills/${t}/versions?beta=true`,oo({body:s,...r,headers:se([{"anthropic-beta":[...i??[],"skills-2025-10-02"].toString()},r==null?void 0:r.headers])},this._client))}retrieve(t,n,r){const{skill_id:i,betas:s}=n;return this._client.get(Ie`/v1/skills/${i}/versions/${t}?beta=true`,{...r,headers:se([{"anthropic-beta":[...s??[],"skills-2025-10-02"].toString()},r==null?void 0:r.headers])})}list(t,n={},r){const{betas:i,...s}=n??{};return this._client.getAPIList(Ie`/v1/skills/${t}/versions?beta=true`,Kd,{query:s,...r,headers:se([{"anthropic-beta":[...i??[],"skills-2025-10-02"].toString()},r==null?void 0:r.headers])})}delete(t,n,r){const{skill_id:i,betas:s}=n;return this._client.delete(Ie`/v1/skills/${i}/versions/${t}?beta=true`,{...r,headers:se([{"anthropic-beta":[...s??[],"skills-2025-10-02"].toString()},r==null?void 0:r.headers])})}}class lo extends ot{constructor(){super(...arguments),this.versions=new ah(this._client)}create(t={},n){const{betas:r,...i}=t??{};return this._client.post("/v1/skills?beta=true",oo({body:i,...n,headers:se([{"anthropic-beta":[...r??[],"skills-2025-10-02"].toString()},n==null?void 0:n.headers])},this._client))}retrieve(t,n={},r){const{betas:i}=n??{};return this._client.get(Ie`/v1/skills/${t}?beta=true`,{...r,headers:se([{"anthropic-beta":[...i??[],"skills-2025-10-02"].toString()},r==null?void 0:r.headers])})}list(t={},n){const{betas:r,...i}=t??{};return this._client.getAPIList("/v1/skills?beta=true",Kd,{query:i,...n,headers:se([{"anthropic-beta":[...r??[],"skills-2025-10-02"].toString()},n==null?void 0:n.headers])})}delete(t,n={},r){const{betas:i}=n??{};return this._client.delete(Ie`/v1/skills/${t}?beta=true`,{...r,headers:se([{"anthropic-beta":[...i??[],"skills-2025-10-02"].toString()},r==null?void 0:r.headers])})}}lo.Versions=ah;class wn extends ot{constructor(){super(...arguments),this.models=new th(this._client),this.messages=new Gi(this._client),this.files=new eh(this._client),this.skills=new lo(this._client)}}wn.Models=th;wn.Messages=Gi;wn.Files=eh;wn.Skills=lo;class oh extends ot{create(t,n){const{betas:r,...i}=t;return this._client.post("/v1/complete",{body:i,timeout:this._client._options.timeout??6e5,...n,headers:se([{...(r==null?void 0:r.toString())!=null?{"anthropic-beta":r==null?void 0:r.toString()}:void 0},n==null?void 0:n.headers]),stream:t.stream??!1})}}var Ze,Rt,Fn,Vr,Dn,Bn,Gr,zn,wt,qn,Kr,Jr,en,Xr,Qr,ys,Tl,xs,bs,ws,ks,Ml;const Ll="__json_buf";function $l(e){return e.type==="tool_use"||e.type==="server_tool_use"}class ji{constructor(){Ze.add(this),this.messages=[],this.receivedMessages=[],Rt.set(this,void 0),this.controller=new AbortController,Fn.set(this,void 0),Vr.set(this,()=>{}),Dn.set(this,()=>{}),Bn.set(this,void 0),Gr.set(this,()=>{}),zn.set(this,()=>{}),wt.set(this,{}),qn.set(this,!1),Kr.set(this,!1),Jr.set(this,!1),en.set(this,!1),Xr.set(this,void 0),Qr.set(this,void 0),xs.set(this,t=>{if(q(this,Kr,!0),pr(t)&&(t=new st),t instanceof st)return q(this,Jr,!0),this._emit("abort",t);if(t instanceof Z)return this._emit("error",t);if(t instanceof Error){const n=new Z(t.message);return n.cause=t,this._emit("error",n)}return this._emit("error",new Z(String(t)))}),q(this,Fn,new Promise((t,n)=>{q(this,Vr,t,"f"),q(this,Dn,n,"f")})),q(this,Bn,new Promise((t,n)=>{q(this,Gr,t,"f"),q(this,zn,n,"f")})),A(this,Fn,"f").catch(()=>{}),A(this,Bn,"f").catch(()=>{})}get response(){return A(this,Xr,"f")}get request_id(){return A(this,Qr,"f")}async withResponse(){const t=await A(this,Fn,"f");if(!t)throw new Error("Could not resolve a `Response` object");return{data:this,response:t,request_id:t.headers.get("request-id")}}static fromReadableStream(t){const n=new ji;return n._run(()=>n._fromReadableStream(t)),n}static createMessage(t,n,r){const i=new ji;for(const s of n.messages)i._addMessageParam(s);return i._run(()=>i._createMessage(t,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}_run(t){t().then(()=>{this._emitFinal(),this._emit("end")},A(this,xs,"f"))}_addMessageParam(t){this.messages.push(t)}_addMessage(t,n=!0){this.receivedMessages.push(t),n&&this._emit("message",t)}async _createMessage(t,n,r){var a;const i=r==null?void 0:r.signal;let s;i&&(i.aborted&&this.controller.abort(),s=this.controller.abort.bind(this.controller),i.addEventListener("abort",s));try{A(this,Ze,"m",bs).call(this);const{response:o,data:l}=await t.create({...n,stream:!0},{...r,signal:this.controller.signal}).withResponse();this._connected(o);for await(const c of l)A(this,Ze,"m",ws).call(this,c);if((a=l.controller.signal)!=null&&a.aborted)throw new st;A(this,Ze,"m",ks).call(this)}finally{i&&s&&i.removeEventListener("abort",s)}}_connected(t){this.ended||(q(this,Xr,t),q(this,Qr,t==null?void 0:t.headers.get("request-id")),A(this,Vr,"f").call(this,t),this._emit("connect"))}get ended(){return A(this,qn,"f")}get errored(){return A(this,Kr,"f")}get aborted(){return A(this,Jr,"f")}abort(){this.controller.abort()}on(t,n){return(A(this,wt,"f")[t]||(A(this,wt,"f")[t]=[])).push({listener:n}),this}off(t,n){const r=A(this,wt,"f")[t];if(!r)return this;const i=r.findIndex(s=>s.listener===n);return i>=0&&r.splice(i,1),this}once(t,n){return(A(this,wt,"f")[t]||(A(this,wt,"f")[t]=[])).push({listener:n,once:!0}),this}emitted(t){return new Promise((n,r)=>{q(this,en,!0),t!=="error"&&this.once("error",r),this.once(t,n)})}async done(){q(this,en,!0),await A(this,Bn,"f")}get currentMessage(){return A(this,Rt,"f")}async finalMessage(){return await this.done(),A(this,Ze,"m",ys).call(this)}async finalText(){return await this.done(),A(this,Ze,"m",Tl).call(this)}_emit(t,...n){if(A(this,qn,"f"))return;t==="end"&&(q(this,qn,!0),A(this,Gr,"f").call(this));const r=A(this,wt,"f")[t];if(r&&(A(this,wt,"f")[t]=r.filter(i=>!i.once),r.forEach(({listener:i})=>i(...n))),t==="abort"){const i=n[0];!A(this,en,"f")&&!(r!=null&&r.length)&&Promise.reject(i),A(this,Dn,"f").call(this,i),A(this,zn,"f").call(this,i),this._emit("end");return}if(t==="error"){const i=n[0];!A(this,en,"f")&&!(r!=null&&r.length)&&Promise.reject(i),A(this,Dn,"f").call(this,i),A(this,zn,"f").call(this,i),this._emit("end")}}_emitFinal(){this.receivedMessages.at(-1)&&this._emit("finalMessage",A(this,Ze,"m",ys).call(this))}async _fromReadableStream(t,n){var s;const r=n==null?void 0:n.signal;let i;r&&(r.aborted&&this.controller.abort(),i=this.controller.abort.bind(this.controller),r.addEventListener("abort",i));try{A(this,Ze,"m",bs).call(this),this._connected(null);const a=ht.fromReadableStream(t,this.controller);for await(const o of a)A(this,Ze,"m",ws).call(this,o);if((s=a.controller.signal)!=null&&s.aborted)throw new st;A(this,Ze,"m",ks).call(this)}finally{r&&i&&r.removeEventListener("abort",i)}}[(Rt=new WeakMap,Fn=new WeakMap,Vr=new WeakMap,Dn=new WeakMap,Bn=new WeakMap,Gr=new WeakMap,zn=new WeakMap,wt=new WeakMap,qn=new WeakMap,Kr=new WeakMap,Jr=new WeakMap,en=new WeakMap,Xr=new WeakMap,Qr=new WeakMap,xs=new WeakMap,Ze=new WeakSet,ys=function(){if(this.receivedMessages.length===0)throw new Z("stream ended without producing a Message with role=assistant");return this.receivedMessages.at(-1)},Tl=function(){if(this.receivedMessages.length===0)throw new Z("stream ended without producing a Message with role=assistant");const n=this.receivedMessages.at(-1).content.filter(r=>r.type==="text").map(r=>r.text);if(n.length===0)throw new Z("stream ended without producing a content block with type=text");return n.join(" ")},bs=function(){this.ended||q(this,Rt,void 0)},ws=function(n){if(this.ended)return;const r=A(this,Ze,"m",Ml).call(this,n);switch(this._emit("streamEvent",n,r),n.type){case"content_block_delta":{const i=r.content.at(-1);switch(n.delta.type){case"text_delta":{i.type==="text"&&this._emit("text",n.delta.text,i.text||"");break}case"citations_delta":{i.type==="text"&&this._emit("citation",n.delta.citation,i.citations??[]);break}case"input_json_delta":{$l(i)&&i.input&&this._emit("inputJson",n.delta.partial_json,i.input);break}case"thinking_delta":{i.type==="thinking"&&this._emit("thinking",n.delta.thinking,i.thinking);break}case"signature_delta":{i.type==="thinking"&&this._emit("signature",i.signature);break}default:n.delta}break}case"message_stop":{this._addMessageParam(r),this._addMessage(r,!0);break}case"content_block_stop":{this._emit("contentBlock",r.content.at(-1));break}case"message_start":{q(this,Rt,r);break}}},ks=function(){if(this.ended)throw new Z("stream has ended, this shouldn't happen");const n=A(this,Rt,"f");if(!n)throw new Z("request ended without sending any chunks");return q(this,Rt,void 0),n},Ml=function(n){let r=A(this,Rt,"f");if(n.type==="message_start"){if(r)throw new Z(`Unexpected event order, got ${n.type} before receiving "message_stop"`);return n.message}if(!r)throw new Z(`Unexpected event order, got ${n.type} before "message_start"`);switch(n.type){case"message_stop":return r;case"message_delta":return r.stop_reason=n.delta.stop_reason,r.stop_sequence=n.delta.stop_sequence,r.usage.output_tokens=n.usage.output_tokens,n.usage.input_tokens!=null&&(r.usage.input_tokens=n.usage.input_tokens),n.usage.cache_creation_input_tokens!=null&&(r.usage.cache_creation_input_tokens=n.usage.cache_creation_input_tokens),n.usage.cache_read_input_tokens!=null&&(r.usage.cache_read_input_tokens=n.usage.cache_read_input_tokens),n.usage.server_tool_use!=null&&(r.usage.server_tool_use=n.usage.server_tool_use),r;case"content_block_start":return r.content.push({...n.content_block}),r;case"content_block_delta":{const i=r.content.at(n.index);switch(n.delta.type){case"text_delta":{(i==null?void 0:i.type)==="text"&&(r.content[n.index]={...i,text:(i.text||"")+n.delta.text});break}case"citations_delta":{(i==null?void 0:i.type)==="text"&&(r.content[n.index]={...i,citations:[...i.citations??[],n.delta.citation]});break}case"input_json_delta":{if(i&&$l(i)){let s=i[Ll]||"";s+=n.delta.partial_json;const a={...i};Object.defineProperty(a,Ll,{value:s,enumerable:!1,writable:!0}),s&&(a.input=rh(s)),r.content[n.index]=a}break}case"thinking_delta":{(i==null?void 0:i.type)==="thinking"&&(r.content[n.index]={...i,thinking:i.thinking+n.delta.thinking});break}case"signature_delta":{(i==null?void 0:i.type)==="thinking"&&(r.content[n.index]={...i,signature:n.delta.signature});break}default:n.delta}return r}case"content_block_stop":return r}},Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("streamEvent",i=>{const s=n.shift();s?s.resolve(i):t.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,a)=>n.push({resolve:s,reject:a})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new ht(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}class lh extends ot{create(t,n){return this._client.post("/v1/messages/batches",{body:t,...n})}retrieve(t,n){return this._client.get(Ie`/v1/messages/batches/${t}`,n)}list(t={},n){return this._client.getAPIList("/v1/messages/batches",Sr,{query:t,...n})}delete(t,n){return this._client.delete(Ie`/v1/messages/batches/${t}`,n)}cancel(t,n){return this._client.post(Ie`/v1/messages/batches/${t}/cancel`,n)}async results(t,n){const r=await this.retrieve(t);if(!r.results_url)throw new Z(`No batch \`results_url\`; Has it finished processing? ${r.processing_status} - ${r.id}`);return this._client.get(r.results_url,{...n,headers:se([{Accept:"application/binary"},n==null?void 0:n.headers]),stream:!0,__binaryResponse:!0})._thenUnwrap((i,s)=>Vi.fromResponse(s.response,s.controller))}}class co extends ot{constructor(){super(...arguments),this.batches=new lh(this._client)}create(t,n){t.model in Ol&&console.warn(`The model '${t.model}' is deprecated and will reach end-of-life on ${Ol[t.model]}
Please migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.`);let r=this._client._options.timeout;if(!t.stream&&r==null){const i=ih[t.model]??void 0;r=this._client.calculateNonstreamingTimeout(t.max_tokens,i)}return this._client.post("/v1/messages",{body:t,timeout:r??6e5,...n,stream:t.stream??!1})}stream(t,n){return ji.createMessage(this,t,n)}countTokens(t,n){return this._client.post("/v1/messages/count_tokens",{body:t,...n})}}const Ol={"claude-1.3":"November 6th, 2024","claude-1.3-100k":"November 6th, 2024","claude-instant-1.1":"November 6th, 2024","claude-instant-1.1-100k":"November 6th, 2024","claude-instant-1.2":"November 6th, 2024","claude-3-sonnet-20240229":"July 21st, 2025","claude-3-opus-20240229":"January 5th, 2026","claude-2.1":"July 21st, 2025","claude-2.0":"July 21st, 2025","claude-3-7-sonnet-latest":"February 19th, 2026","claude-3-7-sonnet-20250219":"February 19th, 2026"};co.Batches=lh;class ch extends ot{retrieve(t,n={},r){const{betas:i}=n??{};return this._client.get(Ie`/v1/models/${t}`,{...r,headers:se([{...(i==null?void 0:i.toString())!=null?{"anthropic-beta":i==null?void 0:i.toString()}:void 0},r==null?void 0:r.headers])})}list(t={},n){const{betas:r,...i}=t??{};return this._client.getAPIList("/v1/models",Sr,{query:i,...n,headers:se([{...(r==null?void 0:r.toString())!=null?{"anthropic-beta":r==null?void 0:r.toString()}:void 0},n==null?void 0:n.headers])})}}var _s={};const Yr=e=>{var t,n,r,i;if(typeof globalThis.process<"u")return((t=_s==null?void 0:_s[e])==null?void 0:t.trim())??void 0;if(typeof globalThis.Deno<"u")return(i=(r=(n=globalThis.Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,e))==null?void 0:i.trim()};var ma,uo,mi,uh;const Fg="\\n\\nHuman:",Dg="\\n\\nAssistant:";class be{constructor({baseURL:t=Yr("ANTHROPIC_BASE_URL"),apiKey:n=Yr("ANTHROPIC_API_KEY")??null,authToken:r=Yr("ANTHROPIC_AUTH_TOKEN")??null,...i}={}){ma.add(this),mi.set(this,void 0);const s={apiKey:n,authToken:r,...i,baseURL:t||"https://api.anthropic.com"};if(!s.dangerouslyAllowBrowser&&lg())throw new Z(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new Anthropic({ apiKey, dangerouslyAllowBrowser: true });
`);this.baseURL=s.baseURL,this.timeout=s.timeout??uo.DEFAULT_TIMEOUT,this.logger=s.logger??console;const a="warn";this.logLevel=a,this.logLevel=Sl(s.logLevel,"ClientOptions.logLevel",this)??Sl(Yr("ANTHROPIC_LOG"),"process.env['ANTHROPIC_LOG']",this)??a,this.fetchOptions=s.fetchOptions,this.maxRetries=s.maxRetries??2,this.fetch=s.fetch??fg(),q(this,mi,pg),this._options=s,this.apiKey=n,this.authToken=r}withOptions(t){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,authToken:this.authToken,...t})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(this.apiKey&&t.get("x-api-key"))&&!n.has("x-api-key")&&!(this.authToken&&t.get("authorization"))&&!n.has("authorization"))throw new Error('Could not resolve authentication method. Expected either apiKey or authToken to be set. Or for one of the "X-Api-Key" or "Authorization" headers to be explicitly omitted')}async authHeaders(t){return se([await this.apiKeyAuth(t),await this.bearerAuth(t)])}async apiKeyAuth(t){if(this.apiKey!=null)return se([{"X-Api-Key":this.apiKey}])}async bearerAuth(t){if(this.authToken!=null)return se([{Authorization:`Bearer ${this.authToken}`}])}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Z(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${on}`}defaultIdempotencyKey(){return`stainless-node-retry-${Pd()}`}makeStatusError(t,n,r,i){return Ne.generate(t,n,r,i)}buildURL(t,n,r){const i=!A(this,ma,"m",uh).call(this)&&r||this.baseURL,s=rg(t)?new URL(t):new URL(i+(i.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),a=this.defaultQuery();return ig(a)||(n={...a,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(s.search=this.stringifyQuery(n)),s.toString()}_calculateNonstreamingTimeout(t){if(3600*t/128e3>600)throw new Z("Streaming is required for operations that may take longer than 10 minutes. See https://github.com/anthropics/anthropic-sdk-typescript#streaming-responses for more details");return 600*1e3}async prepareOptions(t){}async prepareRequest(t,{url:n,options:r}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(i=>({method:t,path:n,...i})))}request(t,n=null){return new Hi(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,r){var x,S;const i=await t,s=i.maxRetries??this.maxRetries;n==null&&(n=s),await this.prepareOptions(i);const{req:a,url:o,timeout:l}=await this.buildRequest(i,{retryCount:s-n});await this.prepareRequest(a,{url:o,options:i});const c="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),d=r===void 0?"":`, retryOf: ${r}`,u=Date.now();if(Te(this).debug(`[${c}] sending request`,Dt({retryOfRequestLogID:r,method:i.method,url:o,options:i,headers:a.headers})),(x=i.signal)!=null&&x.aborted)throw new st;const m=new AbortController,f=await this.fetchWithTimeout(o,a,l,m).catch(la),p=Date.now();if(f instanceof globalThis.Error){const v=`retrying, ${n} attempts remaining`;if((S=i.signal)!=null&&S.aborted)throw new st;const E=pr(f)||/timed? ?out/i.test(String(f)+("cause"in f?String(f.cause):""));if(n)return Te(this).info(`[${c}] connection ${E?"timed out":"failed"} - ${v}`),Te(this).debug(`[${c}] connection ${E?"timed out":"failed"} (${v})`,Dt({retryOfRequestLogID:r,url:o,durationMs:p-u,message:f.message})),this.retryRequest(i,n,r??c);throw Te(this).info(`[${c}] connection ${E?"timed out":"failed"} - error; no more retries left`),Te(this).debug(`[${c}] connection ${E?"timed out":"failed"} (error; no more retries left)`,Dt({retryOfRequestLogID:r,url:o,durationMs:p-u,message:f.message})),E?new Td:new Wi({cause:f})}const y=[...f.headers.entries()].filter(([v])=>v==="request-id").map(([v,E])=>", "+v+": "+JSON.stringify(E)).join(""),w=`[${c}${d}${y}] ${a.method} ${o} ${f.ok?"succeeded":"failed"} with status ${f.status} in ${p-u}ms`;if(!f.ok){const v=await this.shouldRetry(f);if(n&&v){const F=`retrying, ${n} attempts remaining`;return await mg(f.body),Te(this).info(`${w} - ${F}`),Te(this).debug(`[${c}] response error (${F})`,Dt({retryOfRequestLogID:r,url:f.url,status:f.status,headers:f.headers,durationMs:p-u})),this.retryRequest(i,n,r??c,f.headers)}const E=v?"error; no more retries left":"error; not retryable";Te(this).info(`${w} - ${E}`);const $=await f.text().catch(F=>la(F).message),_=qd($),M=_?void 0:$;throw Te(this).debug(`[${c}] response error (${E})`,Dt({retryOfRequestLogID:r,url:f.url,status:f.status,headers:f.headers,message:M,durationMs:Date.now()-u})),this.makeStatusError(f.status,_,M,f.headers)}return Te(this).info(w),Te(this).debug(`[${c}] response start`,Dt({retryOfRequestLogID:r,url:f.url,status:f.status,headers:f.headers,durationMs:p-u})),{response:f,options:i,controller:m,requestLogID:c,retryOfRequestLogID:r,startTime:u}}getAPIList(t,n,r){return this.requestAPIList(n,{method:"get",path:t,...r})}requestAPIList(t,n){const r=this.makeRequest(n,null,void 0);return new vg(this,r,t)}async fetchWithTimeout(t,n,r,i){const{signal:s,method:a,...o}=n||{};s&&s.addEventListener("abort",()=>i.abort());const l=setTimeout(()=>i.abort(),r),c=globalThis.ReadableStream&&o.body instanceof globalThis.ReadableStream||typeof o.body=="object"&&o.body!==null&&Symbol.asyncIterator in o.body,d={signal:i.signal,...c?{duplex:"half"}:{},method:"GET",...o};a&&(d.method=a.toUpperCase());try{return await this.fetch.call(void 0,t,d)}finally{clearTimeout(l)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r,i){let s;const a=i==null?void 0:i.get("retry-after-ms");if(a){const l=parseFloat(a);Number.isNaN(l)||(s=l)}const o=i==null?void 0:i.get("retry-after");if(o&&!s){const l=parseFloat(o);Number.isNaN(l)?s=Date.parse(o)-Date.now():s=l*1e3}if(!(s&&0<=s&&s<60*1e3)){const l=t.maxRetries??this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,l)}return await og(s),this.makeRequest(t,n-1,r)}calculateDefaultRetryTimeoutMillis(t,n){const s=n-t,a=Math.min(.5*Math.pow(2,s),8),o=1-Math.random()*.25;return a*o*1e3}calculateNonstreamingTimeout(t,n){if(36e5*t/128e3>6e5||n!=null&&t>n)throw new Z("Streaming is required for operations that may take longer than 10 minutes. See https://github.com/anthropics/anthropic-sdk-typescript#long-requests for more details");return 6e5}async buildRequest(t,{retryCount:n=0}={}){const r={...t},{method:i,path:s,query:a,defaultBaseURL:o}=r,l=this.buildURL(s,a,o);"timeout"in r&&ag("timeout",r.timeout),r.timeout=r.timeout??this.timeout;const{bodyHeaders:c,body:d}=this.buildBody({options:r}),u=await this.buildHeaders({options:t,method:i,bodyHeaders:c,retryCount:n});return{req:{method:i,headers:u,...r.signal&&{signal:r.signal},...globalThis.ReadableStream&&d instanceof globalThis.ReadableStream&&{duplex:"half"},...d&&{body:d},...this.fetchOptions??{},...r.fetchOptions??{}},url:l,timeout:r.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:r,retryCount:i}){let s={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=t.idempotencyKey);const a=se([s,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i),...t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{},...hg(),...this._options.dangerouslyAllowBrowser?{"anthropic-dangerous-direct-browser-access":"true"}:void 0,"anthropic-version":"2023-06-01"},await this.authHeaders(t),this._options.defaultHeaders,r,t.headers]);return this.validateHeaders(a),a.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const r=se([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&r.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:Wd(t)}:A(this,mi,"f").call(this,{body:t,headers:r})}}uo=be,mi=new WeakMap,ma=new WeakSet,uh=function(){return this.baseURL!=="https://api.anthropic.com"};be.Anthropic=uo;be.HUMAN_PROMPT=Fg;be.AI_PROMPT=Dg;be.DEFAULT_TIMEOUT=6e5;be.AnthropicError=Z;be.APIError=Ne;be.APIConnectionError=Wi;be.APIConnectionTimeoutError=Td;be.APIUserAbortError=st;be.NotFoundError=Od;be.ConflictError=Fd;be.RateLimitError=Bd;be.BadRequestError=Md;be.AuthenticationError=Ld;be.InternalServerError=zd;be.PermissionDeniedError=$d;be.UnprocessableEntityError=Dd;be.toFile=Ng;class kn extends be{constructor(){super(...arguments),this.completions=new oh(this),this.messages=new co(this),this.models=new ch(this),this.beta=new wn(this)}}kn.Completions=oh;kn.Messages=co;kn.Models=ch;kn.Beta=wn;function ft(e){var t;return`Analyze this GitHub repository and provide insights:

**Repository:** ${e.full_name}
**Description:** ${e.description||"No description"}
**Language:** ${e.language||"Unknown"}
**Stars:** ${e.stargazers_count}
**Topics:** ${((t=e.topics)==null?void 0:t.join(", "))||"None"}

Please provide a comprehensive analysis covering:

1. **Purpose & Use Case**: What problem does this repository solve? Who is the target audience?

2. **Key Strengths**: What makes this repository valuable? (code quality, documentation, community, unique features)

3. **Technical Stack**: Brief overview of technologies used and architecture patterns.

4. **Potential Issues or Limitations**: Any concerns about maintenance, dependencies, or scalability?

5. **Recommendations**: Should someone use this? For what use cases? Any alternatives to consider?

Keep your analysis concise (300-400 words), practical, and actionable. Focus on insights that help developers decide if this is right for their project.`}async function pn(e,t,n,r){var l,c;const i=new ee({apiKey:t.apiKey,baseURL:r,dangerouslyAllowBrowser:!0}),s=ze(t.provider),a=t.model||s.defaultModel,o=t.maxTokens||800;try{const d=await i.chat.completions.create({model:a,messages:[{role:"system",content:"You are an expert software engineer analyzing GitHub repositories. Provide insightful, practical analysis."},{role:"user",content:ft(e)}],max_tokens:o,stream:!0,temperature:.7});let u="",m=0;for await(const y of d){const w=((c=(l=y.choices[0])==null?void 0:l.delta)==null?void 0:c.content)||"";w&&(u+=w,m++,n.onToken(w))}const f=Math.ceil(ft(e).split(" ").length*1.3),p=Mi(t.provider,a,f,m);n.onComplete({content:u,tokenCount:f+m,cost:p,model:a,provider:t.provider,timestamp:Date.now()})}catch(d){n.onError(d instanceof Error?d:new Error(`${s.name} API error`))}}async function Bg(e,t,n){const r=new kn({apiKey:t.apiKey,dangerouslyAllowBrowser:!0}),i=ze(t.provider),s=t.model||i.defaultModel,a=t.maxTokens||800;try{const o=await r.messages.stream({model:s,max_tokens:a,messages:[{role:"user",content:ft(e)}],system:"You are an expert software engineer analyzing GitHub repositories. Provide insightful, practical analysis.",temperature:.7});let l="";for await(const u of o)if(u.type==="content_block_delta"&&u.delta.type==="text_delta"){const m=u.delta.text;l+=m,n.onToken(m)}const c=await o.finalMessage(),d=Mi(t.provider,s,c.usage.input_tokens,c.usage.output_tokens);n.onComplete({content:l,tokenCount:c.usage.input_tokens+c.usage.output_tokens,cost:d,model:s,provider:t.provider,timestamp:Date.now()})}catch(o){n.onError(o instanceof Error?o:new Error("Anthropic API error"))}}async function zg(e,t,n){var a,o,l;const r=ze(t.provider),i=t.model||r.defaultModel,s=t.apiKey;try{const c=await fetch(`${r.apiEndpoint}/models/${i}:generateContent?key=${s}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:ft(e)}]}],generationConfig:{temperature:.7,maxOutputTokens:t.maxTokens||800}})});if(!c.ok)throw new Error(`Google API error: ${c.statusText}`);const u=((l=(o=(a=(await c.json()).candidates[0])==null?void 0:a.content)==null?void 0:o.parts[0])==null?void 0:l.text)||"";for(let y=0;y<u.length;y+=5){const w=u.slice(y,y+5);n.onToken(w),await new Promise(x=>setTimeout(x,10))}const m=Math.ceil(ft(e).split(" ").length*1.3),f=Math.ceil(u.split(" ").length*1.3),p=Mi(t.provider,i,m,f);n.onComplete({content:u,tokenCount:m+f,cost:p,model:i,provider:t.provider,timestamp:Date.now()})}catch(c){n.onError(c instanceof Error?c:new Error("Google API error"))}}async function qg(e,t,n){return pn(e,t,n,"https://api.deepseek.com/v1")}async function Ug(e,t,n){return pn(e,t,n,"https://api.mistral.ai/v1")}async function Wg(e,t,n){const r=ze(t.provider),i=t.model||r.defaultModel;try{const s=await fetch(`${r.apiEndpoint}/chat`,{method:"POST",headers:{Authorization:`Bearer ${t.apiKey}`,"Content-Type":"application/json"},body:JSON.stringify({model:i,message:ft(e),temperature:.7,max_tokens:t.maxTokens||800})});if(!s.ok)throw new Error(`Cohere API error: ${s.statusText}`);const o=(await s.json()).text||"";for(let u=0;u<o.length;u+=5){const m=o.slice(u,u+5);n.onToken(m),await new Promise(f=>setTimeout(f,10))}const l=Math.ceil(ft(e).split(" ").length*1.3),c=Math.ceil(o.split(" ").length*1.3),d=Mi(t.provider,i,l,c);n.onComplete({content:o,tokenCount:l+c,cost:d,model:i,provider:t.provider,timestamp:Date.now()})}catch(s){n.onError(s instanceof Error?s:new Error("Cohere API error"))}}async function Hg(e,t,n){return pn(e,t,n,"https://open.bigmodel.cn/api/paas/v4")}async function Vg(e,t,n){var s;const r=ze(t.provider),i=t.model||r.defaultModel;try{const a=await fetch(`${r.apiEndpoint}/${i}`,{method:"POST",headers:{Authorization:`Bearer ${t.apiKey}`,"Content-Type":"application/json"},body:JSON.stringify({inputs:ft(e),parameters:{temperature:.7,max_new_tokens:t.maxTokens||800}})});if(!a.ok)throw new Error(`Hugging Face API error: ${a.statusText}`);const o=await a.json(),l=Array.isArray(o)?((s=o[0])==null?void 0:s.generated_text)||"":o.generated_text||"";for(let u=0;u<l.length;u+=5){const m=l.slice(u,u+5);n.onToken(m),await new Promise(f=>setTimeout(f,10))}const c=Math.ceil(ft(e).split(" ").length*1.3),d=Math.ceil(l.split(" ").length*1.3);n.onComplete({content:l,tokenCount:c+d,cost:0,model:i,provider:t.provider,timestamp:Date.now()})}catch(a){n.onError(a instanceof Error?a:new Error("Hugging Face API error"))}}async function Gg(e,t,n){var s;const r=ze(t.provider),i=t.model||r.defaultModel;try{const a=await fetch(`${r.apiEndpoint}/generate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:i,prompt:ft(e),stream:!0})});if(!a.ok)throw new Error("Ollama not running. Please start Ollama and load a model.");const o=(s=a.body)==null?void 0:s.getReader(),l=new TextDecoder;let c="";if(o)for(;;){const{done:u,value:m}=await o.read();if(u)break;const p=l.decode(m).split(`
`).filter(Boolean);for(const y of p)try{const w=JSON.parse(y);w.response&&(c+=w.response,n.onToken(w.response))}catch{}}const d=Math.ceil(c.split(" ").length*1.3);n.onComplete({content:c,tokenCount:d,cost:0,model:i,provider:t.provider,timestamp:Date.now()})}catch(a){n.onError(a instanceof Error?a:new Error("Ollama error"))}}async function Kg(e,t,n){const r=ze(t.provider);return pn(e,t,n,r.apiEndpoint)}async function Jg(e,t,n){if(t.provider==="custom"&&t.customEndpoint)return pn(e,t,n,t.customEndpoint);switch(t.provider){case"openai":return pn(e,t,n);case"anthropic":return Bg(e,t,n);case"zai":return Hg(e,t,n);case"google":return zg(e,t,n);case"deepseek":return qg(e,t,n);case"mistral":return Ug(e,t,n);case"cohere":return Wg(e,t,n);case"huggingface":return Vg(e,t,n);case"ollama":return Gg(e,t,n);case"replicate":case"together":case"perplexity":case"fireworks":case"lmstudio":case"localai":return Kg(e,t,n);default:n.onError(new Error(`Unsupported provider: ${t.provider}`))}}async function Xg(e){try{const t=ze(e.provider);return t.requiresAuth?e.provider==="openai"||e.provider==="deepseek"||e.provider==="mistral"||e.provider==="zai"?(await new ee({apiKey:e.apiKey,baseURL:t.apiEndpoint,dangerouslyAllowBrowser:!0}).chat.completions.create({model:e.model||t.defaultModel,messages:[{role:"user",content:"Test"}],max_tokens:5}),!0):e.provider==="anthropic"?(await new kn({apiKey:e.apiKey,dangerouslyAllowBrowser:!0}).messages.create({model:e.model||t.defaultModel,max_tokens:10,messages:[{role:"user",content:"Test"}]}),!0):(await fetch(t.apiEndpoint,{method:"HEAD",headers:{Authorization:`Bearer ${e.apiKey}`}})).ok:await fetch(t.apiEndpoint,{method:"HEAD"}).catch(()=>null)!==null}catch(t){return console.error("API key validation failed:",t),!1}}async function Qg(){const e=[];try{(await fetch("http://localhost:11434/api/tags",{method:"GET",signal:AbortSignal.timeout(2e3)})).ok&&e.push("ollama")}catch{}try{(await fetch("http://localhost:1234/v1/models",{method:"GET",signal:AbortSignal.timeout(2e3)})).ok&&e.push("lmstudio")}catch{}try{(await fetch("http://localhost:8080/v1/models",{method:"GET",signal:AbortSignal.timeout(2e3)})).ok&&e.push("localai")}catch{}return e}async function Yg(){var e;try{const t=await fetch("http://localhost:11434/api/tags",{method:"GET",signal:AbortSignal.timeout(3e3)});return t.ok?{available:!0,models:((e=(await t.json()).models)==null?void 0:e.map(i=>({name:i.name,size:i.size,modified:i.modified_at,details:i.details})))||[]}:{available:!1,models:[],error:"Ollama not responding"}}catch(t){return{available:!1,models:[],error:t instanceof Error?t.message:"Connection failed"}}}async function Zg(){var e;try{const t=await fetch("http://localhost:1234/v1/models",{method:"GET",signal:AbortSignal.timeout(3e3)});return t.ok?{available:!0,models:((e=(await t.json()).data)==null?void 0:e.map(i=>({name:i.id,details:i})))||[]}:{available:!1,models:[],error:"LM Studio not responding"}}catch(t){return{available:!1,models:[],error:t instanceof Error?t.message:"Connection failed"}}}async function ey(){var e;try{const t=await fetch("http://localhost:8080/v1/models",{method:"GET",signal:AbortSignal.timeout(3e3)});return t.ok?{available:!0,models:((e=(await t.json()).data)==null?void 0:e.map(i=>({name:i.id,details:i})))||[]}:{available:!1,models:[],error:"LocalAI not responding"}}catch(t){return{available:!1,models:[],error:t instanceof Error?t.message:"Connection failed"}}}function ty(e){let t=e;t=t.replace(/:\d+b?$/i,""),t=t.replace(/:\w+$/i,"");const n={llama2:"Llama 2","llama2:7b":"Llama 2 7B","llama2:13b":"Llama 2 13B","llama2:70b":"Llama 2 70B",codellama:"Code Llama",mistral:"Mistral 7B",mixtral:"Mixtral 8x7B",phi:"Phi 2",gemma:"Gemma",vicuna:"Vicuna",orca:"Orca","neural-chat":"Neural Chat"},r=t.toLowerCase();for(const[i,s]of Object.entries(n))if(r.includes(i))return s;return t.charAt(0).toUpperCase()+t.slice(1)}function ny(e){if(!e)return"";const t=e/1024**3;return t>=1?`${t.toFixed(1)} GB`:`${(e/1024**2).toFixed(0)} MB`}function ry({isOpen:e,onClose:t,onProviderSelected:n}){const[r,i]=z.useState("select"),[s,a]=z.useState(null),[o,l]=z.useState(""),[c,d]=z.useState("all"),[u,m]=z.useState([]),[f,p]=z.useState(""),[y,w]=z.useState(!1),[x,S]=z.useState(""),[v,E]=z.useState(""),[$,_]=z.useState(!1),[M,D]=z.useState("idle"),[F,k]=z.useState(""),[j,N]=z.useState([]),[U,L]=z.useState(!1),[T,X]=z.useState(null);z.useEffect(()=>{e&&Qg().then(m)},[e]),z.useEffect(()=>{s&&r==="configure"&&ce(s)},[s,r]);const ce=async K=>{try{const ae=ze(K);if(K==="ollama"||K==="lmstudio"||K==="localai"){L(!0);let g=null;try{if(K==="ollama"?g=await Yg():K==="lmstudio"?g=await Zg():K==="localai"&&(g=await ey()),X(g),g&&g.available&&g.models.length>0){const ge=g.models.map(Le=>({id:Le.name,name:ty(Le.name),description:ny(Le.size)||"Local model",contextWindow:4096}));N(ge),S(ge[0].id),D("valid")}else N(ae.models),S(ae.defaultModel),D("idle")}catch(ge){console.error(`Failed to detect ${K} models:`,ge),N(ae.models),S(ae.defaultModel)}finally{L(!1)}}else N(ae.models),S(ae.defaultModel);if(ae.requiresAuth){const g=localStorage.getItem(`llm_key_${K}`);if(g){const ge=await ri(g);p(ge),D("valid")}else p(""),ae.isLocal||D("idle")}else p(""),!ae.isLocal&&M==="idle"&&D("valid");if(K==="custom"){const g=localStorage.getItem("custom_endpoint");E(g||"")}}catch(ae){console.error("Failed to load provider config:",ae)}},we=K=>{a(K),i("configure"),D("idle"),k("")},pe=async()=>{if(!s)return;const K=ze(s);if(K.requiresAuth&&!f.trim()){D("invalid"),k("API key is required");return}if(s==="custom"&&!v.trim()){D("invalid"),k("Custom endpoint is required");return}_(!0),k("");try{if(await Xg({provider:s,apiKey:f.trim(),model:x,customEndpoint:s==="custom"?v:void 0})){if(D("valid"),K.requiresAuth){const g=await Xm(f.trim());localStorage.setItem(`llm_key_${s}`,g)}s==="custom"&&v&&localStorage.setItem("custom_endpoint",v),n(s,f.trim(),x),t()}else D("invalid"),k("Validation failed. Please check your credentials and try again.")}catch(ae){D("invalid"),k(ae instanceof Error?ae.message:"Validation failed")}finally{_(!1)}},b=()=>{let K=La();if(c==="cloud"?K=Gm():c==="local"&&(K=Km()),o){const ae=o.toLowerCase();K=K.filter(g=>g.name.toLowerCase().includes(ae)||g.description.toLowerCase().includes(ae))}return K};return e?h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:h.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-2xl max-w-5xl w-full max-h-[90vh] overflow-hidden",children:[h.jsx("div",{className:"border-b border-gray-200 dark:border-gray-800 px-6 py-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r==="select"?"Select LLM Provider":"Configure Provider"}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:r==="select"?"Choose from 15+ cloud and local LLM providers":`Setup ${s?ze(s).name:""}`})]}),h.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:h.jsx(xr,{className:"w-6 h-6"})})]})}),h.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-180px)]",children:r==="select"?h.jsx(iy,{searchQuery:o,setSearchQuery:l,filterType:c,setFilterType:d,providers:b(),availableLocalProviders:u,onProviderSelect:we}):s?h.jsx(sy,{provider:s,apiKey:f,setApiKey:p,showApiKey:y,setShowApiKey:w,selectedModel:x,setSelectedModel:S,customEndpoint:v,setCustomEndpoint:E,validationStatus:M,validationError:F,availableModels:j,isLoadingModels:U,localServiceStatus:T,onBack:()=>i("select")}):null}),r==="configure"&&h.jsx("div",{className:"border-t border-gray-200 dark:border-gray-800 px-6 py-4 bg-gray-50 dark:bg-gray-800/50",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[h.jsx(Ws,{className:"w-4 h-4 text-green-500"}),h.jsx("span",{children:"All keys are encrypted and stored locally"})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:()=>i("select"),className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition",children:"Back"}),h.jsx("button",{onClick:pe,disabled:$,className:fe("px-6 py-2 bg-blue-600 text-white rounded-lg transition","hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed","flex items-center gap-2"),children:$?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),h.jsx("span",{children:"Validating..."})]}):h.jsxs(h.Fragment,{children:[h.jsx($c,{className:"w-4 h-4"}),h.jsx("span",{children:"Validate & Save"})]})})]})]})})]})}):null}function iy({searchQuery:e,setSearchQuery:t,filterType:n,setFilterType:r,providers:i,availableLocalProviders:s,onProviderSelect:a}){const o=Jm();return h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[h.jsxs("div",{className:"relative flex-1",children:[h.jsx(gi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),h.jsx("input",{type:"text",placeholder:"Search providers...",value:e,onChange:l=>t(l.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]}),h.jsx("div",{className:"flex gap-2",children:["all","cloud","local"].map(l=>h.jsx("button",{onClick:()=>r(l),className:fe("px-4 py-2 rounded-lg transition capitalize",n===l?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"),children:l==="all"?"All Providers":`${l} Only`},l))})]}),h.jsxs("div",{className:"space-y-8",children:[n==="all"&&h.jsxs(h.Fragment,{children:[h.jsx(Ss,{title:"Tier 1: Major Cloud Providers",description:"Industry-leading AI companies with powerful models",providers:o.tier1,availableLocalProviders:s,onSelect:a}),h.jsx(Ss,{title:"Tier 2: Specialized Providers",description:"Specialized platforms and model hosting services",providers:o.tier2,availableLocalProviders:s,onSelect:a}),h.jsx(Ss,{title:"Tier 3: Local & Custom",description:"Run models locally or use custom endpoints",providers:o.tier3,availableLocalProviders:s,onSelect:a})]}),n!=="all"&&h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(l=>h.jsx(dh,{provider:l,isAvailable:!l.isLocal||s.includes(l.id),onSelect:()=>a(l.id)},l.id))})]})]})}function Ss({title:e,description:t,providers:n,availableLocalProviders:r,onSelect:i}){return h.jsxs("div",{children:[h.jsxs("div",{className:"mb-4",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(s=>h.jsx(dh,{provider:s,isAvailable:!s.isLocal||r.includes(s.id),onSelect:()=>i(s.id)},s.id))})]})}function dh({provider:e,isAvailable:t,onSelect:n}){return h.jsxs("button",{onClick:n,className:fe("p-4 border rounded-lg text-left transition group relative","hover:shadow-lg hover:border-blue-500 dark:hover:border-blue-400","border-gray-200 dark:border-gray-700 cursor-pointer"),children:[h.jsxs("div",{className:"flex items-start justify-between mb-2",children:[h.jsx("div",{children:h.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[e.name,e.isLocal&&h.jsx(Jf,{className:"w-4 h-4 text-green-500"}),!e.isLocal&&h.jsx(Df,{className:"w-4 h-4 text-blue-500"})]})}),e.isLocal&&!t&&h.jsx("span",{className:"text-xs text-red-500",children:"Not Running"})]}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:e.description}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-500",children:[e.models.length," ",e.models.length===1?"model":"models"]}),e.supportsStreaming&&h.jsx(Yf,{className:"w-4 h-4 text-yellow-500",title:"Streaming support"})]})]})}function sy({provider:e,apiKey:t,setApiKey:n,showApiKey:r,setShowApiKey:i,selectedModel:s,setSelectedModel:a,customEndpoint:o,setCustomEndpoint:l,validationStatus:c,validationError:d,availableModels:u,isLoadingModels:m,localServiceStatus:f,onBack:p}){const y=ze(e);return h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(Dc,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-1",children:y.name}),h.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:y.description}),y.website&&h.jsxs("a",{href:y.website,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 dark:text-blue-400 hover:underline flex items-center gap-1 mt-2",children:["Visit website ",h.jsx(Pa,{className:"w-3 h-3"})]})]})]})}),y.requiresAuth&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"API Key"}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:r?"text":"password",value:t,onChange:w=>n(w.target.value),placeholder:`Enter your ${y.name} API key`,className:"w-full px-4 py-2 pr-10 border border-gray-300 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}),h.jsx("button",{onClick:()=>i(!r),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r?h.jsx(Uf,{className:"w-4 h-4"}):h.jsx(Wf,{className:"w-4 h-4"})})]})]}),e==="custom"&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"API Endpoint"}),h.jsx("input",{type:"url",value:o,onChange:w=>l(w.target.value),placeholder:"https://api.example.com/v1",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Model ",m&&h.jsx("span",{className:"text-xs text-gray-500",children:"(Detecting...)"})]}),m?h.jsxs("div",{className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-800 flex items-center justify-center",children:[h.jsx("div",{className:"w-5 h-5 border-2 border-blue-600 border-t-transparent rounded-full animate-spin mr-2"}),h.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Detecting available models..."})]}):h.jsx("select",{value:s,onChange:w=>a(w.target.value),disabled:u.length===0,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white disabled:opacity-50 disabled:cursor-not-allowed",children:u.length>0?u.map(w=>h.jsxs("option",{value:w.id,children:[w.name," ",w.description&&`- ${w.description}`]},w.id)):h.jsx("option",{value:"",children:"No models available"})}),f&&!f.available&&y.isLocal&&h.jsxs("p",{className:"mt-2 text-sm text-amber-600 dark:text-amber-400",children:["Service not running. ",f.error||"Please start the service to detect available models."]}),f&&f.available&&f.models.length===0&&h.jsx("p",{className:"mt-2 text-sm text-amber-600 dark:text-amber-400",children:"Service is running but no models found. Please download models first."}),f&&f.available&&f.models.length>0&&h.jsxs("p",{className:"mt-2 text-sm text-green-600 dark:text-green-400",children:["Detected ",f.models.length," available ",f.models.length===1?"model":"models"]})]}),y.isLocal&&y.setupInstructions&&h.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[h.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Setup Instructions"}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:y.setupInstructions})]}),c!=="idle"&&h.jsx("div",{className:fe("p-4 rounded-lg flex items-start gap-3",c==="valid"?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"),children:c==="valid"?h.jsxs(h.Fragment,{children:[h.jsx($c,{className:"w-5 h-5 text-green-600 dark:text-green-400 mt-0.5"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-medium text-green-900 dark:text-green-100",children:"Validation Successful"}),h.jsx("p",{className:"text-sm text-green-800 dark:text-green-200",children:"Your credentials are valid and have been saved."})]})]}):h.jsxs(h.Fragment,{children:[h.jsx(Oc,{className:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-medium text-red-900 dark:text-red-100",children:"Validation Failed"}),h.jsx("p",{className:"text-sm text-red-800 dark:text-red-200",children:d})]})]})})]})}function ay(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const oy=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,ly=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,cy={};function Fl(e,t){return(cy.jsx?ly:oy).test(e)}const uy=/[ \t\n\f\r]/g;function dy(e){return typeof e=="object"?e.type==="text"?Dl(e.value):!1:Dl(e)}function Dl(e){return e.replace(uy,"")===""}class vr{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}vr.prototype.normal={};vr.prototype.property={};vr.prototype.space=void 0;function hh(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new vr(n,r,t)}function pa(e){return e.toLowerCase()}class Ue{constructor(t,n){this.attribute=n,this.property=t}}Ue.prototype.attribute="";Ue.prototype.booleanish=!1;Ue.prototype.boolean=!1;Ue.prototype.commaOrSpaceSeparated=!1;Ue.prototype.commaSeparated=!1;Ue.prototype.defined=!1;Ue.prototype.mustUseProperty=!1;Ue.prototype.number=!1;Ue.prototype.overloadedBoolean=!1;Ue.prototype.property="";Ue.prototype.spaceSeparated=!1;Ue.prototype.space=void 0;let hy=0;const Y=Vt(),ye=Vt(),ga=Vt(),P=Vt(),he=Vt(),fn=Vt(),Je=Vt();function Vt(){return 2**++hy}const ya=Object.freeze(Object.defineProperty({__proto__:null,boolean:Y,booleanish:ye,commaOrSpaceSeparated:Je,commaSeparated:fn,number:P,overloadedBoolean:ga,spaceSeparated:he},Symbol.toStringTag,{value:"Module"})),vs=Object.keys(ya);class ho extends Ue{constructor(t,n,r,i){let s=-1;if(super(t,n),Bl(this,"space",i),typeof r=="number")for(;++s<vs.length;){const a=vs[s];Bl(this,vs[s],(r&ya[a])===ya[a])}}}ho.prototype.defined=!0;function Bl(e,t,n){n&&(e[t]=n)}function _n(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const s=new ho(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[pa(r)]=r,n[pa(s.attribute)]=r}return new vr(t,n,e.space)}const fh=_n({properties:{ariaActiveDescendant:null,ariaAtomic:ye,ariaAutoComplete:null,ariaBusy:ye,ariaChecked:ye,ariaColCount:P,ariaColIndex:P,ariaColSpan:P,ariaControls:he,ariaCurrent:null,ariaDescribedBy:he,ariaDetails:null,ariaDisabled:ye,ariaDropEffect:he,ariaErrorMessage:null,ariaExpanded:ye,ariaFlowTo:he,ariaGrabbed:ye,ariaHasPopup:null,ariaHidden:ye,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:he,ariaLevel:P,ariaLive:null,ariaModal:ye,ariaMultiLine:ye,ariaMultiSelectable:ye,ariaOrientation:null,ariaOwns:he,ariaPlaceholder:null,ariaPosInSet:P,ariaPressed:ye,ariaReadOnly:ye,ariaRelevant:null,ariaRequired:ye,ariaRoleDescription:he,ariaRowCount:P,ariaRowIndex:P,ariaRowSpan:P,ariaSelected:ye,ariaSetSize:P,ariaSort:null,ariaValueMax:P,ariaValueMin:P,ariaValueNow:P,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function mh(e,t){return t in e?e[t]:t}function ph(e,t){return mh(e,t.toLowerCase())}const fy=_n({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:fn,acceptCharset:he,accessKey:he,action:null,allow:null,allowFullScreen:Y,allowPaymentRequest:Y,allowUserMedia:Y,alt:null,as:null,async:Y,autoCapitalize:null,autoComplete:he,autoFocus:Y,autoPlay:Y,blocking:he,capture:null,charSet:null,checked:Y,cite:null,className:he,cols:P,colSpan:null,content:null,contentEditable:ye,controls:Y,controlsList:he,coords:P|fn,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Y,defer:Y,dir:null,dirName:null,disabled:Y,download:ga,draggable:ye,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Y,formTarget:null,headers:he,height:P,hidden:ga,high:P,href:null,hrefLang:null,htmlFor:he,httpEquiv:he,id:null,imageSizes:null,imageSrcSet:null,inert:Y,inputMode:null,integrity:null,is:null,isMap:Y,itemId:null,itemProp:he,itemRef:he,itemScope:Y,itemType:he,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Y,low:P,manifest:null,max:null,maxLength:P,media:null,method:null,min:null,minLength:P,multiple:Y,muted:Y,name:null,nonce:null,noModule:Y,noValidate:Y,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Y,optimum:P,pattern:null,ping:he,placeholder:null,playsInline:Y,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Y,referrerPolicy:null,rel:he,required:Y,reversed:Y,rows:P,rowSpan:P,sandbox:he,scope:null,scoped:Y,seamless:Y,selected:Y,shadowRootClonable:Y,shadowRootDelegatesFocus:Y,shadowRootMode:null,shape:null,size:P,sizes:null,slot:null,span:P,spellCheck:ye,src:null,srcDoc:null,srcLang:null,srcSet:null,start:P,step:null,style:null,tabIndex:P,target:null,title:null,translate:null,type:null,typeMustMatch:Y,useMap:null,value:ye,width:P,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:he,axis:null,background:null,bgColor:null,border:P,borderColor:null,bottomMargin:P,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Y,declare:Y,event:null,face:null,frame:null,frameBorder:null,hSpace:P,leftMargin:P,link:null,longDesc:null,lowSrc:null,marginHeight:P,marginWidth:P,noResize:Y,noHref:Y,noShade:Y,noWrap:Y,object:null,profile:null,prompt:null,rev:null,rightMargin:P,rules:null,scheme:null,scrolling:ye,standby:null,summary:null,text:null,topMargin:P,valueType:null,version:null,vAlign:null,vLink:null,vSpace:P,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Y,disableRemotePlayback:Y,prefix:null,property:null,results:P,security:null,unselectable:null},space:"html",transform:ph}),my=_n({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Je,accentHeight:P,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:P,amplitude:P,arabicForm:null,ascent:P,attributeName:null,attributeType:null,azimuth:P,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:P,by:null,calcMode:null,capHeight:P,className:he,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:P,diffuseConstant:P,direction:null,display:null,dur:null,divisor:P,dominantBaseline:null,download:Y,dx:null,dy:null,edgeMode:null,editable:null,elevation:P,enableBackground:null,end:null,event:null,exponent:P,externalResourcesRequired:null,fill:null,fillOpacity:P,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:fn,g2:fn,glyphName:fn,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:P,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:P,horizOriginX:P,horizOriginY:P,id:null,ideographic:P,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:P,k:P,k1:P,k2:P,k3:P,k4:P,kernelMatrix:Je,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:P,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:P,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:P,overlineThickness:P,paintOrder:null,panose1:null,path:null,pathLength:P,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:he,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:P,pointsAtY:P,pointsAtZ:P,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Je,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Je,rev:Je,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Je,requiredFeatures:Je,requiredFonts:Je,requiredFormats:Je,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:P,specularExponent:P,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:P,strikethroughThickness:P,string:null,stroke:null,strokeDashArray:Je,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:P,strokeOpacity:P,strokeWidth:null,style:null,surfaceScale:P,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Je,tabIndex:P,tableValues:null,target:null,targetX:P,targetY:P,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Je,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:P,underlineThickness:P,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:P,values:null,vAlphabetic:P,vMathematical:P,vectorEffect:null,vHanging:P,vIdeographic:P,version:null,vertAdvY:P,vertOriginX:P,vertOriginY:P,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:P,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:mh}),gh=_n({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),yh=_n({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:ph}),xh=_n({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),py={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},gy=/[A-Z]/g,zl=/-[a-z]/g,yy=/^data[-\w.:]+$/i;function xy(e,t){const n=pa(t);let r=t,i=Ue;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&yy.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(zl,wy);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!zl.test(s)){let a=s.replace(gy,by);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}i=ho}return new i(r,t)}function by(e){return"-"+e.toLowerCase()}function wy(e){return e.charAt(1).toUpperCase()}const ky=hh([fh,fy,gh,yh,xh],"html"),fo=hh([fh,my,gh,yh,xh],"svg");function _y(e){return e.join(" ").trim()}var tn={},Cs,ql;function Sy(){if(ql)return Cs;ql=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,o=/^\s+|\s+$/g,l=`
`,c="/",d="*",u="",m="comment",f="declaration";function p(w,x){if(typeof w!="string")throw new TypeError("First argument must be a string");if(!w)return[];x=x||{};var S=1,v=1;function E(L){var T=L.match(t);T&&(S+=T.length);var X=L.lastIndexOf(l);v=~X?L.length-X:v+L.length}function $(){var L={line:S,column:v};return function(T){return T.position=new _(L),F(),T}}function _(L){this.start=L,this.end={line:S,column:v},this.source=x.source}_.prototype.content=w;function M(L){var T=new Error(x.source+":"+S+":"+v+": "+L);if(T.reason=L,T.filename=x.source,T.line=S,T.column=v,T.source=w,!x.silent)throw T}function D(L){var T=L.exec(w);if(T){var X=T[0];return E(X),w=w.slice(X.length),T}}function F(){D(n)}function k(L){var T;for(L=L||[];T=j();)T!==!1&&L.push(T);return L}function j(){var L=$();if(!(c!=w.charAt(0)||d!=w.charAt(1))){for(var T=2;u!=w.charAt(T)&&(d!=w.charAt(T)||c!=w.charAt(T+1));)++T;if(T+=2,u===w.charAt(T-1))return M("End of comment missing");var X=w.slice(2,T-2);return v+=2,E(X),w=w.slice(T),v+=2,L({type:m,comment:X})}}function N(){var L=$(),T=D(r);if(T){if(j(),!D(i))return M("property missing ':'");var X=D(s),ce=L({type:f,property:y(T[0].replace(e,u)),value:X?y(X[0].replace(e,u)):u});return D(a),ce}}function U(){var L=[];k(L);for(var T;T=N();)T!==!1&&(L.push(T),k(L));return L}return F(),U()}function y(w){return w?w.replace(o,u):u}return Cs=p,Cs}var Ul;function vy(){if(Ul)return tn;Ul=1;var e=tn&&tn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(tn,"__esModule",{value:!0}),tn.default=n;const t=e(Sy());function n(r,i){let s=null;if(!r||typeof r!="string")return s;const a=(0,t.default)(r),o=typeof i=="function";return a.forEach(l=>{if(l.type!=="declaration")return;const{property:c,value:d}=l;o?i(c,d,l):d&&(s=s||{},s[c]=d)}),s}return tn}var Un={},Wl;function Cy(){if(Wl)return Un;Wl=1,Object.defineProperty(Un,"__esModule",{value:!0}),Un.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,s=function(c){return!c||n.test(c)||e.test(c)},a=function(c,d){return d.toUpperCase()},o=function(c,d){return"".concat(d,"-")},l=function(c,d){return d===void 0&&(d={}),s(c)?c:(c=c.toLowerCase(),d.reactCompat?c=c.replace(i,o):c=c.replace(r,o),c.replace(t,a))};return Un.camelCase=l,Un}var Wn,Hl;function Ay(){if(Hl)return Wn;Hl=1;var e=Wn&&Wn.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(vy()),n=Cy();function r(i,s){var a={};return!i||typeof i!="string"||(0,t.default)(i,function(o,l){o&&l&&(a[(0,n.camelCase)(o,s)]=l)}),a}return r.default=r,Wn=r,Wn}var Ey=Ay();const Iy=Ra(Ey),bh=wh("end"),mo=wh("start");function wh(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function jy(e){const t=mo(e),n=bh(e);if(t&&n)return{start:t,end:n}}function cr(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Vl(e.position):"start"in e||"end"in e?Vl(e):"line"in e||"column"in e?xa(e):""}function xa(e){return Gl(e&&e.line)+":"+Gl(e&&e.column)}function Vl(e){return xa(e&&e.start)+"-"+xa(e&&e.end)}function Gl(e){return e&&typeof e=="number"?e:1}class Re extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},a=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(a=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const o=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=cr(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Re.prototype.file="";Re.prototype.name="";Re.prototype.reason="";Re.prototype.message="";Re.prototype.stack="";Re.prototype.column=void 0;Re.prototype.line=void 0;Re.prototype.ancestors=void 0;Re.prototype.cause=void 0;Re.prototype.fatal=void 0;Re.prototype.place=void 0;Re.prototype.ruleId=void 0;Re.prototype.source=void 0;const po={}.hasOwnProperty,Ny=new Map,Ry=/[A-Z]/g,Py=new Set(["table","tbody","thead","tfoot","tr"]),Ty=new Set(["td","th"]),kh="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function My(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=qy(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=zy(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?fo:ky,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=_h(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function _h(e,t,n){if(t.type==="element")return Ly(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return $y(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Fy(e,t,n);if(t.type==="mdxjsEsm")return Oy(e,t);if(t.type==="root")return Dy(e,t,n);if(t.type==="text")return By(e,t)}function Ly(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=fo,e.schema=i),e.ancestors.push(t);const s=vh(e,t.tagName,!1),a=Uy(e,t);let o=yo(e,t);return Py.has(t.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!dy(l):!0})),Sh(e,a,s,t),go(a,o),e.ancestors.pop(),e.schema=r,e.create(t,s,a,n)}function $y(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}gr(e,t.position)}function Oy(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);gr(e,t.position)}function Fy(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=fo,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:vh(e,t.name,!0),a=Wy(e,t),o=yo(e,t);return Sh(e,a,s,t),go(a,o),e.ancestors.pop(),e.schema=r,e.create(t,s,a,n)}function Dy(e,t,n){const r={};return go(r,yo(e,t)),e.create(t,e.Fragment,r,n)}function By(e,t){return t.value}function Sh(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function go(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function zy(e,t,n){return r;function r(i,s,a,o){const c=Array.isArray(a.children)?n:t;return o?c(s,a,o):c(s,a)}}function qy(e,t){return n;function n(r,i,s,a){const o=Array.isArray(s.children),l=mo(r);return t(i,s,a,o,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function Uy(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&po.call(t.properties,i)){const s=Hy(e,i,t.properties[i]);if(s){const[a,o]=s;e.tableCellAlignToStyle&&a==="align"&&typeof o=="string"&&Ty.has(t.tagName)?r=o:n[a]=o}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Wy(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const a=s.expression;a.type;const o=a.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else gr(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const o=r.value.data.estree.body[0];o.type,s=e.evaluater.evaluateExpression(o.expression)}else gr(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function yo(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:Ny;for(;++r<t.children.length;){const s=t.children[r];let a;if(e.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const c=i.get(l)||0;a=l+"-"+c,i.set(l,c+1)}}const o=_h(e,s,a);o!==void 0&&n.push(o)}return n}function Hy(e,t,n){const r=xy(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?ay(n):_y(n)),r.property==="style"){let i=typeof n=="object"?n:Vy(e,String(n));return e.stylePropertyNameCase==="css"&&(i=Gy(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?py[r.property]||r.property:r.attribute,n]}}function Vy(e,t){try{return Iy(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Re("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=kh+"#cannot-parse-style-attribute",i}}function vh(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,a;for(;++s<i.length;){const o=Fl(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};a=a?{type:"MemberExpression",object:a,property:o,computed:!!(s&&o.type==="Literal"),optional:!1}:o}r=a}else r=Fl(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return po.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);gr(e)}function gr(e,t){const n=new Re("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=kh+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Gy(e){const t={};let n;for(n in e)po.call(e,n)&&(t[Ky(n)]=e[n]);return t}function Ky(e){let t=e.replace(Ry,Jy);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function Jy(e){return"-"+e.toLowerCase()}const As={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Xy={};function xo(e,t){const n=Xy,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Ch(e,r,i)}function Ch(e,t,n){if(Qy(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Kl(e.children,t,n)}return Array.isArray(e)?Kl(e,t,n):""}function Kl(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=Ch(e[i],t,n);return r.join("")}function Qy(e){return!!(e&&typeof e=="object")}const Jl=document.createElement("i");function bo(e){const t="&"+e+";";Jl.innerHTML=t;const n=Jl.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Qe(e,t,n,r){const i=e.length;let s=0,a;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);s<r.length;)a=r.slice(s,s+1e4),a.unshift(t,0),e.splice(...a),s+=1e4,t+=1e4}function et(e,t){return e.length>0?(Qe(e,e.length,0,t),e):t}const Xl={}.hasOwnProperty;function Ah(e){const t={};let n=-1;for(;++n<e.length;)Yy(t,e[n]);return t}function Yy(e,t){let n;for(n in t){const i=(Xl.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let a;if(s)for(a in s){Xl.call(i,a)||(i[a]=[]);const o=s[a];Zy(i[a],Array.isArray(o)?o:o?[o]:[])}}}function Zy(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Qe(e,0,0,r)}function Eh(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"ï¿½":String.fromCodePoint(n)}function at(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Me=Tt(/[A-Za-z]/),je=Tt(/[\dA-Za-z]/),ex=Tt(/[#-'*+\--9=?A-Z^-~]/);function Ni(e){return e!==null&&(e<32||e===127)}const ba=Tt(/\d/),tx=Tt(/[\dA-Fa-f]/),nx=Tt(/[!-/:-@[-`{-~]/);function V(e){return e!==null&&e<-2}function de(e){return e!==null&&(e<0||e===32)}function te(e){return e===-2||e===-1||e===32}const Ki=Tt(new RegExp("\\p{P}|\\p{S}","u")),Ht=Tt(/\s/);function Tt(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Sn(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let a="";if(s===37&&je(e.charCodeAt(n+1))&&je(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const o=e.charCodeAt(n+1);s<56320&&o>56319&&o<57344?(a=String.fromCharCode(s,o),i=1):a="ï¿½"}else a=String.fromCharCode(s);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function ie(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(l){return te(l)?(e.enter(n),o(l)):t(l)}function o(l){return te(l)&&s++<i?(e.consume(l),o):(e.exit(n),t(l))}}const rx={tokenize:ix};function ix(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),ie(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),s(o)}function s(o){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,a(o)}function a(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return V(o)?(e.consume(o),e.exit("chunkText"),s):(e.consume(o),a)}}const sx={tokenize:ax},Ql={tokenize:ox};function ax(e){const t=this,n=[];let r=0,i,s,a;return o;function o(v){if(r<n.length){const E=n[r];return t.containerState=E[1],e.attempt(E[0].continuation,l,c)(v)}return c(v)}function l(v){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&S();const E=t.events.length;let $=E,_;for(;$--;)if(t.events[$][0]==="exit"&&t.events[$][1].type==="chunkFlow"){_=t.events[$][1].end;break}x(r);let M=E;for(;M<t.events.length;)t.events[M][1].end={..._},M++;return Qe(t.events,$+1,0,t.events.slice(E)),t.events.length=M,c(v)}return o(v)}function c(v){if(r===n.length){if(!i)return m(v);if(i.currentConstruct&&i.currentConstruct.concrete)return p(v);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Ql,d,u)(v)}function d(v){return i&&S(),x(r),m(v)}function u(v){return t.parser.lazy[t.now().line]=r!==n.length,a=t.now().offset,p(v)}function m(v){return t.containerState={},e.attempt(Ql,f,p)(v)}function f(v){return r++,n.push([t.currentConstruct,t.containerState]),m(v)}function p(v){if(v===null){i&&S(),x(0),e.consume(v);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),y(v)}function y(v){if(v===null){w(e.exit("chunkFlow"),!0),x(0),e.consume(v);return}return V(v)?(e.consume(v),w(e.exit("chunkFlow")),r=0,t.interrupt=void 0,o):(e.consume(v),y)}function w(v,E){const $=t.sliceStream(v);if(E&&$.push(null),v.previous=s,s&&(s.next=v),s=v,i.defineSkip(v.start),i.write($),t.parser.lazy[v.start.line]){let _=i.events.length;for(;_--;)if(i.events[_][1].start.offset<a&&(!i.events[_][1].end||i.events[_][1].end.offset>a))return;const M=t.events.length;let D=M,F,k;for(;D--;)if(t.events[D][0]==="exit"&&t.events[D][1].type==="chunkFlow"){if(F){k=t.events[D][1].end;break}F=!0}for(x(r),_=M;_<t.events.length;)t.events[_][1].end={...k},_++;Qe(t.events,D+1,0,t.events.slice(M)),t.events.length=_}}function x(v){let E=n.length;for(;E-- >v;){const $=n[E];t.containerState=$[1],$[0].exit.call(t,e)}n.length=v}function S(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function ox(e,t,n){return ie(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function gn(e){if(e===null||de(e)||Ht(e))return 1;if(Ki(e))return 2}function Ji(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const wa={name:"attention",resolveAll:lx,tokenize:cx};function lx(e,t){let n=-1,r,i,s,a,o,l,c,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const u={...e[r][1].end},m={...e[n][1].start};Yl(u,-l),Yl(m,l),a={type:l>1?"strongSequence":"emphasisSequence",start:u,end:{...e[r][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:m},s={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...a.start},end:{...o.end}},e[r][1].end={...a.start},e[n][1].start={...o.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=et(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=et(c,[["enter",i,t],["enter",a,t],["exit",a,t],["enter",s,t]]),c=et(c,Ji(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=et(c,[["exit",s,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,c=et(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,Qe(e,r-1,n-r+3,c),n=r+c.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function cx(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=gn(r);let s;return a;function a(l){return s=l,e.enter("attentionSequence"),o(l)}function o(l){if(l===s)return e.consume(l),o;const c=e.exit("attentionSequence"),d=gn(l),u=!d||d===2&&i||n.includes(l),m=!i||i===2&&d||n.includes(r);return c._open=!!(s===42?u:u&&(i||!m)),c._close=!!(s===42?m:m&&(d||!u)),t(l)}}function Yl(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const ux={name:"autolink",tokenize:dx};function dx(e,t,n){let r=0;return i;function i(f){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(f){return Me(f)?(e.consume(f),a):f===64?n(f):c(f)}function a(f){return f===43||f===45||f===46||je(f)?(r=1,o(f)):c(f)}function o(f){return f===58?(e.consume(f),r=0,l):(f===43||f===45||f===46||je(f))&&r++<32?(e.consume(f),o):(r=0,c(f))}function l(f){return f===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),t):f===null||f===32||f===60||Ni(f)?n(f):(e.consume(f),l)}function c(f){return f===64?(e.consume(f),d):ex(f)?(e.consume(f),c):n(f)}function d(f){return je(f)?u(f):n(f)}function u(f){return f===46?(e.consume(f),r=0,d):f===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),t):m(f)}function m(f){if((f===45||je(f))&&r++<63){const p=f===45?m:u;return e.consume(f),p}return n(f)}}const Cr={partial:!0,tokenize:hx};function hx(e,t,n){return r;function r(s){return te(s)?ie(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||V(s)?t(s):n(s)}}const Ih={continuation:{tokenize:mx},exit:px,name:"blockQuote",tokenize:fx};function fx(e,t,n){const r=this;return i;function i(a){if(a===62){const o=r.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),s}return n(a)}function s(a){return te(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function mx(e,t,n){const r=this;return i;function i(a){return te(a)?ie(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return e.attempt(Ih,t,n)(a)}}function px(e){e.exit("blockQuote")}const jh={name:"characterEscape",tokenize:gx};function gx(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return nx(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const Nh={name:"characterReference",tokenize:yx};function yx(e,t,n){const r=this;let i=0,s,a;return o;function o(u){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(u),e.exit("characterReferenceMarker"),l}function l(u){return u===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(u),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),s=31,a=je,d(u))}function c(u){return u===88||u===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(u),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,a=tx,d):(e.enter("characterReferenceValue"),s=7,a=ba,d(u))}function d(u){if(u===59&&i){const m=e.exit("characterReferenceValue");return a===je&&!bo(r.sliceSerialize(m))?n(u):(e.enter("characterReferenceMarker"),e.consume(u),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(u)&&i++<s?(e.consume(u),d):n(u)}}const Zl={partial:!0,tokenize:bx},ec={concrete:!0,name:"codeFenced",tokenize:xx};function xx(e,t,n){const r=this,i={partial:!0,tokenize:$};let s=0,a=0,o;return l;function l(_){return c(_)}function c(_){const M=r.events[r.events.length-1];return s=M&&M[1].type==="linePrefix"?M[2].sliceSerialize(M[1],!0).length:0,o=_,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(_)}function d(_){return _===o?(a++,e.consume(_),d):a<3?n(_):(e.exit("codeFencedFenceSequence"),te(_)?ie(e,u,"whitespace")(_):u(_))}function u(_){return _===null||V(_)?(e.exit("codeFencedFence"),r.interrupt?t(_):e.check(Zl,y,E)(_)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),m(_))}function m(_){return _===null||V(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),u(_)):te(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),ie(e,f,"whitespace")(_)):_===96&&_===o?n(_):(e.consume(_),m)}function f(_){return _===null||V(_)?u(_):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(_))}function p(_){return _===null||V(_)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),u(_)):_===96&&_===o?n(_):(e.consume(_),p)}function y(_){return e.attempt(i,E,w)(_)}function w(_){return e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),x}function x(_){return s>0&&te(_)?ie(e,S,"linePrefix",s+1)(_):S(_)}function S(_){return _===null||V(_)?e.check(Zl,y,E)(_):(e.enter("codeFlowValue"),v(_))}function v(_){return _===null||V(_)?(e.exit("codeFlowValue"),S(_)):(e.consume(_),v)}function E(_){return e.exit("codeFenced"),t(_)}function $(_,M,D){let F=0;return k;function k(T){return _.enter("lineEnding"),_.consume(T),_.exit("lineEnding"),j}function j(T){return _.enter("codeFencedFence"),te(T)?ie(_,N,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(T):N(T)}function N(T){return T===o?(_.enter("codeFencedFenceSequence"),U(T)):D(T)}function U(T){return T===o?(F++,_.consume(T),U):F>=a?(_.exit("codeFencedFenceSequence"),te(T)?ie(_,L,"whitespace")(T):L(T)):D(T)}function L(T){return T===null||V(T)?(_.exit("codeFencedFence"),M(T)):D(T)}}}function bx(e,t,n){const r=this;return i;function i(a){return a===null?n(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s)}function s(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}const Es={name:"codeIndented",tokenize:kx},wx={partial:!0,tokenize:_x};function kx(e,t,n){const r=this;return i;function i(c){return e.enter("codeIndented"),ie(e,s,"linePrefix",5)(c)}function s(c){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?a(c):n(c)}function a(c){return c===null?l(c):V(c)?e.attempt(wx,a,l)(c):(e.enter("codeFlowValue"),o(c))}function o(c){return c===null||V(c)?(e.exit("codeFlowValue"),a(c)):(e.consume(c),o)}function l(c){return e.exit("codeIndented"),t(c)}}function _x(e,t,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):V(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):ie(e,s,"linePrefix",5)(a)}function s(a){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):V(a)?i(a):n(a)}}const Sx={name:"codeText",previous:Cx,resolve:vx,tokenize:Ax};function vx(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function Cx(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Ax(e,t,n){let r=0,i,s;return a;function a(u){return e.enter("codeText"),e.enter("codeTextSequence"),o(u)}function o(u){return u===96?(e.consume(u),r++,o):(e.exit("codeTextSequence"),l(u))}function l(u){return u===null?n(u):u===32?(e.enter("space"),e.consume(u),e.exit("space"),l):u===96?(s=e.enter("codeTextSequence"),i=0,d(u)):V(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(u))}function c(u){return u===null||u===32||u===96||V(u)?(e.exit("codeTextData"),l(u)):(e.consume(u),c)}function d(u){return u===96?(e.consume(u),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(u)):(s.type="codeTextData",c(u))}}class Ex{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Hn(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Hn(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Hn(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Hn(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Hn(this.left,n.reverse())}}}function Hn(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Rh(e){const t={};let n=-1,r,i,s,a,o,l,c;const d=new Ex(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Ix(d,n)),n=t[n],c=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(a=d.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},o=d.slice(i,n),o.unshift(r),d.splice(i,n-i+1,o))}}return Qe(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!c}function Ix(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const o=a.events,l=[],c={};let d,u,m=-1,f=n,p=0,y=0;const w=[y];for(;f;){for(;e.get(++i)[1]!==f;);s.push(i),f._tokenizer||(d=r.sliceStream(f),f.next||d.push(null),u&&a.defineSkip(f.start),f._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(d),f._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),u=f,f=f.next}for(f=n;++m<o.length;)o[m][0]==="exit"&&o[m-1][0]==="enter"&&o[m][1].type===o[m-1][1].type&&o[m][1].start.line!==o[m][1].end.line&&(y=m+1,w.push(y),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(a.events=[],f?(f._tokenizer=void 0,f.previous=void 0):w.pop(),m=w.length;m--;){const x=o.slice(w[m],w[m+1]),S=s.pop();l.push([S,S+x.length-1]),e.splice(S,2,x)}for(l.reverse(),m=-1;++m<l.length;)c[p+l[m][0]]=p+l[m][1],p+=l[m][1]-l[m][0]-1;return c}const jx={resolve:Rx,tokenize:Px},Nx={partial:!0,tokenize:Tx};function Rx(e){return Rh(e),e}function Px(e,t){let n;return r;function r(o){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?s(o):V(o)?e.check(Nx,a,s)(o):(e.consume(o),i)}function s(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function a(o){return e.consume(o),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Tx(e,t,n){const r=this;return i;function i(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),ie(e,s,"linePrefix")}function s(a){if(a===null||V(a))return n(a);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):e.interrupt(r.parser.constructs.flow,n,t)(a)}}function Ph(e,t,n,r,i,s,a,o,l){const c=l||Number.POSITIVE_INFINITY;let d=0;return u;function u(x){return x===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(x),e.exit(s),m):x===null||x===32||x===41||Ni(x)?n(x):(e.enter(r),e.enter(a),e.enter(o),e.enter("chunkString",{contentType:"string"}),y(x))}function m(x){return x===62?(e.enter(s),e.consume(x),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),f(x))}function f(x){return x===62?(e.exit("chunkString"),e.exit(o),m(x)):x===null||x===60||V(x)?n(x):(e.consume(x),x===92?p:f)}function p(x){return x===60||x===62||x===92?(e.consume(x),f):f(x)}function y(x){return!d&&(x===null||x===41||de(x))?(e.exit("chunkString"),e.exit(o),e.exit(a),e.exit(r),t(x)):d<c&&x===40?(e.consume(x),d++,y):x===41?(e.consume(x),d--,y):x===null||x===32||x===40||Ni(x)?n(x):(e.consume(x),x===92?w:y)}function w(x){return x===40||x===41||x===92?(e.consume(x),y):y(x)}}function Th(e,t,n,r,i,s){const a=this;let o=0,l;return c;function c(f){return e.enter(r),e.enter(i),e.consume(f),e.exit(i),e.enter(s),d}function d(f){return o>999||f===null||f===91||f===93&&!l||f===94&&!o&&"_hiddenFootnoteSupport"in a.parser.constructs?n(f):f===93?(e.exit(s),e.enter(i),e.consume(f),e.exit(i),e.exit(r),t):V(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),u(f))}function u(f){return f===null||f===91||f===93||V(f)||o++>999?(e.exit("chunkString"),d(f)):(e.consume(f),l||(l=!te(f)),f===92?m:u)}function m(f){return f===91||f===92||f===93?(e.consume(f),o++,u):u(f)}}function Mh(e,t,n,r,i,s){let a;return o;function o(m){return m===34||m===39||m===40?(e.enter(r),e.enter(i),e.consume(m),e.exit(i),a=m===40?41:m,l):n(m)}function l(m){return m===a?(e.enter(i),e.consume(m),e.exit(i),e.exit(r),t):(e.enter(s),c(m))}function c(m){return m===a?(e.exit(s),l(a)):m===null?n(m):V(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),ie(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(m))}function d(m){return m===a||m===null||V(m)?(e.exit("chunkString"),c(m)):(e.consume(m),m===92?u:d)}function u(m){return m===a||m===92?(e.consume(m),d):d(m)}}function ur(e,t){let n;return r;function r(i){return V(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):te(i)?ie(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const Mx={name:"definition",tokenize:$x},Lx={partial:!0,tokenize:Ox};function $x(e,t,n){const r=this;let i;return s;function s(f){return e.enter("definition"),a(f)}function a(f){return Th.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(f)}function o(f){return i=at(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),f===58?(e.enter("definitionMarker"),e.consume(f),e.exit("definitionMarker"),l):n(f)}function l(f){return de(f)?ur(e,c)(f):c(f)}function c(f){return Ph(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(f)}function d(f){return e.attempt(Lx,u,u)(f)}function u(f){return te(f)?ie(e,m,"whitespace")(f):m(f)}function m(f){return f===null||V(f)?(e.exit("definition"),r.parser.defined.push(i),t(f)):n(f)}}function Ox(e,t,n){return r;function r(o){return de(o)?ur(e,i)(o):n(o)}function i(o){return Mh(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function s(o){return te(o)?ie(e,a,"whitespace")(o):a(o)}function a(o){return o===null||V(o)?t(o):n(o)}}const Fx={name:"hardBreakEscape",tokenize:Dx};function Dx(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return V(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const Bx={name:"headingAtx",resolve:zx,tokenize:qx};function zx(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Qe(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function qx(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),s(d)}function s(d){return e.enter("atxHeadingSequence"),a(d)}function a(d){return d===35&&r++<6?(e.consume(d),a):d===null||de(d)?(e.exit("atxHeadingSequence"),o(d)):n(d)}function o(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||V(d)?(e.exit("atxHeading"),t(d)):te(d)?ie(e,o,"whitespace")(d):(e.enter("atxHeadingText"),c(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),o(d))}function c(d){return d===null||d===35||de(d)?(e.exit("atxHeadingText"),o(d)):(e.consume(d),c)}}const Ux=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],tc=["pre","script","style","textarea"],Wx={concrete:!0,name:"htmlFlow",resolveTo:Gx,tokenize:Kx},Hx={partial:!0,tokenize:Xx},Vx={partial:!0,tokenize:Jx};function Gx(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Kx(e,t,n){const r=this;let i,s,a,o,l;return c;function c(g){return d(g)}function d(g){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(g),u}function u(g){return g===33?(e.consume(g),m):g===47?(e.consume(g),s=!0,y):g===63?(e.consume(g),i=3,r.interrupt?t:b):Me(g)?(e.consume(g),a=String.fromCharCode(g),w):n(g)}function m(g){return g===45?(e.consume(g),i=2,f):g===91?(e.consume(g),i=5,o=0,p):Me(g)?(e.consume(g),i=4,r.interrupt?t:b):n(g)}function f(g){return g===45?(e.consume(g),r.interrupt?t:b):n(g)}function p(g){const ge="CDATA[";return g===ge.charCodeAt(o++)?(e.consume(g),o===ge.length?r.interrupt?t:N:p):n(g)}function y(g){return Me(g)?(e.consume(g),a=String.fromCharCode(g),w):n(g)}function w(g){if(g===null||g===47||g===62||de(g)){const ge=g===47,Le=a.toLowerCase();return!ge&&!s&&tc.includes(Le)?(i=1,r.interrupt?t(g):N(g)):Ux.includes(a.toLowerCase())?(i=6,ge?(e.consume(g),x):r.interrupt?t(g):N(g)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(g):s?S(g):v(g))}return g===45||je(g)?(e.consume(g),a+=String.fromCharCode(g),w):n(g)}function x(g){return g===62?(e.consume(g),r.interrupt?t:N):n(g)}function S(g){return te(g)?(e.consume(g),S):k(g)}function v(g){return g===47?(e.consume(g),k):g===58||g===95||Me(g)?(e.consume(g),E):te(g)?(e.consume(g),v):k(g)}function E(g){return g===45||g===46||g===58||g===95||je(g)?(e.consume(g),E):$(g)}function $(g){return g===61?(e.consume(g),_):te(g)?(e.consume(g),$):v(g)}function _(g){return g===null||g===60||g===61||g===62||g===96?n(g):g===34||g===39?(e.consume(g),l=g,M):te(g)?(e.consume(g),_):D(g)}function M(g){return g===l?(e.consume(g),l=null,F):g===null||V(g)?n(g):(e.consume(g),M)}function D(g){return g===null||g===34||g===39||g===47||g===60||g===61||g===62||g===96||de(g)?$(g):(e.consume(g),D)}function F(g){return g===47||g===62||te(g)?v(g):n(g)}function k(g){return g===62?(e.consume(g),j):n(g)}function j(g){return g===null||V(g)?N(g):te(g)?(e.consume(g),j):n(g)}function N(g){return g===45&&i===2?(e.consume(g),X):g===60&&i===1?(e.consume(g),ce):g===62&&i===4?(e.consume(g),K):g===63&&i===3?(e.consume(g),b):g===93&&i===5?(e.consume(g),pe):V(g)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(Hx,ae,U)(g)):g===null||V(g)?(e.exit("htmlFlowData"),U(g)):(e.consume(g),N)}function U(g){return e.check(Vx,L,ae)(g)}function L(g){return e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),T}function T(g){return g===null||V(g)?U(g):(e.enter("htmlFlowData"),N(g))}function X(g){return g===45?(e.consume(g),b):N(g)}function ce(g){return g===47?(e.consume(g),a="",we):N(g)}function we(g){if(g===62){const ge=a.toLowerCase();return tc.includes(ge)?(e.consume(g),K):N(g)}return Me(g)&&a.length<8?(e.consume(g),a+=String.fromCharCode(g),we):N(g)}function pe(g){return g===93?(e.consume(g),b):N(g)}function b(g){return g===62?(e.consume(g),K):g===45&&i===2?(e.consume(g),b):N(g)}function K(g){return g===null||V(g)?(e.exit("htmlFlowData"),ae(g)):(e.consume(g),K)}function ae(g){return e.exit("htmlFlow"),t(g)}}function Jx(e,t,n){const r=this;return i;function i(a){return V(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s):n(a)}function s(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}function Xx(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Cr,t,n)}}const Qx={name:"htmlText",tokenize:Yx};function Yx(e,t,n){const r=this;let i,s,a;return o;function o(b){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(b),l}function l(b){return b===33?(e.consume(b),c):b===47?(e.consume(b),$):b===63?(e.consume(b),v):Me(b)?(e.consume(b),D):n(b)}function c(b){return b===45?(e.consume(b),d):b===91?(e.consume(b),s=0,p):Me(b)?(e.consume(b),S):n(b)}function d(b){return b===45?(e.consume(b),f):n(b)}function u(b){return b===null?n(b):b===45?(e.consume(b),m):V(b)?(a=u,ce(b)):(e.consume(b),u)}function m(b){return b===45?(e.consume(b),f):u(b)}function f(b){return b===62?X(b):b===45?m(b):u(b)}function p(b){const K="CDATA[";return b===K.charCodeAt(s++)?(e.consume(b),s===K.length?y:p):n(b)}function y(b){return b===null?n(b):b===93?(e.consume(b),w):V(b)?(a=y,ce(b)):(e.consume(b),y)}function w(b){return b===93?(e.consume(b),x):y(b)}function x(b){return b===62?X(b):b===93?(e.consume(b),x):y(b)}function S(b){return b===null||b===62?X(b):V(b)?(a=S,ce(b)):(e.consume(b),S)}function v(b){return b===null?n(b):b===63?(e.consume(b),E):V(b)?(a=v,ce(b)):(e.consume(b),v)}function E(b){return b===62?X(b):v(b)}function $(b){return Me(b)?(e.consume(b),_):n(b)}function _(b){return b===45||je(b)?(e.consume(b),_):M(b)}function M(b){return V(b)?(a=M,ce(b)):te(b)?(e.consume(b),M):X(b)}function D(b){return b===45||je(b)?(e.consume(b),D):b===47||b===62||de(b)?F(b):n(b)}function F(b){return b===47?(e.consume(b),X):b===58||b===95||Me(b)?(e.consume(b),k):V(b)?(a=F,ce(b)):te(b)?(e.consume(b),F):X(b)}function k(b){return b===45||b===46||b===58||b===95||je(b)?(e.consume(b),k):j(b)}function j(b){return b===61?(e.consume(b),N):V(b)?(a=j,ce(b)):te(b)?(e.consume(b),j):F(b)}function N(b){return b===null||b===60||b===61||b===62||b===96?n(b):b===34||b===39?(e.consume(b),i=b,U):V(b)?(a=N,ce(b)):te(b)?(e.consume(b),N):(e.consume(b),L)}function U(b){return b===i?(e.consume(b),i=void 0,T):b===null?n(b):V(b)?(a=U,ce(b)):(e.consume(b),U)}function L(b){return b===null||b===34||b===39||b===60||b===61||b===96?n(b):b===47||b===62||de(b)?F(b):(e.consume(b),L)}function T(b){return b===47||b===62||de(b)?F(b):n(b)}function X(b){return b===62?(e.consume(b),e.exit("htmlTextData"),e.exit("htmlText"),t):n(b)}function ce(b){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),we}function we(b){return te(b)?ie(e,pe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(b):pe(b)}function pe(b){return e.enter("htmlTextData"),a(b)}}const wo={name:"labelEnd",resolveAll:nb,resolveTo:rb,tokenize:ib},Zx={tokenize:sb},eb={tokenize:ab},tb={tokenize:ob};function nb(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Qe(e,0,e.length,n),e}function rb(e,t){let n=e.length,r=0,i,s,a,o;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const l={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[s][1].start},end:{...e[a][1].end}},d={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[a-2][1].start}};return o=[["enter",l,t],["enter",c,t]],o=et(o,e.slice(s+1,s+r+3)),o=et(o,[["enter",d,t]]),o=et(o,Ji(t.parser.constructs.insideSpan.null,e.slice(s+r+4,a-3),t)),o=et(o,[["exit",d,t],e[a-2],e[a-1],["exit",c,t]]),o=et(o,e.slice(a+1)),o=et(o,[["exit",l,t]]),Qe(e,s,e.length,o),e}function ib(e,t,n){const r=this;let i=r.events.length,s,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return o;function o(m){return s?s._inactive?u(m):(a=r.parser.defined.includes(at(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(m),e.exit("labelMarker"),e.exit("labelEnd"),l):n(m)}function l(m){return m===40?e.attempt(Zx,d,a?d:u)(m):m===91?e.attempt(eb,d,a?c:u)(m):a?d(m):u(m)}function c(m){return e.attempt(tb,d,u)(m)}function d(m){return t(m)}function u(m){return s._balanced=!0,n(m)}}function sb(e,t,n){return r;function r(u){return e.enter("resource"),e.enter("resourceMarker"),e.consume(u),e.exit("resourceMarker"),i}function i(u){return de(u)?ur(e,s)(u):s(u)}function s(u){return u===41?d(u):Ph(e,a,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(u)}function a(u){return de(u)?ur(e,l)(u):d(u)}function o(u){return n(u)}function l(u){return u===34||u===39||u===40?Mh(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(u):d(u)}function c(u){return de(u)?ur(e,d)(u):d(u)}function d(u){return u===41?(e.enter("resourceMarker"),e.consume(u),e.exit("resourceMarker"),e.exit("resource"),t):n(u)}}function ab(e,t,n){const r=this;return i;function i(o){return Th.call(r,e,s,a,"reference","referenceMarker","referenceString")(o)}function s(o){return r.parser.defined.includes(at(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(o):n(o)}function a(o){return n(o)}}function ob(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const lb={name:"labelStartImage",resolveAll:wo.resolveAll,tokenize:cb};function cb(e,t,n){const r=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),s}function s(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),a):n(o)}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const ub={name:"labelStartLink",resolveAll:wo.resolveAll,tokenize:db};function db(e,t,n){const r=this;return i;function i(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const Is={name:"lineEnding",tokenize:hb};function hb(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),ie(e,t,"linePrefix")}}const pi={name:"thematicBreak",tokenize:fb};function fb(e,t,n){let r=0,i;return s;function s(c){return e.enter("thematicBreak"),a(c)}function a(c){return i=c,o(c)}function o(c){return c===i?(e.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||V(c))?(e.exit("thematicBreak"),t(c)):n(c)}function l(c){return c===i?(e.consume(c),r++,l):(e.exit("thematicBreakSequence"),te(c)?ie(e,o,"whitespace")(c):o(c))}}const De={continuation:{tokenize:yb},exit:bb,name:"list",tokenize:gb},mb={partial:!0,tokenize:wb},pb={partial:!0,tokenize:xb};function gb(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return o;function o(f){const p=r.containerState.type||(f===42||f===43||f===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||f===r.containerState.marker:ba(f)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),f===42||f===45?e.check(pi,n,c)(f):c(f);if(!r.interrupt||f===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(f)}return n(f)}function l(f){return ba(f)&&++a<10?(e.consume(f),l):(!r.interrupt||a<2)&&(r.containerState.marker?f===r.containerState.marker:f===41||f===46)?(e.exit("listItemValue"),c(f)):n(f)}function c(f){return e.enter("listItemMarker"),e.consume(f),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||f,e.check(Cr,r.interrupt?n:d,e.attempt(mb,m,u))}function d(f){return r.containerState.initialBlankLine=!0,s++,m(f)}function u(f){return te(f)?(e.enter("listItemPrefixWhitespace"),e.consume(f),e.exit("listItemPrefixWhitespace"),m):n(f)}function m(f){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(f)}}function yb(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Cr,i,s);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,ie(e,t,"listItemIndent",r.containerState.size+1)(o)}function s(o){return r.containerState.furtherBlankLines||!te(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(pb,t,a)(o))}function a(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,ie(e,e.attempt(De,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function xb(e,t,n){const r=this;return ie(e,i,"listItemIndent",r.containerState.size+1);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?t(s):n(s)}}function bb(e){e.exit(this.containerState.type)}function wb(e,t,n){const r=this;return ie(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const a=r.events[r.events.length-1];return!te(s)&&a&&a[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const nc={name:"setextUnderline",resolveTo:kb,tokenize:_b};function kb(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const a={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",a,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=a,e.push(["exit",a,t]),e}function _b(e,t,n){const r=this;let i;return s;function s(c){let d=r.events.length,u;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){u=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||u)?(e.enter("setextHeadingLine"),i=c,a(c)):n(c)}function a(c){return e.enter("setextHeadingLineSequence"),o(c)}function o(c){return c===i?(e.consume(c),o):(e.exit("setextHeadingLineSequence"),te(c)?ie(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||V(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const Sb={tokenize:vb};function vb(e){const t=this,n=e.attempt(Cr,r,e.attempt(this.parser.constructs.flowInitial,i,ie(e,e.attempt(this.parser.constructs.flow,i,e.attempt(jx,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Cb={resolveAll:$h()},Ab=Lh("string"),Eb=Lh("text");function Lh(e){return{resolveAll:$h(e==="text"?Ib:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,a,o);return a;function a(d){return c(d)?s(d):o(d)}function o(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return c(d)?(n.exit("data"),s(d)):(n.consume(d),l)}function c(d){if(d===null)return!0;const u=i[d];let m=-1;if(u)for(;++m<u.length;){const f=u[m];if(!f.previous||f.previous.call(r,r.previous))return!0}return!1}}}function $h(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function Ib(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,a=-1,o=0,l;for(;s--;){const c=i[s];if(typeof c=="string"){for(a=c.length;c.charCodeAt(a-1)===32;)o++,a--;if(a)break;a=-1}else if(c===-2)l=!0,o++;else if(c!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(o=0),o){const c={type:n===e.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:r.start._bufferIndex+a,_index:r.start._index+s,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const jb={42:De,43:De,45:De,48:De,49:De,50:De,51:De,52:De,53:De,54:De,55:De,56:De,57:De,62:Ih},Nb={91:Mx},Rb={[-2]:Es,[-1]:Es,32:Es},Pb={35:Bx,42:pi,45:[nc,pi],60:Wx,61:nc,95:pi,96:ec,126:ec},Tb={38:Nh,92:jh},Mb={[-5]:Is,[-4]:Is,[-3]:Is,33:lb,38:Nh,42:wa,60:[ux,Qx],91:ub,92:[Fx,jh],93:wo,95:wa,96:Sx},Lb={null:[wa,Cb]},$b={null:[42,95]},Ob={null:[]},Fb=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:$b,contentInitial:Nb,disable:Ob,document:jb,flow:Pb,flowInitial:Rb,insideSpan:Lb,string:Tb,text:Mb},Symbol.toStringTag,{value:"Module"}));function Db(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let a=[],o=[];const l={attempt:M($),check:M(_),consume:S,enter:v,exit:E,interrupt:M(_,{interrupt:!0})},c={code:null,containerState:{},defineSkip:y,events:[],now:p,parser:e,previous:null,sliceSerialize:m,sliceStream:f,write:u};let d=t.tokenize.call(c,l);return t.resolveAll&&s.push(t),c;function u(j){return a=et(a,j),w(),a[a.length-1]!==null?[]:(D(t,0),c.events=Ji(s,c.events,c),c.events)}function m(j,N){return zb(f(j),N)}function f(j){return Bb(a,j)}function p(){const{_bufferIndex:j,_index:N,line:U,column:L,offset:T}=r;return{_bufferIndex:j,_index:N,line:U,column:L,offset:T}}function y(j){i[j.line]=j.column,k()}function w(){let j;for(;r._index<a.length;){const N=a[r._index];if(typeof N=="string")for(j=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===j&&r._bufferIndex<N.length;)x(N.charCodeAt(r._bufferIndex));else x(N)}}function x(j){d=d(j)}function S(j){V(j)?(r.line++,r.column=1,r.offset+=j===-3?2:1,k()):j!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=j}function v(j,N){const U=N||{};return U.type=j,U.start=p(),c.events.push(["enter",U,c]),o.push(U),U}function E(j){const N=o.pop();return N.end=p(),c.events.push(["exit",N,c]),N}function $(j,N){D(j,N.from)}function _(j,N){N.restore()}function M(j,N){return U;function U(L,T,X){let ce,we,pe,b;return Array.isArray(L)?ae(L):"tokenize"in L?ae([L]):K(L);function K(ke){return Mt;function Mt(lt){const vt=lt!==null&&ke[lt],re=lt!==null&&ke.null,oe=[...Array.isArray(vt)?vt:vt?[vt]:[],...Array.isArray(re)?re:re?[re]:[]];return ae(oe)(lt)}}function ae(ke){return ce=ke,we=0,ke.length===0?X:g(ke[we])}function g(ke){return Mt;function Mt(lt){return b=F(),pe=ke,ke.partial||(c.currentConstruct=ke),ke.name&&c.parser.constructs.disable.null.includes(ke.name)?Le():ke.tokenize.call(N?Object.assign(Object.create(c),N):c,l,ge,Le)(lt)}}function ge(ke){return j(pe,b),T}function Le(ke){return b.restore(),++we<ce.length?g(ce[we]):X}}}function D(j,N){j.resolveAll&&!s.includes(j)&&s.push(j),j.resolve&&Qe(c.events,N,c.events.length-N,j.resolve(c.events.slice(N),c)),j.resolveTo&&(c.events=j.resolveTo(c.events,c))}function F(){const j=p(),N=c.previous,U=c.currentConstruct,L=c.events.length,T=Array.from(o);return{from:L,restore:X};function X(){r=j,c.previous=N,c.currentConstruct=U,c.events.length=L,o=T,k()}}function k(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Bb(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let a;if(n===i)a=[e[n].slice(r,s)];else{if(a=e.slice(n,i),r>-1){const o=a[0];typeof o=="string"?a[0]=o.slice(r):a.shift()}s>0&&a.push(e[i].slice(0,s))}return a}function zb(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,r.push(a)}return r.join("")}function qb(e){const r={constructs:Ah([Fb,...(e||{}).extensions||[]]),content:i(rx),defined:[],document:i(sx),flow:i(Sb),lazy:{},string:i(Ab),text:i(Eb)};return r;function i(s){return a;function a(o){return Db(r,s,o)}}}function Ub(e){for(;!Rh(e););return e}const rc=/[\0\t\n\r]/g;function Wb(){let e=1,t="",n=!0,r;return i;function i(s,a,o){const l=[];let c,d,u,m,f;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),u=0,t="",n&&(s.charCodeAt(0)===65279&&u++,n=void 0);u<s.length;){if(rc.lastIndex=u,c=rc.exec(s),m=c&&c.index!==void 0?c.index:s.length,f=s.charCodeAt(m),!c){t=s.slice(u);break}if(f===10&&u===m&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),u<m&&(l.push(s.slice(u,m)),e+=m-u),f){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}u=m+1}return o&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const Hb=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Vb(e){return e.replace(Hb,Gb)}function Gb(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return Eh(n.slice(s?2:1),s?16:10)}return bo(n)||e}const Oh={}.hasOwnProperty;function Kb(e,t,n){return typeof t!="string"&&(n=t,t=void 0),Jb(n)(Ub(qb(n).document().write(Wb()(e,t,!0))))}function Jb(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(To),autolinkProtocol:F,autolinkEmail:F,atxHeading:s(Gt),blockQuote:s(re),characterEscape:F,characterReference:F,codeFenced:s(oe),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(oe,a),codeText:s($e,a),codeTextData:F,data:F,codeFlowValue:F,definition:s(ve),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(Er),hardBreakEscape:s(Ro),hardBreakTrailing:s(Ro),htmlFlow:s(Po,a),htmlFlowData:F,htmlText:s(Po,a),htmlTextData:F,image:s(wf),label:a,link:s(To),listItem:s(kf),listItemValue:m,listOrdered:s(Mo,u),listUnordered:s(Mo),paragraph:s(_f),reference:g,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(Gt),strong:s(Sf),thematicBreak:s(Cf)},exit:{atxHeading:l(),atxHeadingSequence:$,autolink:l(),autolinkEmail:vt,autolinkProtocol:lt,blockQuote:l(),characterEscapeValue:k,characterReferenceMarkerHexadecimal:Le,characterReferenceMarkerNumeric:Le,characterReferenceValue:ke,characterReference:Mt,codeFenced:l(w),codeFencedFence:y,codeFencedFenceInfo:f,codeFencedFenceMeta:p,codeFlowValue:k,codeIndented:l(x),codeText:l(T),codeTextData:k,data:k,definition:l(),definitionDestinationString:E,definitionLabelString:S,definitionTitleString:v,emphasis:l(),hardBreakEscape:l(N),hardBreakTrailing:l(N),htmlFlow:l(U),htmlFlowData:k,htmlText:l(L),htmlTextData:k,image:l(ce),label:pe,labelText:we,lineEnding:j,link:l(X),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:ge,resourceDestinationString:b,resourceTitleString:K,resource:ae,setextHeading:l(D),setextHeadingLineSequence:M,setextHeadingText:_,strong:l(),thematicBreak:l()}};Fh(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(I){let O={type:"root",children:[]};const J={stack:[O],tokenStack:[],config:t,enter:o,exit:c,buffer:a,resume:d,data:n},ne=[];let ue=-1;for(;++ue<I.length;)if(I[ue][1].type==="listOrdered"||I[ue][1].type==="listUnordered")if(I[ue][0]==="enter")ne.push(ue);else{const nt=ne.pop();ue=i(I,nt,ue)}for(ue=-1;++ue<I.length;){const nt=t[I[ue][0]];Oh.call(nt,I[ue][1].type)&&nt[I[ue][1].type].call(Object.assign({sliceSerialize:I[ue][2].sliceSerialize},J),I[ue][1])}if(J.tokenStack.length>0){const nt=J.tokenStack[J.tokenStack.length-1];(nt[1]||ic).call(J,void 0,nt[0])}for(O.position={start:Pt(I.length>0?I[0][1].start:{line:1,column:1,offset:0}),end:Pt(I.length>0?I[I.length-2][1].end:{line:1,column:1,offset:0})},ue=-1;++ue<t.transforms.length;)O=t.transforms[ue](O)||O;return O}function i(I,O,J){let ne=O-1,ue=-1,nt=!1,Lt,pt,vn,Cn;for(;++ne<=J;){const We=I[ne];switch(We[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{We[0]==="enter"?ue++:ue--,Cn=void 0;break}case"lineEndingBlank":{We[0]==="enter"&&(Lt&&!Cn&&!ue&&!vn&&(vn=ne),Cn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Cn=void 0}if(!ue&&We[0]==="enter"&&We[1].type==="listItemPrefix"||ue===-1&&We[0]==="exit"&&(We[1].type==="listUnordered"||We[1].type==="listOrdered")){if(Lt){let Kt=ne;for(pt=void 0;Kt--;){const gt=I[Kt];if(gt[1].type==="lineEnding"||gt[1].type==="lineEndingBlank"){if(gt[0]==="exit")continue;pt&&(I[pt][1].type="lineEndingBlank",nt=!0),gt[1].type="lineEnding",pt=Kt}else if(!(gt[1].type==="linePrefix"||gt[1].type==="blockQuotePrefix"||gt[1].type==="blockQuotePrefixWhitespace"||gt[1].type==="blockQuoteMarker"||gt[1].type==="listItemIndent"))break}vn&&(!pt||vn<pt)&&(Lt._spread=!0),Lt.end=Object.assign({},pt?I[pt][1].start:We[1].end),I.splice(pt||ne,0,["exit",Lt,We[2]]),ne++,J++}if(We[1].type==="listItemPrefix"){const Kt={type:"listItem",_spread:!1,start:Object.assign({},We[1].start),end:void 0};Lt=Kt,I.splice(ne,0,["enter",Kt,We[2]]),ne++,J++,vn=void 0,Cn=!0}}}return I[O][1]._spread=nt,J}function s(I,O){return J;function J(ne){o.call(this,I(ne),ne),O&&O.call(this,ne)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(I,O,J){this.stack[this.stack.length-1].children.push(I),this.stack.push(I),this.tokenStack.push([O,J||void 0]),I.position={start:Pt(O.start),end:void 0}}function l(I){return O;function O(J){I&&I.call(this,J),c.call(this,J)}}function c(I,O){const J=this.stack.pop(),ne=this.tokenStack.pop();if(ne)ne[0].type!==I.type&&(O?O.call(this,I,ne[0]):(ne[1]||ic).call(this,I,ne[0]));else throw new Error("Cannot close `"+I.type+"` ("+cr({start:I.start,end:I.end})+"): itâ€™s not open");J.position.end=Pt(I.end)}function d(){return xo(this.stack.pop())}function u(){this.data.expectingFirstListItemValue=!0}function m(I){if(this.data.expectingFirstListItemValue){const O=this.stack[this.stack.length-2];O.start=Number.parseInt(this.sliceSerialize(I),10),this.data.expectingFirstListItemValue=void 0}}function f(){const I=this.resume(),O=this.stack[this.stack.length-1];O.lang=I}function p(){const I=this.resume(),O=this.stack[this.stack.length-1];O.meta=I}function y(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const I=this.resume(),O=this.stack[this.stack.length-1];O.value=I.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function x(){const I=this.resume(),O=this.stack[this.stack.length-1];O.value=I.replace(/(\r?\n|\r)$/g,"")}function S(I){const O=this.resume(),J=this.stack[this.stack.length-1];J.label=O,J.identifier=at(this.sliceSerialize(I)).toLowerCase()}function v(){const I=this.resume(),O=this.stack[this.stack.length-1];O.title=I}function E(){const I=this.resume(),O=this.stack[this.stack.length-1];O.url=I}function $(I){const O=this.stack[this.stack.length-1];if(!O.depth){const J=this.sliceSerialize(I).length;O.depth=J}}function _(){this.data.setextHeadingSlurpLineEnding=!0}function M(I){const O=this.stack[this.stack.length-1];O.depth=this.sliceSerialize(I).codePointAt(0)===61?1:2}function D(){this.data.setextHeadingSlurpLineEnding=void 0}function F(I){const J=this.stack[this.stack.length-1].children;let ne=J[J.length-1];(!ne||ne.type!=="text")&&(ne=vf(),ne.position={start:Pt(I.start),end:void 0},J.push(ne)),this.stack.push(ne)}function k(I){const O=this.stack.pop();O.value+=this.sliceSerialize(I),O.position.end=Pt(I.end)}function j(I){const O=this.stack[this.stack.length-1];if(this.data.atHardBreak){const J=O.children[O.children.length-1];J.position.end=Pt(I.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(O.type)&&(F.call(this,I),k.call(this,I))}function N(){this.data.atHardBreak=!0}function U(){const I=this.resume(),O=this.stack[this.stack.length-1];O.value=I}function L(){const I=this.resume(),O=this.stack[this.stack.length-1];O.value=I}function T(){const I=this.resume(),O=this.stack[this.stack.length-1];O.value=I}function X(){const I=this.stack[this.stack.length-1];if(this.data.inReference){const O=this.data.referenceType||"shortcut";I.type+="Reference",I.referenceType=O,delete I.url,delete I.title}else delete I.identifier,delete I.label;this.data.referenceType=void 0}function ce(){const I=this.stack[this.stack.length-1];if(this.data.inReference){const O=this.data.referenceType||"shortcut";I.type+="Reference",I.referenceType=O,delete I.url,delete I.title}else delete I.identifier,delete I.label;this.data.referenceType=void 0}function we(I){const O=this.sliceSerialize(I),J=this.stack[this.stack.length-2];J.label=Vb(O),J.identifier=at(O).toLowerCase()}function pe(){const I=this.stack[this.stack.length-1],O=this.resume(),J=this.stack[this.stack.length-1];if(this.data.inReference=!0,J.type==="link"){const ne=I.children;J.children=ne}else J.alt=O}function b(){const I=this.resume(),O=this.stack[this.stack.length-1];O.url=I}function K(){const I=this.resume(),O=this.stack[this.stack.length-1];O.title=I}function ae(){this.data.inReference=void 0}function g(){this.data.referenceType="collapsed"}function ge(I){const O=this.resume(),J=this.stack[this.stack.length-1];J.label=O,J.identifier=at(this.sliceSerialize(I)).toLowerCase(),this.data.referenceType="full"}function Le(I){this.data.characterReferenceType=I.type}function ke(I){const O=this.sliceSerialize(I),J=this.data.characterReferenceType;let ne;J?(ne=Eh(O,J==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ne=bo(O);const ue=this.stack[this.stack.length-1];ue.value+=ne}function Mt(I){const O=this.stack.pop();O.position.end=Pt(I.end)}function lt(I){k.call(this,I);const O=this.stack[this.stack.length-1];O.url=this.sliceSerialize(I)}function vt(I){k.call(this,I);const O=this.stack[this.stack.length-1];O.url="mailto:"+this.sliceSerialize(I)}function re(){return{type:"blockquote",children:[]}}function oe(){return{type:"code",lang:null,meta:null,value:""}}function $e(){return{type:"inlineCode",value:""}}function ve(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Er(){return{type:"emphasis",children:[]}}function Gt(){return{type:"heading",depth:0,children:[]}}function Ro(){return{type:"break"}}function Po(){return{type:"html",value:""}}function wf(){return{type:"image",title:null,url:"",alt:null}}function To(){return{type:"link",title:null,url:"",children:[]}}function Mo(I){return{type:"list",ordered:I.type==="listOrdered",start:null,spread:I._spread,children:[]}}function kf(I){return{type:"listItem",spread:I._spread,checked:null,children:[]}}function _f(){return{type:"paragraph",children:[]}}function Sf(){return{type:"strong",children:[]}}function vf(){return{type:"text",value:""}}function Cf(){return{type:"thematicBreak"}}}function Pt(e){return{line:e.line,column:e.column,offset:e.offset}}function Fh(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Fh(e,r):Xb(e,r)}}function Xb(e,t){let n;for(n in t)if(Oh.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function ic(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+cr({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+cr({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+cr({start:t.start,end:t.end})+") is still open")}function Qb(e){const t=this;t.parser=n;function n(r){return Kb(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function Yb(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function Zb(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function ew(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function tw(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function nw(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function rw(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Sn(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let a,o=e.footnoteCounts.get(r);o===void 0?(o=0,e.footnoteOrder.push(r),a=e.footnoteOrder.length):a=s+1,o+=1,e.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)}function iw(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function sw(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function Dh(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function aw(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Dh(e,t);const i={src:Sn(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function ow(e,t){const n={src:Sn(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function lw(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function cw(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Dh(e,t);const i={href:Sn(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function uw(e,t){const n={href:Sn(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function dw(e,t,n){const r=e.all(t),i=n?hw(n):Bh(t),s={},a=[];if(typeof t.checked=="boolean"){const d=r[0];let u;d&&d.type==="element"&&d.tagName==="p"?u=d:(u={type:"element",tagName:"p",properties:{},children:[]},r.unshift(u)),u.children.length>0&&u.children.unshift({type:"text",value:" "}),u.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const d=r[o];(i||o!==0||d.type!=="element"||d.tagName!=="p")&&a.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?a.push(...d.children):a.push(d)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&a.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:a};return e.patch(t,c),e.applyData(t,c)}function hw(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Bh(n[r])}return t}function Bh(e){const t=e.spread;return t??e.children.length>1}function fw(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function mw(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function pw(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function gw(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function yw(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=mo(t.children[1]),l=bh(t.children[t.children.length-1]);o&&l&&(a.position={start:o,end:l}),i.push(a)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function xw(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,o=a?a.length:t.children.length;let l=-1;const c=[];for(;++l<o;){const u=t.children[l],m={},f=a?a[l]:void 0;f&&(m.align=f);let p={type:"element",tagName:s,properties:m,children:[]};u&&(p.children=e.all(u),e.patch(u,p),p=e.applyData(u,p)),c.push(p)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,d),e.applyData(t,d)}function bw(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const sc=9,ac=32;function ww(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(oc(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(oc(t.slice(i),i>0,!1)),s.join("")}function oc(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===sc||s===ac;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===sc||s===ac;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function kw(e,t){const n={type:"text",value:ww(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function _w(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Sw={blockquote:Yb,break:Zb,code:ew,delete:tw,emphasis:nw,footnoteReference:rw,heading:iw,html:sw,imageReference:aw,image:ow,inlineCode:lw,linkReference:cw,link:uw,listItem:dw,list:fw,paragraph:mw,root:pw,strong:gw,table:yw,tableCell:bw,tableRow:xw,text:kw,thematicBreak:_w,toml:Zr,yaml:Zr,definition:Zr,footnoteDefinition:Zr};function Zr(){}const zh=-1,Xi=0,dr=1,Ri=2,ko=3,_o=4,So=5,vo=6,qh=7,Uh=8,lc=typeof self=="object"?self:globalThis,vw=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,a]=t[i];switch(s){case Xi:case zh:return n(a,i);case dr:{const o=n([],i);for(const l of a)o.push(r(l));return o}case Ri:{const o=n({},i);for(const[l,c]of a)o[r(l)]=r(c);return o}case ko:return n(new Date(a),i);case _o:{const{source:o,flags:l}=a;return n(new RegExp(o,l),i)}case So:{const o=n(new Map,i);for(const[l,c]of a)o.set(r(l),r(c));return o}case vo:{const o=n(new Set,i);for(const l of a)o.add(r(l));return o}case qh:{const{name:o,message:l}=a;return n(new lc[o](l),i)}case Uh:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:o}=new Uint8Array(a);return n(new DataView(o),a)}}return n(new lc[s](a),i)};return r},cc=e=>vw(new Map,e)(0),nn="",{toString:Cw}={},{keys:Aw}=Object,Vn=e=>{const t=typeof e;if(t!=="object"||!e)return[Xi,t];const n=Cw.call(e).slice(8,-1);switch(n){case"Array":return[dr,nn];case"Object":return[Ri,nn];case"Date":return[ko,nn];case"RegExp":return[_o,nn];case"Map":return[So,nn];case"Set":return[vo,nn];case"DataView":return[dr,n]}return n.includes("Array")?[dr,n]:n.includes("Error")?[qh,n]:[Ri,n]},ei=([e,t])=>e===Xi&&(t==="function"||t==="symbol"),Ew=(e,t,n,r)=>{const i=(a,o)=>{const l=r.push(a)-1;return n.set(o,l),l},s=a=>{if(n.has(a))return n.get(a);let[o,l]=Vn(a);switch(o){case Xi:{let d=a;switch(l){case"bigint":o=Uh,d=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return i([zh],a)}return i([o,d],a)}case dr:{if(l){let m=a;return l==="DataView"?m=new Uint8Array(a.buffer):l==="ArrayBuffer"&&(m=new Uint8Array(a)),i([l,[...m]],a)}const d=[],u=i([o,d],a);for(const m of a)d.push(s(m));return u}case Ri:{if(l)switch(l){case"BigInt":return i([l,a.toString()],a);case"Boolean":case"Number":case"String":return i([l,a.valueOf()],a)}if(t&&"toJSON"in a)return s(a.toJSON());const d=[],u=i([o,d],a);for(const m of Aw(a))(e||!ei(Vn(a[m])))&&d.push([s(m),s(a[m])]);return u}case ko:return i([o,a.toISOString()],a);case _o:{const{source:d,flags:u}=a;return i([o,{source:d,flags:u}],a)}case So:{const d=[],u=i([o,d],a);for(const[m,f]of a)(e||!(ei(Vn(m))||ei(Vn(f))))&&d.push([s(m),s(f)]);return u}case vo:{const d=[],u=i([o,d],a);for(const m of a)(e||!ei(Vn(m)))&&d.push(s(m));return u}}const{message:c}=a;return i([o,{name:l,message:c}],a)};return s},uc=(e,{json:t,lossy:n}={})=>{const r=[];return Ew(!(t||n),!!t,new Map,r)(e),r},Pi=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?cc(uc(e,t)):structuredClone(e):(e,t)=>cc(uc(e,t));function Iw(e,t){const n=[{type:"text",value:"â†©"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function jw(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Nw(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Iw,r=e.options.footnoteBackLabel||jw,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const d=e.all(c),u=String(c.identifier).toUpperCase(),m=Sn(u.toLowerCase());let f=0;const p=[],y=e.footnoteCounts.get(u);for(;y!==void 0&&++f<=y;){p.length>0&&p.push({type:"text",value:" "});let S=typeof n=="string"?n:n(l,f);typeof S=="string"&&(S={type:"text",value:S}),p.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+m+(f>1?"-"+f:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,f),className:["data-footnote-backref"]},children:Array.isArray(S)?S:[S]})}const w=d[d.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const S=w.children[w.children.length-1];S&&S.type==="text"?S.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(...p)}else d.push(...p);const x={type:"element",tagName:"li",properties:{id:t+"fn-"+m},children:e.wrap(d,!0)};e.patch(c,x),o.push(x)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Pi(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const Qi=function(e){if(e==null)return Mw;if(typeof e=="function")return Yi(e);if(typeof e=="object")return Array.isArray(e)?Rw(e):Pw(e);if(typeof e=="string")return Tw(e);throw new Error("Expected function, string, or object as test")};function Rw(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Qi(e[n]);return Yi(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function Pw(e){const t=e;return Yi(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function Tw(e){return Yi(t);function t(n){return n&&n.type===e}}function Yi(e){return t;function t(n,r,i){return!!(Lw(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Mw(){return!0}function Lw(e){return e!==null&&typeof e=="object"&&"type"in e}const Wh=[],$w=!0,ka=!1,Ow="skip";function Hh(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=Qi(i),a=r?-1:1;o(e,void 0,[])();function o(l,c,d){const u=l&&typeof l=="object"?l:{};if(typeof u.type=="string"){const f=typeof u.tagName=="string"?u.tagName:typeof u.name=="string"?u.name:void 0;Object.defineProperty(m,"name",{value:"node ("+(l.type+(f?"<"+f+">":""))+")"})}return m;function m(){let f=Wh,p,y,w;if((!t||s(l,c,d[d.length-1]||void 0))&&(f=Fw(n(l,d)),f[0]===ka))return f;if("children"in l&&l.children){const x=l;if(x.children&&f[0]!==Ow)for(y=(r?x.children.length:-1)+a,w=d.concat(x);y>-1&&y<x.children.length;){const S=x.children[y];if(p=o(S,y,w)(),p[0]===ka)return p;y=typeof p[1]=="number"?p[1]:y+a}}return f}}}function Fw(e){return Array.isArray(e)?e:typeof e=="number"?[$w,e]:e==null?Wh:[e]}function Co(e,t,n,r){let i,s,a;typeof t=="function"?(s=void 0,a=t,i=n):(s=t,a=n,i=r),Hh(e,s,o,i);function o(l,c){const d=c[c.length-1],u=d?d.children.indexOf(l):void 0;return a(l,u,d)}}const _a={}.hasOwnProperty,Dw={};function Bw(e,t){const n=t||Dw,r=new Map,i=new Map,s=new Map,a={...Sw,...n.handlers},o={all:c,applyData:qw,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:a,one:l,options:n,patch:zw,wrap:Ww};return Co(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const u=d.type==="definition"?r:i,m=String(d.identifier).toUpperCase();u.has(m)||u.set(m,d)}}),o;function l(d,u){const m=d.type,f=o.handlers[m];if(_a.call(o.handlers,m)&&f)return f(o,d,u);if(o.options.passThrough&&o.options.passThrough.includes(m)){if("children"in d){const{children:y,...w}=d,x=Pi(w);return x.children=o.all(d),x}return Pi(d)}return(o.options.unknownHandler||Uw)(o,d,u)}function c(d){const u=[];if("children"in d){const m=d.children;let f=-1;for(;++f<m.length;){const p=o.one(m[f],d);if(p){if(f&&m[f-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=dc(p.value)),!Array.isArray(p)&&p.type==="element")){const y=p.children[0];y&&y.type==="text"&&(y.value=dc(y.value))}Array.isArray(p)?u.push(...p):u.push(p)}}}return u}}function zw(e,t){e.position&&(t.position=jy(e))}function qw(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&s&&Object.assign(n.properties,Pi(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Uw(e,t){const n=t.data||{},r="value"in t&&!(_a.call(n,"hProperties")||_a.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Ww(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function dc(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function hc(e,t){const n=Bw(e,t),r=n.one(e,void 0),i=Nw(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function Hw(e,t){return e&&"run"in e?async function(n,r){const i=hc(n,{file:r,...t});await e.run(i,r)}:function(n,r){return hc(n,{file:r,...e||t})}}function fc(e){if(e)throw e}var js,mc;function Vw(){if(mc)return js;mc=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(c){return typeof Array.isArray=="function"?Array.isArray(c):t.call(c)==="[object Array]"},s=function(c){if(!c||t.call(c)!=="[object Object]")return!1;var d=e.call(c,"constructor"),u=c.constructor&&c.constructor.prototype&&e.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!d&&!u)return!1;var m;for(m in c);return typeof m>"u"||e.call(c,m)},a=function(c,d){n&&d.name==="__proto__"?n(c,d.name,{enumerable:!0,configurable:!0,value:d.newValue,writable:!0}):c[d.name]=d.newValue},o=function(c,d){if(d==="__proto__")if(e.call(c,d)){if(r)return r(c,d).value}else return;return c[d]};return js=function l(){var c,d,u,m,f,p,y=arguments[0],w=1,x=arguments.length,S=!1;for(typeof y=="boolean"&&(S=y,y=arguments[1]||{},w=2),(y==null||typeof y!="object"&&typeof y!="function")&&(y={});w<x;++w)if(c=arguments[w],c!=null)for(d in c)u=o(y,d),m=o(c,d),y!==m&&(S&&m&&(s(m)||(f=i(m)))?(f?(f=!1,p=u&&i(u)?u:[]):p=u&&s(u)?u:{},a(y,{name:d,newValue:l(S,p,m)})):typeof m<"u"&&a(y,{name:d,newValue:m}));return y},js}var Gw=Vw();const Ns=Ra(Gw);function Sa(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Kw(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);o(null,...i);function o(l,...c){const d=e[++s];let u=-1;if(l){a(l);return}for(;++u<i.length;)(c[u]===null||c[u]===void 0)&&(c[u]=i[u]);i=c,d?Jw(d,o)(...c):a(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function Jw(e,t){let n;return r;function r(...a){const o=e.length>a.length;let l;o&&a.push(i);try{l=e.apply(this,a)}catch(c){const d=c;if(o&&n)throw d;return i(d)}o||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(a,...o){n||(n=!0,t(a,...o))}function s(a){i(null,a)}}const ut={basename:Xw,dirname:Qw,extname:Yw,join:Zw,sep:"/"};function Xw(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Ar(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let a=-1,o=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else a<0&&(s=!0,a=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(r=i):(o=-1,r=a));return n===r?r=a:r<0&&(r=e.length),e.slice(n,r)}function Qw(e){if(Ar(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function Yw(e){Ar(e);let t=e.length,n=-1,r=0,i=-1,s=0,a;for(;t--;){const o=e.codePointAt(t);if(o===47){if(a){r=t+1;break}continue}n<0&&(a=!0,n=t+1),o===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function Zw(...e){let t=-1,n;for(;++t<e.length;)Ar(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":e0(n)}function e0(e){Ar(e);const t=e.codePointAt(0)===47;let n=t0(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function t0(e,t){let n="",r=0,i=-1,s=0,a=-1,o,l;for(;++a<=e.length;){if(a<e.length)o=e.codePointAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=a,s=0;continue}}else if(n.length>0){n="",r=0,i=a,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,a):n=e.slice(i+1,a),r=a-i-1;i=a,s=0}else o===46&&s>-1?s++:s=-1}return n}function Ar(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const n0={cwd:r0};function r0(){return"/"}function va(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function i0(e){if(typeof e=="string")e=new URL(e);else if(!va(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return s0(e)}function s0(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Rs=["history","path","basename","stem","extname","dirname"];class Vh{constructor(t){let n;t?va(t)?n={path:t}:typeof t=="string"||a0(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":n0.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Rs.length;){const s=Rs[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)Rs.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?ut.basename(this.path):void 0}set basename(t){Ts(t,"basename"),Ps(t,"basename"),this.path=ut.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?ut.dirname(this.path):void 0}set dirname(t){pc(this.basename,"dirname"),this.path=ut.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?ut.extname(this.path):void 0}set extname(t){if(Ps(t,"extname"),pc(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ut.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){va(t)&&(t=i0(t)),Ts(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?ut.basename(this.path,this.extname):void 0}set stem(t){Ts(t,"stem"),Ps(t,"stem"),this.path=ut.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Re(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Ps(e,t){if(e&&e.includes(ut.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+ut.sep+"`")}function Ts(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function pc(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function a0(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const o0=function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},l0={}.hasOwnProperty;class Ao extends o0{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Kw()}copy(){const t=new Ao;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Ns(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?($s("data",this.frozen),this.namespace[t]=n,this):l0.call(this.namespace,t)&&this.namespace[t]||void 0:t?($s("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=ti(t),r=this.parser||this.Parser;return Ms("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Ms("process",this.parser||this.Parser),Ls("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,a){const o=ti(t),l=r.parse(o);r.run(l,o,function(d,u,m){if(d||!u||!m)return c(d);const f=u,p=r.stringify(f,m);d0(p)?m.value=p:m.result=p,c(d,m)});function c(d,u){d||!u?a(d):s?s(u):n(void 0,u)}}}processSync(t){let n=!1,r;return this.freeze(),Ms("processSync",this.parser||this.Parser),Ls("processSync",this.compiler||this.Compiler),this.process(t,i),yc("processSync","process",n),r;function i(s,a){n=!0,fc(s),r=a}}run(t,n,r){gc(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(a,o){const l=ti(n);i.run(t,l,c);function c(d,u,m){const f=u||t;d?o(d):a?a(f):r(void 0,f,m)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),yc("runSync","run",r),i;function s(a,o){fc(a),i=o,r=!0}}stringify(t,n){this.freeze();const r=ti(n),i=this.compiler||this.Compiler;return Ls("stringify",i),gc(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if($s("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?o(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...u]=c;l(d,u)}else a(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function a(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(c.plugins),c.settings&&(i.settings=Ns(!0,i.settings,c.settings))}function o(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const u=c[d];s(u)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,d){let u=-1,m=-1;for(;++u<r.length;)if(r[u][0]===c){m=u;break}if(m===-1)r.push([c,...d]);else if(d.length>0){let[f,...p]=d;const y=r[m][1];Sa(y)&&Sa(f)&&(f=Ns(!0,y,f)),r[m]=[c,f,...p]}}}}const c0=new Ao().freeze();function Ms(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Ls(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function $s(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function gc(e){if(!Sa(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function yc(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function ti(e){return u0(e)?e:new Vh(e)}function u0(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function d0(e){return typeof e=="string"||h0(e)}function h0(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const f0="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",xc=[],bc={allowDangerousHtml:!0},m0=/^(https?|ircs?|mailto|xmpp)$/i,p0=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function g0(e){const t=y0(e),n=x0(e);return b0(t.runSync(t.parse(n),n),e)}function y0(e){const t=e.rehypePlugins||xc,n=e.remarkPlugins||xc,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...bc}:bc;return c0().use(Qb).use(n).use(Hw,r).use(t)}function x0(e){const t=e.children||"",n=new Vh;return typeof t=="string"&&(n.value=t),n}function b0(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,s=t.disallowedElements,a=t.skipHtml,o=t.unwrapDisallowed,l=t.urlTransform||w0;for(const d of p0)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+f0+d.id,void 0);return Co(e,c),My(e,{Fragment:h.Fragment,components:i,ignoreInvalidStyle:!0,jsx:h.jsx,jsxs:h.jsxs,passKeys:!0,passNode:!0});function c(d,u,m){if(d.type==="raw"&&m&&typeof u=="number")return a?m.children.splice(u,1):m.children[u]={type:"text",value:d.value},u;if(d.type==="element"){let f;for(f in As)if(Object.hasOwn(As,f)&&Object.hasOwn(d.properties,f)){const p=d.properties[f],y=As[f];(y===null||y.includes(d.tagName))&&(d.properties[f]=l(String(p||""),f,d))}}if(d.type==="element"){let f=n?!n.includes(d.tagName):s?s.includes(d.tagName):!1;if(!f&&r&&typeof u=="number"&&(f=!r(d,u,m)),f&&m&&typeof u=="number")return o&&d.children?m.children.splice(u,1,...d.children):m.children.splice(u,1),u}}}function w0(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||m0.test(e.slice(0,t))?e:""}function wc(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function k0(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function _0(e,t,n){const i=Qi((n||{}).ignore||[]),s=S0(t);let a=-1;for(;++a<s.length;)Hh(e,"text",o);function o(c,d){let u=-1,m;for(;++u<d.length;){const f=d[u],p=m?m.children:void 0;if(i(f,p?p.indexOf(f):void 0,m))return;m=f}if(m)return l(c,d)}function l(c,d){const u=d[d.length-1],m=s[a][0],f=s[a][1];let p=0;const w=u.children.indexOf(c);let x=!1,S=[];m.lastIndex=0;let v=m.exec(c.value);for(;v;){const E=v.index,$={index:v.index,input:v.input,stack:[...d,c]};let _=f(...v,$);if(typeof _=="string"&&(_=_.length>0?{type:"text",value:_}:void 0),_===!1?m.lastIndex=E+1:(p!==E&&S.push({type:"text",value:c.value.slice(p,E)}),Array.isArray(_)?S.push(..._):_&&S.push(_),p=E+v[0].length,x=!0),!m.global)break;v=m.exec(c.value)}return x?(p<c.value.length&&S.push({type:"text",value:c.value.slice(p)}),u.children.splice(w,1,...S)):S=[c],w+S.length}}function S0(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([v0(i[0]),C0(i[1])])}return t}function v0(e){return typeof e=="string"?new RegExp(k0(e),"g"):e}function C0(e){return typeof e=="function"?e:function(){return e}}const Os="phrasing",Fs=["autolink","link","image","label"];function A0(){return{transforms:[T0],enter:{literalAutolink:I0,literalAutolinkEmail:Ds,literalAutolinkHttp:Ds,literalAutolinkWww:Ds},exit:{literalAutolink:P0,literalAutolinkEmail:R0,literalAutolinkHttp:j0,literalAutolinkWww:N0}}}function E0(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Os,notInConstruct:Fs},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Os,notInConstruct:Fs},{character:":",before:"[ps]",after:"\\/",inConstruct:Os,notInConstruct:Fs}]}}function I0(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Ds(e){this.config.enter.autolinkProtocol.call(this,e)}function j0(e){this.config.exit.autolinkProtocol.call(this,e)}function N0(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function R0(e){this.config.exit.autolinkEmail.call(this,e)}function P0(e){this.exit(e)}function T0(e){_0(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,M0],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),L0]],{ignore:["link","linkReference"]})}function M0(e,t,n,r,i){let s="";if(!Gh(i)||(/^w/i.test(t)&&(n=t+n,t="",s="http://"),!$0(n)))return!1;const a=O0(n+r);if(!a[0])return!1;const o={type:"link",title:null,url:s+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[o,{type:"text",value:a[1]}]:o}function L0(e,t,n,r){return!Gh(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function $0(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function O0(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=wc(e,"(");let s=wc(e,")");for(;r!==-1&&i>s;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[e,n]}function Gh(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Ht(n)||Ki(n))&&(!t||n!==47)}Kh.peek=V0;function F0(){this.buffer()}function D0(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function B0(){this.buffer()}function z0(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function q0(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=at(this.sliceSerialize(e)).toLowerCase(),n.label=t}function U0(e){this.exit(e)}function W0(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=at(this.sliceSerialize(e)).toLowerCase(),n.label=t}function H0(e){this.exit(e)}function V0(){return"["}function Kh(e,t,n,r){const i=n.createTracker(r);let s=i.move("[^");const a=n.enter("footnoteReference"),o=n.enter("reference");return s+=i.move(n.safe(n.associationId(e),{after:"]",before:s})),o(),a(),s+=i.move("]"),s}function G0(){return{enter:{gfmFootnoteCallString:F0,gfmFootnoteCall:D0,gfmFootnoteDefinitionLabelString:B0,gfmFootnoteDefinition:z0},exit:{gfmFootnoteCallString:q0,gfmFootnoteCall:U0,gfmFootnoteDefinitionLabelString:W0,gfmFootnoteDefinition:H0}}}function K0(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:Kh},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,a){const o=s.createTracker(a);let l=o.move("[^");const c=s.enter("footnoteDefinition"),d=s.enter("label");return l+=o.move(s.safe(s.associationId(r),{before:l,after:"]"})),d(),l+=o.move("]:"),r.children&&r.children.length>0&&(o.shift(4),l+=o.move((t?`
`:" ")+s.indentLines(s.containerFlow(r,o.current()),t?Jh:J0))),c(),l}}function J0(e,t,n){return t===0?e:Jh(e,t,n)}function Jh(e,t,n){return(n?"":"    ")+e}const X0=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Xh.peek=tk;function Q0(){return{canContainEols:["delete"],enter:{strikethrough:Z0},exit:{strikethrough:ek}}}function Y0(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:X0}],handlers:{delete:Xh}}}function Z0(e){this.enter({type:"delete",children:[]},e)}function ek(e){this.exit(e)}function Xh(e,t,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let a=i.move("~~");return a+=n.containerPhrasing(e,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),s(),a}function tk(){return"~"}function nk(e){return e.length}function rk(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||nk,s=[],a=[],o=[],l=[];let c=0,d=-1;for(;++d<e.length;){const y=[],w=[];let x=-1;for(e[d].length>c&&(c=e[d].length);++x<e[d].length;){const S=ik(e[d][x]);if(n.alignDelimiters!==!1){const v=i(S);w[x]=v,(l[x]===void 0||v>l[x])&&(l[x]=v)}y.push(S)}a[d]=y,o[d]=w}let u=-1;if(typeof r=="object"&&"length"in r)for(;++u<c;)s[u]=kc(r[u]);else{const y=kc(r);for(;++u<c;)s[u]=y}u=-1;const m=[],f=[];for(;++u<c;){const y=s[u];let w="",x="";y===99?(w=":",x=":"):y===108?w=":":y===114&&(x=":");let S=n.alignDelimiters===!1?1:Math.max(1,l[u]-w.length-x.length);const v=w+"-".repeat(S)+x;n.alignDelimiters!==!1&&(S=w.length+S+x.length,S>l[u]&&(l[u]=S),f[u]=S),m[u]=v}a.splice(1,0,m),o.splice(1,0,f),d=-1;const p=[];for(;++d<a.length;){const y=a[d],w=o[d];u=-1;const x=[];for(;++u<c;){const S=y[u]||"";let v="",E="";if(n.alignDelimiters!==!1){const $=l[u]-(w[u]||0),_=s[u];_===114?v=" ".repeat($):_===99?$%2?(v=" ".repeat($/2+.5),E=" ".repeat($/2-.5)):(v=" ".repeat($/2),E=v):E=" ".repeat($)}n.delimiterStart!==!1&&!u&&x.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&S==="")&&(n.delimiterStart!==!1||u)&&x.push(" "),n.alignDelimiters!==!1&&x.push(v),x.push(S),n.alignDelimiters!==!1&&x.push(E),n.padding!==!1&&x.push(" "),(n.delimiterEnd!==!1||u!==c-1)&&x.push("|")}p.push(n.delimiterEnd===!1?x.join("").replace(/ +$/,""):x.join(""))}return p.join(`
`)}function ik(e){return e==null?"":String(e)}function kc(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function sk(e,t,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const a=n.indentLines(n.containerFlow(e,s.current()),ak);return i(),a}function ak(e,t,n){return">"+(n?"":" ")+e}function ok(e,t){return _c(e,t.inConstruct,!0)&&!_c(e,t.notInConstruct,!1)}function _c(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function Sc(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&ok(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function lk(e,t){const n=String(e);let r=n.indexOf(t),i=r,s=0,a=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>a&&(a=s):s=1,i=r+t.length,r=n.indexOf(t,i);return a}function ck(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function uk(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function dk(e,t,n,r){const i=uk(n),s=e.value||"",a=i==="`"?"GraveAccent":"Tilde";if(ck(e,n)){const u=n.enter("codeIndented"),m=n.indentLines(s,hk);return u(),m}const o=n.createTracker(r),l=i.repeat(Math.max(lk(s,i)+1,3)),c=n.enter("codeFenced");let d=o.move(l);if(e.lang){const u=n.enter(`codeFencedLang${a}`);d+=o.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...o.current()})),u()}if(e.lang&&e.meta){const u=n.enter(`codeFencedMeta${a}`);d+=o.move(" "),d+=o.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...o.current()})),u()}return d+=o.move(`
`),s&&(d+=o.move(s+`
`)),d+=o.move(l),c(),d}function hk(e,t,n){return(n?"":"    ")+e}function Eo(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function fk(e,t,n,r){const i=Eo(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("definition");let o=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(e),{before:c,after:"]",...l.current()})),c+=l.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(o=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":`
`,...l.current()}))),o(),e.title&&(o=n.enter(`title${s}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),o()),a(),c}function mk(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function yr(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Ti(e,t,n){const r=gn(e),i=gn(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Qh.peek=pk;function Qh(e,t,n,r){const i=mk(n),s=n.enter("emphasis"),a=n.createTracker(r),o=a.move(i);let l=a.move(n.containerPhrasing(e,{after:i,before:o,...a.current()}));const c=l.charCodeAt(0),d=Ti(r.before.charCodeAt(r.before.length-1),c,i);d.inside&&(l=yr(c)+l.slice(1));const u=l.charCodeAt(l.length-1),m=Ti(r.after.charCodeAt(0),u,i);m.inside&&(l=l.slice(0,-1)+yr(u));const f=a.move(i);return s(),n.attentionEncodeSurroundingInfo={after:m.outside,before:d.outside},o+l+f}function pk(e,t,n){return n.options.emphasis||"*"}function gk(e,t){let n=!1;return Co(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,ka}),!!((!e.depth||e.depth<3)&&xo(e)&&(t.options.setext||n))}function yk(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),s=n.createTracker(r);if(gk(e,n)){const d=n.enter("headingSetext"),u=n.enter("phrasing"),m=n.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return u(),d(),m+`
`+(i===1?"=":"-").repeat(m.length-(Math.max(m.lastIndexOf("\r"),m.lastIndexOf(`
`))+1))}const a="#".repeat(i),o=n.enter("headingAtx"),l=n.enter("phrasing");s.move(a+" ");let c=n.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(c)&&(c=yr(c.charCodeAt(0))+c.slice(1)),c=c?a+" "+c:a,n.options.closeAtx&&(c+=" "+a),l(),o(),c}Yh.peek=xk;function Yh(e){return e.value||""}function xk(){return"<"}Zh.peek=bk;function Zh(e,t,n,r){const i=Eo(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("image");let o=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(e.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(o=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),o(),e.title&&(o=n.enter(`title${s}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),o()),c+=l.move(")"),a(),c}function bk(){return"!"}ef.peek=wk;function ef(e,t,n,r){const i=e.referenceType,s=n.enter("imageReference");let a=n.enter("label");const o=n.createTracker(r);let l=o.move("![");const c=n.safe(e.alt,{before:l,after:"]",...o.current()});l+=o.move(c+"]["),a();const d=n.stack;n.stack=[],a=n.enter("reference");const u=n.safe(n.associationId(e),{before:l,after:"]",...o.current()});return a(),n.stack=d,s(),i==="full"||!c||c!==u?l+=o.move(u+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function wk(){return"!"}tf.peek=kk;function tf(e,t,n){let r=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const a=n.unsafe[s],o=n.compilePattern(a);let l;if(a.atBreak)for(;l=o.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return i+r+i}function kk(){return"`"}function nf(e,t){const n=xo(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}rf.peek=_k;function rf(e,t,n,r){const i=Eo(n),s=i==='"'?"Quote":"Apostrophe",a=n.createTracker(r);let o,l;if(nf(e,n)){const d=n.stack;n.stack=[],o=n.enter("autolink");let u=a.move("<");return u+=a.move(n.containerPhrasing(e,{before:u,after:">",...a.current()})),u+=a.move(">"),o(),n.stack=d,u}o=n.enter("link"),l=n.enter("label");let c=a.move("[");return c+=a.move(n.containerPhrasing(e,{before:c,after:"](",...a.current()})),c+=a.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),c+=a.move("<"),c+=a.move(n.safe(e.url,{before:c,after:">",...a.current()})),c+=a.move(">")):(l=n.enter("destinationRaw"),c+=a.move(n.safe(e.url,{before:c,after:e.title?" ":")",...a.current()}))),l(),e.title&&(l=n.enter(`title${s}`),c+=a.move(" "+i),c+=a.move(n.safe(e.title,{before:c,after:i,...a.current()})),c+=a.move(i),l()),c+=a.move(")"),o(),c}function _k(e,t,n){return nf(e,n)?"<":"["}sf.peek=Sk;function sf(e,t,n,r){const i=e.referenceType,s=n.enter("linkReference");let a=n.enter("label");const o=n.createTracker(r);let l=o.move("[");const c=n.containerPhrasing(e,{before:l,after:"]",...o.current()});l+=o.move(c+"]["),a();const d=n.stack;n.stack=[],a=n.enter("reference");const u=n.safe(n.associationId(e),{before:l,after:"]",...o.current()});return a(),n.stack=d,s(),i==="full"||!c||c!==u?l+=o.move(u+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function Sk(){return"["}function Io(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function vk(e){const t=Io(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Ck(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function af(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function Ak(e,t,n,r){const i=n.enter("list"),s=n.bulletCurrent;let a=e.ordered?Ck(n):Io(n);const o=e.ordered?a==="."?")":".":vk(n);let l=t&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),af(n)===a&&d){let u=-1;for(;++u<e.children.length;){const m=e.children[u];if(m&&m.type==="listItem"&&m.children&&m.children[0]&&m.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(a=o),n.bulletCurrent=a;const c=n.containerFlow(e,r);return n.bulletLastUsed=a,n.bulletCurrent=s,i(),c}function Ek(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function Ik(e,t,n,r){const i=Ek(n);let s=n.bulletCurrent||Io(n);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let a=s.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(a=Math.ceil(a/4)*4);const o=n.createTracker(r);o.move(s+" ".repeat(a-s.length)),o.shift(a);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,o.current()),d);return l(),c;function d(u,m,f){return m?(f?"":" ".repeat(a))+u:(f?s:s+" ".repeat(a-s.length))+u}}function jk(e,t,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),a=n.containerPhrasing(e,r);return s(),i(),a}const Nk=Qi(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Rk(e,t,n,r){return(e.children.some(function(a){return Nk(a)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function Pk(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}of.peek=Tk;function of(e,t,n,r){const i=Pk(n),s=n.enter("strong"),a=n.createTracker(r),o=a.move(i+i);let l=a.move(n.containerPhrasing(e,{after:i,before:o,...a.current()}));const c=l.charCodeAt(0),d=Ti(r.before.charCodeAt(r.before.length-1),c,i);d.inside&&(l=yr(c)+l.slice(1));const u=l.charCodeAt(l.length-1),m=Ti(r.after.charCodeAt(0),u,i);m.inside&&(l=l.slice(0,-1)+yr(u));const f=a.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:m.outside,before:d.outside},o+l+f}function Tk(e,t,n){return n.options.strong||"*"}function Mk(e,t,n,r){return n.safe(e.value,r)}function Lk(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function $k(e,t,n){const r=(af(n)+(n.options.ruleSpaces?" ":"")).repeat(Lk(n));return n.options.ruleSpaces?r.slice(0,-1):r}const lf={blockquote:sk,break:Sc,code:dk,definition:fk,emphasis:Qh,hardBreak:Sc,heading:yk,html:Yh,image:Zh,imageReference:ef,inlineCode:tf,link:rf,linkReference:sf,list:Ak,listItem:Ik,paragraph:jk,root:Rk,strong:of,text:Mk,thematicBreak:$k};function Ok(){return{enter:{table:Fk,tableData:vc,tableHeader:vc,tableRow:Bk},exit:{codeText:zk,table:Dk,tableData:Bs,tableHeader:Bs,tableRow:Bs}}}function Fk(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function Dk(e){this.exit(e),this.data.inTable=void 0}function Bk(e){this.enter({type:"tableRow",children:[]},e)}function Bs(e){this.exit(e)}function vc(e){this.enter({type:"tableCell",children:[]},e)}function zk(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,qk));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function qk(e,t){return t==="|"?t:e}function Uk(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:m,table:a,tableCell:l,tableRow:o}};function a(f,p,y,w){return c(d(f,y,w),f.align)}function o(f,p,y,w){const x=u(f,y,w),S=c([x]);return S.slice(0,S.indexOf(`
`))}function l(f,p,y,w){const x=y.enter("tableCell"),S=y.enter("phrasing"),v=y.containerPhrasing(f,{...w,before:s,after:s});return S(),x(),v}function c(f,p){return rk(f,{align:p,alignDelimiters:r,padding:n,stringLength:i})}function d(f,p,y){const w=f.children;let x=-1;const S=[],v=p.enter("table");for(;++x<w.length;)S[x]=u(w[x],p,y);return v(),S}function u(f,p,y){const w=f.children;let x=-1;const S=[],v=p.enter("tableRow");for(;++x<w.length;)S[x]=l(w[x],f,p,y);return v(),S}function m(f,p,y){let w=lf.inlineCode(f,p,y);return y.stack.includes("tableCell")&&(w=w.replace(/\|/g,"\\$&")),w}}function Wk(){return{exit:{taskListCheckValueChecked:Cc,taskListCheckValueUnchecked:Cc,paragraph:Vk}}}function Hk(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Gk}}}function Cc(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function Vk(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let s=-1,a;for(;++s<i.length;){const o=i[s];if(o.type==="paragraph"){a=o;break}}a===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function Gk(e,t,n,r){const i=e.children[0],s=typeof e.checked=="boolean"&&i&&i.type==="paragraph",a="["+(e.checked?"x":" ")+"] ",o=n.createTracker(r);s&&o.move(a);let l=lf.listItem(e,t,n,{...r,...o.current()});return s&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(d){return d+a}}function Kk(){return[A0(),G0(),Q0(),Ok(),Wk()]}function Jk(e){return{extensions:[E0(),K0(e),Y0(),Uk(e),Hk()]}}const Xk={tokenize:n1,partial:!0},cf={tokenize:r1,partial:!0},uf={tokenize:i1,partial:!0},df={tokenize:s1,partial:!0},Qk={tokenize:a1,partial:!0},hf={name:"wwwAutolink",tokenize:e1,previous:mf},ff={name:"protocolAutolink",tokenize:t1,previous:pf},St={name:"emailAutolink",tokenize:Zk,previous:gf},mt={};function Yk(){return{text:mt}}let Ot=48;for(;Ot<123;)mt[Ot]=St,Ot++,Ot===58?Ot=65:Ot===91&&(Ot=97);mt[43]=St;mt[45]=St;mt[46]=St;mt[95]=St;mt[72]=[St,ff];mt[104]=[St,ff];mt[87]=[St,hf];mt[119]=[St,hf];function Zk(e,t,n){const r=this;let i,s;return a;function a(u){return!Ca(u)||!gf.call(r,r.previous)||jo(r.events)?n(u):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(u))}function o(u){return Ca(u)?(e.consume(u),o):u===64?(e.consume(u),l):n(u)}function l(u){return u===46?e.check(Qk,d,c)(u):u===45||u===95||je(u)?(s=!0,e.consume(u),l):d(u)}function c(u){return e.consume(u),i=!0,l}function d(u){return s&&i&&Me(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(u)):n(u)}}function e1(e,t,n){const r=this;return i;function i(a){return a!==87&&a!==119||!mf.call(r,r.previous)||jo(r.events)?n(a):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(Xk,e.attempt(cf,e.attempt(uf,s),n),n)(a))}function s(a){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(a)}}function t1(e,t,n){const r=this;let i="",s=!1;return a;function a(u){return(u===72||u===104)&&pf.call(r,r.previous)&&!jo(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(u),e.consume(u),o):n(u)}function o(u){if(Me(u)&&i.length<5)return i+=String.fromCodePoint(u),e.consume(u),o;if(u===58){const m=i.toLowerCase();if(m==="http"||m==="https")return e.consume(u),l}return n(u)}function l(u){return u===47?(e.consume(u),s?c:(s=!0,l)):n(u)}function c(u){return u===null||Ni(u)||de(u)||Ht(u)||Ki(u)?n(u):e.attempt(cf,e.attempt(uf,d),n)(u)}function d(u){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(u)}}function n1(e,t,n){let r=0;return i;function i(a){return(a===87||a===119)&&r<3?(r++,e.consume(a),i):a===46&&r===3?(e.consume(a),s):n(a)}function s(a){return a===null?n(a):t(a)}}function r1(e,t,n){let r,i,s;return a;function a(c){return c===46||c===95?e.check(df,l,o)(c):c===null||de(c)||Ht(c)||c!==45&&Ki(c)?l(c):(s=!0,e.consume(c),a)}function o(c){return c===95?r=!0:(i=r,r=void 0),e.consume(c),a}function l(c){return i||r||!s?n(c):t(c)}}function i1(e,t){let n=0,r=0;return i;function i(a){return a===40?(n++,e.consume(a),i):a===41&&r<n?s(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?e.check(df,t,s)(a):a===null||de(a)||Ht(a)?t(a):(e.consume(a),i)}function s(a){return a===41&&r++,e.consume(a),i}}function s1(e,t,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),r):o===38?(e.consume(o),s):o===93?(e.consume(o),i):o===60||o===null||de(o)||Ht(o)?t(o):n(o)}function i(o){return o===null||o===40||o===91||de(o)||Ht(o)?t(o):r(o)}function s(o){return Me(o)?a(o):n(o)}function a(o){return o===59?(e.consume(o),r):Me(o)?(e.consume(o),a):n(o)}}function a1(e,t,n){return r;function r(s){return e.consume(s),i}function i(s){return je(s)?n(s):t(s)}}function mf(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||de(e)}function pf(e){return!Me(e)}function gf(e){return!(e===47||Ca(e))}function Ca(e){return e===43||e===45||e===46||e===95||je(e)}function jo(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const o1={tokenize:p1,partial:!0};function l1(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:h1,continuation:{tokenize:f1},exit:m1}},text:{91:{name:"gfmFootnoteCall",tokenize:d1},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:c1,resolveTo:u1}}}}function c1(e,t,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){a=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return o;function o(l){if(!a||!a._balanced)return n(l);const c=at(r.sliceSerialize({start:a.end,end:r.now()}));return c.codePointAt(0)!==94||!s.includes(c.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function u1(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},o=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",s,t],["enter",a,t],["exit",a,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...o),e}function d1(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,a;return o;function o(u){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(u),e.exit("gfmFootnoteCallLabelMarker"),l}function l(u){return u!==94?n(u):(e.enter("gfmFootnoteCallMarker"),e.consume(u),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(u){if(s>999||u===93&&!a||u===null||u===91||de(u))return n(u);if(u===93){e.exit("chunkString");const m=e.exit("gfmFootnoteCallString");return i.includes(at(r.sliceSerialize(m)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(u),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(u)}return de(u)||(a=!0),s++,e.consume(u),u===92?d:c}function d(u){return u===91||u===92||u===93?(e.consume(u),s++,c):c(u)}}function h1(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,a=0,o;return l;function l(p){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(p){return p===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(p)}function d(p){if(a>999||p===93&&!o||p===null||p===91||de(p))return n(p);if(p===93){e.exit("chunkString");const y=e.exit("gfmFootnoteDefinitionLabelString");return s=at(r.sliceSerialize(y)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),m}return de(p)||(o=!0),a++,e.consume(p),p===92?u:d}function u(p){return p===91||p===92||p===93?(e.consume(p),a++,d):d(p)}function m(p){return p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),i.includes(s)||i.push(s),ie(e,f,"gfmFootnoteDefinitionWhitespace")):n(p)}function f(p){return t(p)}}function f1(e,t,n){return e.check(Cr,t,e.attempt(o1,t,n))}function m1(e){e.exit("gfmFootnoteDefinition")}function p1(e,t,n){const r=this;return ie(e,i,"gfmFootnoteDefinitionIndent",5);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?t(s):n(s)}}function g1(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(a,o){let l=-1;for(;++l<a.length;)if(a[l][0]==="enter"&&a[l][1].type==="strikethroughSequenceTemporary"&&a[l][1]._close){let c=l;for(;c--;)if(a[c][0]==="exit"&&a[c][1].type==="strikethroughSequenceTemporary"&&a[c][1]._open&&a[l][1].end.offset-a[l][1].start.offset===a[c][1].end.offset-a[c][1].start.offset){a[l][1].type="strikethroughSequence",a[c][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},a[c][1].start),end:Object.assign({},a[l][1].end)},u={type:"strikethroughText",start:Object.assign({},a[c][1].end),end:Object.assign({},a[l][1].start)},m=[["enter",d,o],["enter",a[c][1],o],["exit",a[c][1],o],["enter",u,o]],f=o.parser.constructs.insideSpan.null;f&&Qe(m,m.length,0,Ji(f,a.slice(c+1,l),o)),Qe(m,m.length,0,[["exit",u,o],["enter",a[l][1],o],["exit",a[l][1],o],["exit",d,o]]),Qe(a,c-1,l-c+3,m),l=c+m.length-2;break}}for(l=-1;++l<a.length;)a[l][1].type==="strikethroughSequenceTemporary"&&(a[l][1].type="data");return a}function s(a,o,l){const c=this.previous,d=this.events;let u=0;return m;function m(p){return c===126&&d[d.length-1][1].type!=="characterEscape"?l(p):(a.enter("strikethroughSequenceTemporary"),f(p))}function f(p){const y=gn(c);if(p===126)return u>1?l(p):(a.consume(p),u++,f);if(u<2&&!n)return l(p);const w=a.exit("strikethroughSequenceTemporary"),x=gn(p);return w._open=!x||x===2&&!!y,w._close=!y||y===2&&!!x,o(p)}}}class y1{constructor(){this.map=[]}add(t,n,r){x1(this,t,n,r)}consume(t){if(this.map.sort(function(s,a){return s[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const s of i)t.push(s);i=r.pop()}this.map.length=0}}function x1(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function b1(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function w1(){return{flow:{null:{name:"table",tokenize:k1,resolveAll:_1}}}}function k1(e,t,n){const r=this;let i=0,s=0,a;return o;function o(k){let j=r.events.length-1;for(;j>-1;){const L=r.events[j][1].type;if(L==="lineEnding"||L==="linePrefix")j--;else break}const N=j>-1?r.events[j][1].type:null,U=N==="tableHead"||N==="tableRow"?_:l;return U===_&&r.parser.lazy[r.now().line]?n(k):U(k)}function l(k){return e.enter("tableHead"),e.enter("tableRow"),c(k)}function c(k){return k===124||(a=!0,s+=1),d(k)}function d(k){return k===null?n(k):V(k)?s>1?(s=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),f):n(k):te(k)?ie(e,d,"whitespace")(k):(s+=1,a&&(a=!1,i+=1),k===124?(e.enter("tableCellDivider"),e.consume(k),e.exit("tableCellDivider"),a=!0,d):(e.enter("data"),u(k)))}function u(k){return k===null||k===124||de(k)?(e.exit("data"),d(k)):(e.consume(k),k===92?m:u)}function m(k){return k===92||k===124?(e.consume(k),u):u(k)}function f(k){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(k):(e.enter("tableDelimiterRow"),a=!1,te(k)?ie(e,p,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):p(k))}function p(k){return k===45||k===58?w(k):k===124?(a=!0,e.enter("tableCellDivider"),e.consume(k),e.exit("tableCellDivider"),y):$(k)}function y(k){return te(k)?ie(e,w,"whitespace")(k):w(k)}function w(k){return k===58?(s+=1,a=!0,e.enter("tableDelimiterMarker"),e.consume(k),e.exit("tableDelimiterMarker"),x):k===45?(s+=1,x(k)):k===null||V(k)?E(k):$(k)}function x(k){return k===45?(e.enter("tableDelimiterFiller"),S(k)):$(k)}function S(k){return k===45?(e.consume(k),S):k===58?(a=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(k),e.exit("tableDelimiterMarker"),v):(e.exit("tableDelimiterFiller"),v(k))}function v(k){return te(k)?ie(e,E,"whitespace")(k):E(k)}function E(k){return k===124?p(k):k===null||V(k)?!a||i!==s?$(k):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(k)):$(k)}function $(k){return n(k)}function _(k){return e.enter("tableRow"),M(k)}function M(k){return k===124?(e.enter("tableCellDivider"),e.consume(k),e.exit("tableCellDivider"),M):k===null||V(k)?(e.exit("tableRow"),t(k)):te(k)?ie(e,M,"whitespace")(k):(e.enter("data"),D(k))}function D(k){return k===null||k===124||de(k)?(e.exit("data"),M(k)):(e.consume(k),k===92?F:D)}function F(k){return k===92||k===124?(e.consume(k),D):D(k)}}function _1(e,t){let n=-1,r=!0,i=0,s=[0,0,0,0],a=[0,0,0,0],o=!1,l=0,c,d,u;const m=new y1;for(;++n<e.length;){const f=e[n],p=f[1];f[0]==="enter"?p.type==="tableHead"?(o=!1,l!==0&&(Ac(m,t,l,c,d),d=void 0,l=0),c={type:"table",start:Object.assign({},p.start),end:Object.assign({},p.end)},m.add(n,0,[["enter",c,t]])):p.type==="tableRow"||p.type==="tableDelimiterRow"?(r=!0,u=void 0,s=[0,0,0,0],a=[0,n+1,0,0],o&&(o=!1,d={type:"tableBody",start:Object.assign({},p.start),end:Object.assign({},p.end)},m.add(n,0,[["enter",d,t]])),i=p.type==="tableDelimiterRow"?2:d?3:1):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")?(r=!1,a[2]===0&&(s[1]!==0&&(a[0]=a[1],u=ni(m,t,s,i,void 0,u),s=[0,0,0,0]),a[2]=n)):p.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(a[0]=a[1],u=ni(m,t,s,i,void 0,u)),s=a,a=[s[1],n,0,0])):p.type==="tableHead"?(o=!0,l=n):p.type==="tableRow"||p.type==="tableDelimiterRow"?(l=n,s[1]!==0?(a[0]=a[1],u=ni(m,t,s,i,n,u)):a[1]!==0&&(u=ni(m,t,a,i,n,u)),i=0):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")&&(a[3]=n)}for(l!==0&&Ac(m,t,l,c,d),m.consume(t.events),n=-1;++n<t.events.length;){const f=t.events[n];f[0]==="enter"&&f[1].type==="table"&&(f[1]._align=b1(t.events,n))}return e}function ni(e,t,n,r,i,s){const a=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(s.end=Object.assign({},cn(t.events,n[0])),e.add(n[0],0,[["exit",s,t]]));const l=cn(t.events,n[1]);if(s={type:a,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",s,t]]),n[2]!==0){const c=cn(t.events,n[2]),d=cn(t.events,n[3]),u={type:o,start:Object.assign({},c),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",u,t]]),r!==2){const m=t.events[n[2]],f=t.events[n[3]];if(m[1].end=Object.assign({},f[1].end),m[1].type="chunkText",m[1].contentType="text",n[3]>n[2]+1){const p=n[2]+1,y=n[3]-n[2]-1;e.add(p,y,[])}}e.add(n[3]+1,0,[["exit",u,t]])}return i!==void 0&&(s.end=Object.assign({},cn(t.events,i)),e.add(i,0,[["exit",s,t]]),s=void 0),s}function Ac(e,t,n,r,i){const s=[],a=cn(t.events,n);i&&(i.end=Object.assign({},a),s.push(["exit",i,t])),r.end=Object.assign({},a),s.push(["exit",r,t]),e.add(n+1,0,s)}function cn(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const S1={name:"tasklistCheck",tokenize:C1};function v1(){return{text:{91:S1}}}function C1(e,t,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),s)}function s(l){return de(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),a):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),a):n(l)}function a(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):n(l)}function o(l){return V(l)?t(l):te(l)?e.check({tokenize:A1},t,n)(l):n(l)}}function A1(e,t,n){return ie(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function E1(e){return Ah([Yk(),l1(),g1(e),w1(),v1()])}const I1={};function j1(e){const t=this,n=e||I1,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),a=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(E1(n)),s.push(Kk()),a.push(Jk(n))}const Aa=(e,t)=>t.some(n=>e instanceof n);let Ec,Ic;function N1(){return Ec||(Ec=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function R1(){return Ic||(Ic=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ea=new WeakMap,zs=new WeakMap,Zi=new WeakMap;function P1(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",a)},s=()=>{n(Ut(e.result)),i()},a=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",a)});return Zi.set(t,e),t}function T1(e){if(Ea.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",a),e.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",a),e.addEventListener("abort",a)});Ea.set(e,t)}let Ia={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Ea.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ut(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function yf(e){Ia=e(Ia)}function M1(e){return R1().includes(e)?function(...t){return e.apply(ja(this),t),Ut(this.request)}:function(...t){return Ut(e.apply(ja(this),t))}}function L1(e){return typeof e=="function"?M1(e):(e instanceof IDBTransaction&&T1(e),Aa(e,N1())?new Proxy(e,Ia):e)}function Ut(e){if(e instanceof IDBRequest)return P1(e);if(zs.has(e))return zs.get(e);const t=L1(e);return t!==e&&(zs.set(e,t),Zi.set(t,e)),t}const ja=e=>Zi.get(e);function $1(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(e,t),o=Ut(a);return r&&a.addEventListener("upgradeneeded",l=>{r(Ut(a.result),l.oldVersion,l.newVersion,Ut(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const O1=["get","getKey","getAll","getAllKeys","count"],F1=["put","add","delete","clear"],qs=new Map;function jc(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(qs.get(t))return qs.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=F1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||O1.includes(n)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),i&&l.done]))[0]};return qs.set(t,s),s}yf(e=>({...e,get:(t,n,r)=>jc(t,n)||e.get(t,n,r),has:(t,n)=>!!jc(t,n)||e.has(t,n)}));const D1=["continue","continuePrimaryKey","advance"],Nc={},Na=new WeakMap,xf=new WeakMap,B1={get(e,t){if(!D1.includes(t))return e[t];let n=Nc[t];return n||(n=Nc[t]=function(...r){Na.set(this,xf.get(this)[t](...r))}),n}};async function*z1(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;const n=new Proxy(t,B1);for(xf.set(n,t),Zi.set(n,ja(t));t;)yield n,t=await(Na.get(n)||t.continue()),Na.delete(n)}function Rc(e,t){return t===Symbol.asyncIterator&&Aa(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&Aa(e,[IDBIndex,IDBObjectStore])}yf(e=>({...e,get(t,n,r){return Rc(t,n)?z1:e.get(t,n,r)},has(t,n){return Rc(t,n)||e.has(t,n)}}));const q1="github-stars-analysis-cache",U1=1,es="analyses",Pc=50;let Us=null;async function No(){return Us||(Us=$1(q1,U1,{upgrade(e){const t=e.createObjectStore(es,{keyPath:"id"});t.createIndex("by-repository","repositoryFullName"),t.createIndex("by-timestamp","timestamp")}})),Us}async function W1(e){try{const t=await No(),n=`${e.repositoryFullName}_${Date.now()}`;await t.put(es,{...e,id:n}),await H1()}catch(t){console.error("Failed to save analysis to cache:",t)}}async function bf(e){try{const i=await(await No()).transaction(es,"readonly").store.index("by-repository").getAll(e);return i.length===0?null:i.sort((s,a)=>a.timestamp-s.timestamp)[0]}catch(t){return console.error("Failed to get analysis from cache:",t),null}}async function H1(){try{const t=(await No()).transaction(es,"readwrite"),r=await t.store.index("by-timestamp").getAllKeys();if(r.length>Pc){const i=r.slice(0,r.length-Pc);for(const s of i){const a=await t.store.get(s);a&&await t.store.delete(a.id)}}await t.done}catch(e){console.error("Failed to cleanup old entries:",e)}}function V1({repository:e,isOpen:t,onClose:n,provider:r,apiKey:i}){const[s,a]=z.useState("no-analysis"),[o,l]=z.useState(""),[c,d]=z.useState(""),[u,m]=z.useState(0),[f,p]=z.useState(0),[y,w]=z.useState(""),[x,S]=z.useState(0),[v,E]=z.useState(""),$=z.useRef(null),_=z.useRef(null),M=z.useRef(0);z.useEffect(()=>(t&&e?F():D(),()=>{_.current&&clearInterval(_.current)}),[t,e]),z.useEffect(()=>{s==="analyzing"&&$.current&&($.current.scrollTop=$.current.scrollHeight)},[o,s]);const D=()=>{a("no-analysis"),l(""),d(""),m(0),p(0),w(""),S(0),E(""),_.current&&(clearInterval(_.current),_.current=null)},F=async()=>{if(!e)return;a("loading-cache");const U=await bf(e.full_name);U&&Date.now()-U.timestamp<7*24*60*60*1e3?(d(U.analysis),m(U.tokenCount),p(U.cost),E(U.model),a("complete")):k()},k=async()=>{if(!e||!i)return;a("analyzing"),l(""),w(""),M.current=Date.now(),_.current=setInterval(()=>{S(Math.floor((Date.now()-M.current)/1e3))},1e3);const U={provider:r,apiKey:i,model:ze(r).defaultModel};try{await Jg(e,U,{onToken:L=>{l(T=>T+L),m(T=>T+1)},onComplete:async L=>{_.current&&clearInterval(_.current),d(L.content),m(L.tokenCount),p(L.cost),E(L.model),a("complete"),await W1({repositoryFullName:e.full_name,repositoryUrl:e.html_url,analysis:L.content,model:L.model,provider:L.provider,tokenCount:L.tokenCount,cost:L.cost,timestamp:Date.now(),version:1})},onError:L=>{_.current&&clearInterval(_.current),w(L.message),a("error")}})}catch(L){_.current&&clearInterval(_.current),w(L instanceof Error?L.message:"Analysis failed"),a("error")}},j=()=>{if(!e||!c)return;const U=`# ${e.full_name} - Analysis

${c}

---

**Model:** ${v}
**Tokens:** ${u.toLocaleString()}
**Cost:** $${f.toFixed(4)}
**Date:** ${new Date().toISOString()}`,L=new Blob([U],{type:"text/markdown"}),T=URL.createObjectURL(L),X=document.createElement("a");X.href=T,X.download=`${e.name}-analysis.md`,X.click(),URL.revokeObjectURL(T)},N=U=>{const L=Math.floor(U/60),T=U%60;return`${L.toString().padStart(2,"0")}:${T.toString().padStart(2,"0")}`};return!t||!e?null:h.jsx("div",{className:"fixed inset-0 z-50 flex bg-black/50 backdrop-blur-sm",children:h.jsxs("div",{className:"ml-auto w-full max-w-4xl h-full bg-white dark:bg-neutral-900 shadow-2xl flex flex-col",children:[h.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-neutral-200 dark:border-neutral-700",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Bc,{className:"w-5 h-5 text-primary-500"}),h.jsx("h2",{className:"text-xl font-semibold text-neutral-900 dark:text-neutral-100",children:e.full_name})]}),h.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-neutral-600 dark:text-neutral-400",children:[s==="analyzing"&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(Ff,{className:"w-4 h-4"}),h.jsx("span",{children:N(x)})]}),h.jsx("div",{className:"flex items-center gap-1",children:h.jsxs("span",{className:"font-mono",children:[u.toLocaleString()," tokens"]})}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(Fo,{className:"w-4 h-4"}),h.jsxs("span",{children:["$",f.toFixed(4)]})]})]}),s==="complete"&&h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:"Complete"}),h.jsx("div",{className:"flex items-center gap-1",children:h.jsxs("span",{className:"font-mono",children:[u.toLocaleString()," tokens"]})}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(Fo,{className:"w-4 h-4"}),h.jsxs("span",{children:["$",f.toFixed(4)]})]})]})]})]}),h.jsx("button",{onClick:n,className:"p-2 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-700 transition-colors",children:h.jsx(xr,{className:"w-5 h-5"})})]}),h.jsxs("div",{ref:$,className:"flex-1 overflow-y-auto p-6",children:[s==="loading-cache"&&h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mx-auto"}),h.jsx("p",{className:"mt-4 text-neutral-600 dark:text-neutral-400",children:"Loading analysis..."})]})}),s==="analyzing"&&h.jsxs("div",{className:"prose dark:prose-invert max-w-none",children:[h.jsx("div",{className:"mb-4 p-3 bg-primary-50 dark:bg-primary-900/20 border border-primary-200 dark:border-primary-800 rounded-lg",children:h.jsx("div",{className:"flex items-center gap-2 text-primary-600 dark:text-primary-400",children:h.jsx("div",{className:"animate-pulse",children:"Analyzing..."})})}),h.jsxs("div",{className:"font-normal leading-relaxed",children:[o,h.jsx("span",{className:"inline-block w-2 h-5 bg-primary-500 animate-pulse ml-1"})]})]}),s==="complete"&&h.jsx("div",{className:"prose dark:prose-invert max-w-none",children:h.jsx(g0,{remarkPlugins:[j1],children:c})}),s==="error"&&h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsxs("div",{className:"text-center max-w-md",children:[h.jsx(Oc,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),h.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-2",children:"Analysis Failed"}),h.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mb-4",children:y}),h.jsx("button",{onClick:k,className:"px-6 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors",children:"Retry Analysis"})]})})]}),s==="complete"&&h.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-neutral-200 dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-800",children:[h.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:["Analyzed with ",h.jsx("span",{className:"font-mono",children:v})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsxs("button",{onClick:j,className:"flex items-center gap-2 px-4 py-2 rounded-lg border border-neutral-300 dark:border-neutral-600 hover:bg-neutral-100 dark:hover:bg-neutral-700 transition-colors",children:[h.jsx(qf,{className:"w-4 h-4"}),"Export"]}),h.jsx("button",{onClick:k,className:"px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors",children:"Re-analyze"})]})]})]})})}function G1(){const[e,t]=z.useState(!1);return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"fixed bottom-6 right-6 z-40",children:h.jsxs("button",{onClick:()=>t(!0),className:fe("flex items-center gap-2 px-4 py-2 rounded-full","bg-green-50 dark:bg-green-900/20","border border-green-200 dark:border-green-800","hover:bg-green-100 dark:hover:bg-green-900/30","transition-all shadow-lg"),children:[h.jsx(Ws,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),h.jsx("span",{className:"text-sm font-medium text-green-900 dark:text-green-100",children:"100% Private"}),h.jsx(Dc,{className:"w-3 h-3 text-green-600 dark:text-green-400"})]})}),e&&h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:h.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-2xl shadow-2xl w-full max-w-lg",children:[h.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-neutral-200 dark:border-neutral-700",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Ws,{className:"w-6 h-6 text-green-600 dark:text-green-400"}),h.jsx("h2",{className:"text-xl font-semibold text-neutral-900 dark:text-neutral-100",children:"Privacy & Security"})]}),h.jsx("button",{onClick:()=>t(!1),className:"p-2 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-700 transition-colors",children:h.jsx(xr,{className:"w-5 h-5"})})]}),h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-neutral-900 dark:text-neutral-100 mb-3",children:"What's Stored in Your Browser"}),h.jsxs("ul",{className:"space-y-2 text-sm text-neutral-600 dark:text-neutral-400",children:[h.jsxs("li",{className:"flex items-start gap-2",children:[h.jsx("span",{className:"text-green-600 dark:text-green-400 mt-0.5",children:"âœ“"}),h.jsx("span",{children:"API keys (encrypted with Web Crypto API)"})]}),h.jsxs("li",{className:"flex items-start gap-2",children:[h.jsx("span",{className:"text-green-600 dark:text-green-400 mt-0.5",children:"âœ“"}),h.jsx("span",{children:"Analysis results cache (IndexedDB)"})]}),h.jsxs("li",{className:"flex items-start gap-2",children:[h.jsx("span",{className:"text-green-600 dark:text-green-400 mt-0.5",children:"âœ“"}),h.jsx("span",{children:"User preferences (theme, filters)"})]})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-neutral-900 dark:text-neutral-100 mb-3",children:"What Never Leaves Your Browser"}),h.jsxs("ul",{className:"space-y-2 text-sm text-neutral-600 dark:text-neutral-400",children:[h.jsxs("li",{className:"flex items-start gap-2",children:[h.jsx("span",{className:"text-green-600 dark:text-green-400 mt-0.5",children:"âœ“"}),h.jsx("span",{children:"Your API keys (never sent to our servers)"})]}),h.jsxs("li",{className:"flex items-start gap-2",children:[h.jsx("span",{className:"text-green-600 dark:text-green-400 mt-0.5",children:"âœ“"}),h.jsx("span",{children:"Repository analysis results"})]}),h.jsxs("li",{className:"flex items-start gap-2",children:[h.jsx("span",{className:"text-green-600 dark:text-green-400 mt-0.5",children:"âœ“"}),h.jsx("span",{children:"User search history"})]})]})]}),h.jsxs("div",{className:"p-4 bg-neutral-50 dark:bg-neutral-900 rounded-xl",children:[h.jsx("h3",{className:"font-semibold text-neutral-900 dark:text-neutral-100 mb-2",children:"Direct Browser-to-API Communication"}),h.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"All LLM analysis requests go directly from your browser to OpenAI/Anthropic. We never see your API keys or analysis content."})]}),h.jsxs("div",{className:"pt-4 border-t border-neutral-200 dark:border-neutral-700",children:[h.jsx("h3",{className:"font-semibold text-neutral-900 dark:text-neutral-100 mb-2",children:"Clear All Data"}),h.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mb-3",children:"You can clear all locally stored data at any time from your browser settings or by using the clear data option in app settings."})]})]}),h.jsx("div",{className:"p-6 border-t border-neutral-200 dark:border-neutral-700",children:h.jsx("button",{onClick:()=>t(!1),className:"w-full py-2 px-4 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors font-medium",children:"Got It"})})]})})]})}function K1(){const[e,t]=z.useState([]),[n,r]=z.useState([]),[i,s]=z.useState(!1),[a,o]=z.useState(null),[l,c]=z.useState(null),[d,u]=z.useState(""),[m,f]=z.useState(""),[p,y]=z.useState([]),[w,x]=z.useState([]),[S,v]=z.useState([1,10]),[E,$]=z.useState("updated"),[_,M]=z.useState(!1),[D,F]=z.useState(!1),[k,j]=z.useState("openai"),[N,U]=z.useState(""),[L,T]=z.useState(!1),[X,ce]=z.useState(null),[we,pe]=z.useState(new Set);z.useEffect(()=>{b(),K()},[]);const b=async()=>{const re=["openai","anthropic","zai","google","deepseek","mistral","cohere"];for(const ve of re){const Er=localStorage.getItem(`llm_key_${ve}`);if(Er)try{const Gt=await ri(Er);j(ve),U(Gt),F(!0);return}catch(Gt){console.error(`Failed to decrypt ${ve} key:`,Gt)}}const oe=localStorage.getItem("openai_key"),$e=localStorage.getItem("anthropic_key");if(oe)try{const ve=await ri(oe);j("openai"),U(ve),F(!0)}catch(ve){console.error("Failed to decrypt OpenAI key:",ve)}else if($e)try{const ve=await ri($e);j("anthropic"),U(ve),F(!0)}catch(ve){console.error("Failed to decrypt Anthropic key:",ve)}},K=async()=>{pe(new Set)},ae=async(re,oe,$e)=>{j(re),U(oe),F(!0)},g=re=>{if(!D){M(!0);return}ce(re),T(!0)},ge=async re=>{s(!0),o(null),t([]),r([]),y([]),x([]),f(""),v([1,10]);try{const oe=mn.extractUsername(re);u(oe);const $e=await mn.fetchUserStars(oe),ve=Om($e);t(ve),r(ve),await Le(ve)}catch(oe){o(oe instanceof Error?oe.message:"Failed to fetch repositories")}finally{s(!1)}},Le=async re=>{const oe=new Set;for(const $e of re)await bf($e.full_name)&&oe.add($e.full_name);pe(oe)};z.useEffect(()=>{let re=$m(e,{search:m,categories:p,languages:w,qualityMin:S[0],qualityMax:S[1]});re=Lm(re,E),r(re)},[e,m,p,w,S,E]);const ke=re=>{y(oe=>oe.includes(re)?oe.filter($e=>$e!==re):[...oe,re])},Mt=re=>{x(oe=>oe.includes(re)?oe.filter($e=>$e!==re):[...oe,re])},lt=()=>{f(""),y([]),x([]),v([1,10])},vt=e.length===0&&!i;return h.jsxs("div",{className:"min-h-screen bg-neutral-50 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100",children:[h.jsx(Dm,{onAPIKeyClick:()=>M(!0),hasAPIKey:D}),vt?h.jsx(Bm,{onSearch:ge,isLoading:i,error:a}):h.jsxs(h.Fragment,{children:[e.length>0&&h.jsx("div",{className:"sticky top-16 z-30 bg-neutral-50 dark:bg-neutral-900 border-b border-neutral-200 dark:border-neutral-700 py-4",children:h.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"text-center",children:[h.jsxs("h2",{className:"text-xl font-semibold text-neutral-900 dark:text-neutral-100",children:[d,"'s Starred Repositories"]}),h.jsxs("p",{className:"text-neutral-600 dark:text-neutral-400 mt-1",children:[n.length," of ",e.length," repositories"]})]})})}),e.length>0&&h.jsx(zm,{repositories:e,searchTerm:m,onSearchChange:f,selectedCategories:p,onCategoryToggle:ke,selectedLanguages:w,onLanguageToggle:Mt,qualityRange:S,onQualityRangeChange:v,sortBy:E,onSortChange:$,onClearFilters:lt}),e.length>0&&h.jsx(qm,{repositories:e}),h.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:i?h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:9}).map((re,oe)=>h.jsx(Hm,{},oe))}):n.length>0?h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(re=>h.jsx(Um,{repository:re,onClick:c,onAnalyze:g,hasAnalysis:we.has(re.full_name)},re.id))}):e.length>0?h.jsx(Vm,{}):null})]}),h.jsx(Wm,{repository:l,isOpen:!!l,onClose:()=>c(null)}),h.jsx(ry,{isOpen:_,onClose:()=>M(!1),onProviderSelected:ae}),h.jsx(V1,{repository:X,isOpen:L,onClose:()=>{T(!1),ce(null),e.length>0&&Le(e)},provider:k,apiKey:N}),h.jsx(G1,{})]})}function J1(){return h.jsx(Zf,{children:h.jsx(K1,{})})}Pf.createRoot(document.getElementById("root")).render(h.jsx(z.StrictMode,{children:h.jsx(Mf,{children:h.jsx(J1,{})})}));
